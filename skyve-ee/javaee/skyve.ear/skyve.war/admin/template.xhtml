<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
				xmlns:ui="http://java.sun.com/jsf/facelets"
				xmlns:f="http://java.sun.com/jsf/core"
				xmlns:h="http://java.sun.com/jsf/html"
				xmlns:p="http://primefaces.org/ui" 
				template="/admin.xhtml">
	<ui:define name="head">
		<title>${project.description}</title>
		<link rel="icon" type="image/png" href="images/window/skyve_fav.png" />
		<link type="text/css" rel="stylesheet" href="css/prime-min.css?v=#{bean.webResourceFileVersion}" />
		<h:outputStylesheet name="css/admin.css" library="skyve" />
		<script type="text/javascript" src="prime/skyve-min.js?v=#{bean.webResourceFileVersion}"></script>
		<script type="text/javascript">
			#{bean.apiScript}
		</script>
		<style>
			.content-header {
				display: none;
			}
			.ui-panelmenu .ui-panelmenu-content {
				background-color: transparent;
				border: none;
			}
			.ui-datatable th {
				font-size: larger;
			}
		</style>
		<script type="text/javascript">
			$(document).ready(function() {
				$('body').addClass('fixed');
			});
		</script>
	</ui:define>

	<ui:define name="logo">
		<h:graphicImage name="images/skyve_inv.png" library="skyve" />
    </ui:define>

	<ui:define name="logo-mini">
		<h:graphicImage name="images/skyve_inv_logo.png" library="skyve" />
    </ui:define>

	<ui:define name="menu">
			<ul class="sidebar-menu tree" data-widget="tree">
				<li>
					<h:form id="menuform" prependId="false">
						<p:remoteCommand name="setUxUi" actionListener="#{bean.setUxUi('desktop')}" ignoreAutoUpdate="true" onsuccess="location.reload()" process="@this" update="@none" />
						<p:panelMenu widgetVar="leftMenu" id="leftMenu" model="#{menu.menu}" />
					</h:form>
				</li>
			</ul>
	</ui:define>

	<ui:define name="center-header">
		<p:outputPanel id="title" style="padding-top:10px;font-size:x-large;">
			#{bean.title}
			<p:autoUpdate />
		</p:outputPanel>
	</ui:define>
	
	<ui:define name="top-menu">
		<ui:include src="./topbar.xhtml" />
	</ui:define>

	<ui:define name="controlsidebar-tabs">
<!--
		<li>
			<a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a>
		</li>
		<li>
			<a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a>
		</li>
-->
	</ui:define>

	<ui:define name="controlsidebar-content">
<!--
		<ui:include src="./controlsidebar-tabs-content.xhtml" />
-->
	</ui:define>

	<ui:define name="content-begin">
		<h:panelGroup styleClass="skyveEnvBanner skyveTopEnvBanner" rendered="#{not empty bean.environmentIdentifier}">#{bean.environmentIdentifier}</h:panelGroup>
		<h:panelGroup styleClass="skyveEnvBanner skyveBottomEnvBanner" rendered="#{not empty bean.environmentIdentifier}">#{bean.environmentIdentifier}</h:panelGroup>

		<p:messages id="messages1" widgetVar="messages" globalOnly="true" escape="false">
			<p:autoUpdate />
		</p:messages>
		<p:growl id="growl" widgetVar="growl" globalOnly="true" escape="false">
			<p:autoUpdate />
		</p:growl>
		<p:tooltip id="help" widgetVar="help" globalSelector="i" escape="false" />
		<p:confirmDialog id="confirm" global="true">
			<p:commandButton id="confirmCancel" 
								value="Cancel" 
								type="button"
								styleClass="ui-confirmdialog-no" 
								style="float:right;"
								icon="fa fa-remove" />
			<p:commandButton id="confirmOK" 
								value="OK" 
								type="button"
								styleClass="ui-confirmdialog-yes" 
								style="float:right;"
								icon="fa fa-check" />
		</p:confirmDialog>
		<p:ajaxStatus style="width:32px;height:32px;position:fixed;right:7px;bottom:7px">
			<f:facet name="start">
				<i id="busy" class="fa fa-2x fa-circle-o-notch fa-spin ajax-loader" aria-hidden="true"></i>
			</f:facet>
			<f:facet name="complete">
				<h:outputText value="" />
			</f:facet>
		</p:ajaxStatus>
	</ui:define>

	<ui:define name="footer">
		<a target="_blank" href="https://www.skyve.org/"><span><i class="fa fa-copyright"></i> All Rights Reserved</span></a>

		<div class="pull-right hidden-xs" style="color: gray">
        	<span>Version ${project.version}</span>
		</div>
	</ui:define>
</ui:composition>