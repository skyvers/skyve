/*
 * Isomorphic SmartClient
 * Version v10.0p_2014-09-10 (2014-09-10)
 * Copyright(c) 1998 and beyond Isomorphic Software, Inc. All rights reserved.
 * "SmartClient" is a trademark of Isomorphic Software, Inc.
 *
 * licensing@smartclient.com
 *
 * http://smartclient.com/license
 */

if(window.isc&&window.isc.module_Core&&!window.isc.module_Drawing){isc.module_Drawing=1;isc._moduleStart=isc._Drawing_start=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc._moduleEnd&&(!isc.Log||(isc.Log&&isc.Log.logIsDebugEnabled('loadTime')))){isc._pTM={message:'Drawing load/parse time: '+(isc._moduleStart-isc._moduleEnd)+'ms',category:'loadTime'};if(isc.Log&&isc.Log.logDebug)isc.Log.logDebug(isc._pTM.message,'loadTime');else if(isc._preLog)isc._preLog[isc._preLog.length]=isc._pTM;else isc._preLog=[isc._pTM]}isc.definingFramework=true;if(window.isc&&isc.version!="v10.0p_2014-09-10/LGPL Development Only"){isc.logWarn("SmartClient module version mismatch detected: This application is loading the core module from SmartClient version '"+isc.version+"' and additional modules from 'v10.0p_2014-09-10/LGPL Development Only'. Mixing resources from different SmartClient packages is not supported and may lead to unpredictable behavior. If you are deploying resources from a single package you may need to clear your browser cache, or restart your browser."+(isc.Browser.isSGWT?" SmartGWT developers may also need to clear the gwt-unitCache and run a GWT Compile.":""))}
isc.Browser.hasCANVAS=isc.Browser.geckoVersion>=20051107||isc.Browser.safariVersion>=181||isc.Browser.isIE9||(!isc.Browser.isIE&&typeof(document.createElement("canvas").getContext)==="function");isc.Browser.hasSVG=isc.Browser.geckoVersion>=20051107;isc.Browser.hasVML=isc.Browser.isIE&&isc.Browser.version>=5;isc.Browser.defaultDrawingType=isc.Browser.hasCANVAS?"bitmap":isc.Browser.hasVML?"vml":"none";isc.$100f="http://www.w3.org/1999/xlink";isc.$100g="http://www.w3.org/2000/svg";isc.ClassFactory.defineClass("VMLRenderer");isc.A=isc.VMLRenderer;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$125g="solid";isc.A.$1364=" stroked='f'";isc.A.$1365=" filled='f'";isc.A.$125o="butt";isc.A.$125p="flat";isc.A.$27r="none";isc.A.$125j="STROKE";isc.A.$125m="FILL";isc.A.$125n="SHADOW";isc.A.$152y="SKEW";isc.A.$152z=/^(solid|dot|dash|dashdot|shortdot|(short|long)dash(dot){0,2}|\d+( +\d+)*)$/i;isc.A.$1520=/^(flat|square|round)$/i;isc.A.$1521=/^(none|block|classic|diamond|oval|open|chevron|doublechevron)$/i;isc.A.shapeConfigCommonPropertiesList=["left","top","width","height","lineWidth","lineOpacity","fillOpacity","src","lineColor","linePattern","startArrow","endArrow","lineCap","fillColor","textAlign","fontFamily","fontSize","fontWeight","fontStyle","contents","points","$145i","fillGradient","shadow"];isc.A.shapeConfigAllPropertiesList=["left","top","width","height","arcsize","startangle","endangle","fromX","fromY","toX","toY","control1X","control1Y","control2X","control2Y","lineWidth","lineOpacity","fillOpacity","alt","src","lineColor","linePattern","startArrow","endArrow","lineCap","fillColor","textAlign","fontFamily","fontSize","fontWeight","fontStyle","visibility","contents","points","$145i","stroked","filled","closePolyline","useMatrixFilter","transform","getBoundingBox","$830","$126a","fillGradient","shadow"];isc.A.$1522={$1523:null,$1524:1,$1525:function(_1,_2,_3){this.$1523=_1;this.$1524=this.$1523.scale;this.$155f=_2;this.$155g=_3;return this},m:function(_1,_2,_3){var _4=this.$1524;this.$1523.buffer.append((_3?"t":"m"),Math.round(_4*(_1+this.$155f)),",",Math.round(_4*(_2+this.$155g)))},l:function(_1,_2,_3){var _4=this.$1524;this.$1523.buffer.append((_3?"r":"l"),Math.round(_4*(_1+this.$155f)),",",Math.round(_4*(_2+this.$155g)))},ls:function(_1,_2,_3,_4){var _5=this.$1524,_6=this.$155f,_7=this.$155g,_8=this.$1523.buffer,_9=_1[_2];_8.append((_4?"r":"l"),Math.round(_5*(_9[0]+_6)),",",Math.round(_5*(_9[1]+_7)));for(var i=_2+1;i<_3;++i){var _9=_1[i];_8.append(",",Math.round(_5*(_9[0]+_6)),",",Math.round(_5*(_9[1]+_7)))}},c:function(_1,_2,_3,_4,_5,_6,_7){var _8=this.$1524,_9=this.$155f,_10=this.$155g,_11=(_7?"v":"c");this.$1523.buffer.append(_11,Math.round(_8*(_1+_9)),",",Math.round(_8*(_2+_10)),",",Math.round(_8*(_3+_9)),",",Math.round(_8*(_4+_10)),",",Math.round(_8*(_5+_9)),",",Math.round(_8*(_6+_10)))},cs:function(_1,_2,_3,_4){var _5=this.$1524,_6=this.$155f,_7=this.$155g,_8=this.$1523.buffer,_9=_1[_2],_10=_1[_2+1],_11=_1[_2+2],_12=(_4?"v":"c");_8.append(_12,Math.round(_5*(_9[0]+_6)),",",Math.round(_5*(_9[1]+_7)),",",Math.round(_5*(_10[0]+_6)),",",Math.round(_5*(_10[1]+_7)),",",Math.round(_5*(_11[0]+_6)),",",Math.round(_5*(_11[1]+_7)));for(var i=_2+3;i<_3;i+=3){var _9=_1[i],_10=_1[i+1],_11=_1[i+2];_8.append(",",Math.round(_5*(_9[0]+_6)),",",Math.round(_5*(_9[1]+_7)),",",Math.round(_5*(_10[0]+_6)),",",Math.round(_5*(_10[1]+_7)),",",Math.round(_5*(_11[0]+_6)),",",Math.round(_5*(_11[1]+_7)))}},x:function(){this.$1523.buffer.append("x")},ae:function(_1,_2,_3,_4,_5,_6){var _7=this.$1524,_8=this.$155f,_9=this.$155g,_10=this.$1523.precision,_11=this.$1523.buffer;_11.append("ae",Math.round(_7*(_1+_8)),",",Math.round(_7*(_2+_9)),",",Math.round(_7*_3),",",Math.round(_7*_4),",",Math.round(65536*_5),",",Math.round(65536*_6))},aes:function(_1,_2,_3){var _4=this.$1524,_5=this.$155f,_6=this.$155g,_7=this.$1523.precision,_8=this.$1523.buffer,_9=_1[_2],r=_1[_2+1],_11=_1[_2+2],_12=_1[_2+3]-_11,_13=Math.round(_4*r);_8.append("ae",Math.round(_4*(_9[0]+_5)),",",Math.round(_4*(_9[1]+_6)),",",_13,",",_13,",",Math.round(65536*_11),",",Math.round(65536*_12));for(var i=_2+4;i<_3;i+=4){var _9=_1[i],r=_1[i+1],_11=_1[i+2],_12=_1[i+3]-_11;_8.append(",",Math.round(_4*(_9[0]+_5)),",",Math.round(_4*(_9[1]+_6)),",",_13,",",_13,",",Math.round(65536*_11),",",Math.round(65536*_12))}},al:function(_1,_2,_3,_4,_5,_6){var _7=this.$1524,_8=this.$155f,_9=this.$155g,_10=this.$1523.precision,_11=this.$1523.buffer;_11.append("al",Math.round(_7*(_1+_8)),",",Math.round(_7*(_2+_9)),",",Math.round(_7*_3),",",Math.round(_7*_4),",",Math.round(65536*_5),",",Math.round(65536*_6))},e:function(){this.$1523.buffer.append("e")},t:function(_1,_2){this.m(_1,_2,true)},r:function(_1,_2){this.l(_1,_2,true)},rs:function(_1,_2,_3){this.ls(_1,_2,_3,true)},v:function(_1,_2,_3,_4,_5,_6){this.c(_1,_2,_3,_4,_5,_6,true)},vs:function(_1,_2,_3){this.cs(_1,_2,_3,true)},nf:function(){this.$1523.buffer.append("nf")},ns:function(){this.$1523.buffer.append("ns")}};isc.A.$1552={left:0,top:0,width:0,height:0,coordorigin0:0,coordorigin1:0,coordsize0:0,coordsize1:0};isc.A.$1553={alpha:0,beta:0,minP:0,maxP:0,minQ:0,maxQ:0,count:0,bestEpsilon:0,secondBestEpsilon:0,bestP:0,secondBestP:0,bestQ:0,secondBestQ:0,bestDelta:0,bestLeft:0,bestWidth:0,bestCoordorigin0:0,bestCoordsize0:0};isc.B.push(isc.A.shapeConfig=function isc_c_VMLRenderer_shapeConfig(){this.left=this.top=this.width=this.height=0;this.arcsize=this.startangle=this.endangle=0;this.fromX=this.fromY=this.toX=this.toY=0;this.control1X=this.control1Y=this.control2X=this.control2Y=0;this.lineWidth=0;this.lineOpacity=this.fillOpacity=0;this.alt=null;this.src=null;this.lineColor=this.linePattern=this.startArrow=this.endArrow=this.lineCap=null;this.fillColor=null;this.textAlign=this.fontFamily=this.fontSize=this.fontWeight=this.fontStyle=null;this.visibility=null;this.contents=null;this.points=null;this.$145i=null;this.stroked=this.filled=false;this.closePolyline=false;this.useMatrixFilter=false;this.transform=null;this.getBoundingBox=null;this.$830=null;this.$126a=null;this.fillGradient=null;this.shadow=null},isc.A.drawItemToShapeConfig=function isc_c_VMLRenderer_drawItemToShapeConfig(_1,_2){isc.getProperties(_1,isc.VMLRenderer.shapeConfigCommonPropertiesList,_2);if(_1.lineCap==isc.VMLRenderer.$125o){_2.lineCap=isc.VMLRenderer.$125p}
if(!_1.startArrow){_2.startArrow=isc.VMLRenderer.$27r}
if(!_1.endArrow){_2.endArrow=isc.VMLRenderer.$27r}
_2.stroked=_1.$125h();_2.filled=_1.$125k();_2.transform=_1.$1339();_2.$1526=_1;_2.getBoundingBox=function(_3,_4){var _1=this.$1526;return _1.getBoundingBox.apply(_1,arguments)};_2.$830=function(_3,_4){var _1=this.$1526;return _1.$830.apply(_1,arguments)};_2.$126a=function(_3){var _1=this.$1526;return _1.$126a.apply(_1,arguments)};_2.visibility=(_1.hidden?"hidden":"visible")},isc.A.$1527=function isc_c_VMLRenderer__roundrectGetPathVML(_1){var _2=this.left,_3=this.width,_4=_2+_3,_5=this.top,_6=this.height,_7=_5+_6,_8=this.arcsize;if(_8==0){_1.m(_2,_5);_1.l(_4,_5);_1.l(_4,_7);_1.l(_2,_7);_1.x()}else{var _9=_8*Math.min(_3,_6);_1.al(_2+_9,_5+_9,_9,_9,90,90);_1.l(_2,_7-_9);_1.ae(_2+_9,_7-_9,_9,_9,180,90);_1.l(_4-_9,_7);_1.ae(_4-_9,_7-_9,_9,_9,270,90);_1.l(_4,_5+_9);_1.ae(_4-_9,_5+_9,_9,_9,0,90);_1.x()}},isc.A.$1528=function isc_c_VMLRenderer__lineGetPathVML(_1){_1.m(this.fromX,this.fromY);_1.l(this.toX,this.toY)},isc.A.$1529=function isc_c_VMLRenderer__polylineGetPathVML(_1){var _2=this.points;_1.m(_2[0][0],_2[0][1]);_1.ls(_2,1,_2.length);if(this.closePolyline){_1.l(_2[0][0],_2[0][1])}},isc.A.$153a=function isc_c_VMLRenderer__curveGetPathVML(_1){_1.m(this.fromX,this.fromY);_1.c(this.control1X,this.control1Y,this.control2X,this.control2Y,this.toX,this.toY)},isc.A.$153b=function isc_c_VMLRenderer__arcGetPathVML(_1){var _2=this.left,_3=this.width,_4=this.left+this.width,_5=this.top,_6=this.height,_7=this.top+this.height;_1.al((_2+_4)/2,(_5+_7)/2,_3/2,_6/2,this.startangle,this.endangle)},isc.A.$1554=function isc_c_VMLRenderer__fitBlockCoordinateSystem(_1,_2,_3,_4){var _5=isc.VMLRenderer.$1552;var _6=-21474836,_7=21474836;isc.VMLRenderer.$1555(_2,_4,_6,_7,_5);_5.top=_5.left;_5.height=_5.width;_5.coordorigin1=_5.coordorigin0;_5.coordsize1=_5.coordsize0;isc.VMLRenderer.$1555(_1,_3,_6,_7,_5);return _5},isc.A.$1555=function isc_c_VMLRenderer__fitBlockCoordinateSystemHelper(_1,_2,_3,_4,_5){if(_1==0){_5.left=Math.round(_2);_5.width=0;_5.coordorigin0=0;_5.coordsize0=1;return}
var _6=isc.VMLRenderer.$1553,_7=isc.VMLRenderer.$1556;_6.alpha=_1;_6.beta=-_2;_6.minP=_6.minQ=_3;_6.maxP=_6.maxQ=_4;_6.count=0;var _8=30;if(_2==0){var _9=_1;if(_9!=Math.floor(_9)&&2*_9==Math.floor(2*_9)){if(2*_9<_4){_6.bestP=2*_9;_6.bestQ=2}else if(-2*_9>_3){_6.bestP=-2*_9;_6.bestQ=-2}else if(Math.floor(_9)<_4){_6.bestP=Math.floor(_9);_6.bestQ=1}else{_6.bestP=-Math.floor(_9);_6.bestQ=-1}}else{var _10=_9,_11=-1,_12=0,_13=1,_14=1,_15=0,p=0,q=0,_18=(-_3>_4?-1:1),_19=Math.min(-_3,_4);for(var n=0;n<_8&&q<=_19&&_11!=0;++n){var _21=Math.floor(-_10/_11),_22=_10+_21*_11;p=_12+_21*_13;q=_14+_21*_15;_7(_6,_18*p,_18*q);_12=_13;_13=p;_14=_15;_15=q;_10=_11;_11=_22}}
_6.secondBestP=_6.secondBestQ=0}else{for(var j=-1;j<=1;j+=2){var _24=_3,_25=_4,_26=0,_19=_4;if(j==1){_24=-_4;_25=_19=-_3}
var _9=_1,_27=-(j*_2),n=0,_10=_9,_11=-1,_12=0,_13=1,_14=1,_15=0,_28=0,p=0,q=0,_29=-_27,_30=false;for(;n<_8&&q<=_19&&_11!=0&&_29!=0;++n){var a=Math.floor(-_10/_11),_32=_12+a*_13,_33=_14+a*_15,_22=_10+a*_11;_28=q;if(q<=_15){var b=Math.floor(-(_29+_10)/_11);p+=_12+b*_13;q+=_14+b*_15;_29+=_10+b*_11;_30=true;_7(_6,j*p,j*q)}else{p-=_13;q-=_15;_29-=_11;_30=false}
_12=_13;_13=_32;_14=_15;_15=_33;_10=_11;_11=_22}
if(_30&&_29!=0){_7(_6,j*(p+_12),j*(q+_14))}
if(_11!=0&&!(n<_8&&_29!=0)){var _35=_11;for(var q=_28+1;n<_8&&q<=_19&&(_35!=0||_29!=0);++n,++q){var _36=q*_9,r=Math.round(_36),_38=_36-_27,p=Math.round(_38);_35=_36-r;_29=_38-p;_7(_6,j*p,j*q)}}}
_7(_6,0,Math.round(-_2/_1))}
_5.left=_6.bestLeft;_5.width=_6.bestWidth;_5.coordorigin0=_6.bestCoordorigin0;_5.coordsize0=_6.bestCoordsize0},isc.A.$1556=function isc_c_VMLRenderer__checkBlookCoordinateSystem(_1,_2,_3){if(_1.minP<=_2&&_2<=_1.maxP&&_1.minQ<=_3&&_3<=_1.maxQ){var _4=Math.abs(_3*_1.alpha-_2-_1.beta),_5=(_1.count==0||(!(_2==_1.bestP&&_3==_1.bestQ)&&(_1.count==1||!(_2==_1.secondBestP&&_3==_1.secondBestQ))&&_4<=_1.bestEpsilon)),_6=(!_5&&!(_2==_1.bestP&&_3==_1.bestQ)&&(_1.count==1||(!(_2==_1.secondBestP&&_3==_1.secondBestQ)&&_4<=_1.secondBestEpsilon)));if(_5||_6){for(var i=0;i<_1.count;++i){var _8=_2,_9=(i==0?_1.bestP:_1.secondBestP)-_2,_10=_3,_11=(i==0?_1.bestQ:_1.secondBestQ)-_3;if(_11<0){_8+=_9;_10+=_11;_9=-_9;_11=-_11}
var _12=0;if(_11!=0){_12=Math.abs(_9/_11-_1.alpha)}
if(_1.count==2||_1.bestCoordsize0==0||(_11!=0&&_12<_1.bestDelta))
{_1.bestDelta=_12;_1.bestLeft=_8;_1.bestWidth=_9;_1.bestCoordsize0=_11;_1.bestCoordorigin0=_10}}
++_1.count;if(_5){_1.secondBestEpsilon=_1.bestEpsilon;_1.secondBestP=_1.bestP;_1.secondBestQ=_1.bestQ;_1.bestEpsilon=_4;_1.bestP=_2;_1.bestQ=_3}else{_1.secondBestEpsilon=_4;_1.secondBestP=_2;_1.secondBestQ=_3}}}});isc.B._maxIndex=isc.C+10;isc.A=isc.VMLRenderer.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.addPropertiesOnCreate=false;isc.A.$155h={matrix:null,offset:null};isc.B.push(isc.A.init=function isc_VMLRenderer_init(_1,_2,_3){this.drawPane=_1;this.startTagVML=_1.startTagVML;this.endTagVML=_1.endTagVML;this.buffer=null;this.scale=_2;this.precision=Math.ceil(_3);this.rotationPrecision=6;this.matrixFilterPrecision=6;this.skewOffsetPrecision=6;this.shadowOffsetPrecision=0;this.fillAnglePrecision=3;this.$155i=true;this.updatedGlobalTransform(true);delete this.$155i},isc.A.$155j=function isc_VMLRenderer__isTranslation(_1){return(_1==null||(_1.m00==1&&_1.m01==0&&_1.m10==0&&_1.m11==1))},isc.A.updatedGlobalTransform=function isc_VMLRenderer_updatedGlobalTransform(){var _1=this.drawPane.zoomLevel||0,_2=this.drawPane.rotation||0,_3=_2*Math.PI/180;var _4=(!this.$155i&&this.$155k==_1&&Math.abs(this.$155l-_2)%360==0);var s=Math.sin(2*_3),c=Math.cos(2*_3);this.$155k=_1;this.$155l=_2;this.$125z=Math.sin(_3);this.$1250=Math.cos(_3);this.$155m=(c+1)/2;this.$155n=s/2;this.$155o=(c-1)/2;if(this.$155i){return}
var _7=this.drawPane.drawItems,_8=(_7?_7.length:0),_9=[{drawItems:_7,numDrawItems:_8,index:0}],_10=1;while(_10>0){var s=_9[_10-1];_7=s.drawItems;_8=s.numDrawItems;for(var i=s.index;i<_8;++i){var _12=_7[i];if(isc.isA.DrawGroup(_12)){s.index=i+1;_7=_12.drawItems;_9[_10++]={drawItems:_7,numDrawItems:(_7?_7.length:0),index:0};i=_8+1}else if(_12!=null){var _13=_12.$154s;if(_13!=null&&!(_4&&_13.$153r==0&&_13.$153s==0&&this.$155j(_13.$154k.transform)))
{_13.setProperty("transform",undefined,true).flush()}}}
if(i==_8){--_10}}},isc.A.$155p=function isc_VMLRenderer__getXTranslation(_1){if(_1==null)return 0;var _2=(_1.m02||0),_3=(_1.m12||0);return(this.$1250*_2-this.$125z*_3)},isc.A.$155q=function isc_VMLRenderer__getYTranslation(_1){if(_1==null)return 0;var _2=(_1.m02||0),_3=(_1.m12||0);return(this.$125z*_2+this.$1250*_3)},isc.A.$153d=function isc_VMLRenderer__writeIdAndAlt(_1,_2){if(_1!=null){this.buffer.append(" ID='",_1,"'")}
if(_2!=null){this.buffer.append(" ALT='",String.asAttValue(_2,false,false),"'")}},isc.A.$153e=function isc_VMLRenderer__writeStyle(_1,_2,_3){var _4=this.buffer,_5=(_2=="GROUP");if(_5||_2=="SHAPE"){var n=(50*this.scale).toFixed(0);_4.append(" COORDORIGIN='-",n,",-",n,"' COORDSIZE='",n,",",n,"' STYLE='left:-",n,"px;top:-",n,"px;width:",n,"px;height:",n,"px;")}else{_4.append(" STYLE='")}
_4.append("position:absolute;");if(!_5){_4.append("visibility:",String.$152x(_1.visibility),";")}
if(!_3){_4.append("'")}},isc.A.$1557=function isc_VMLRenderer__writeImageGroupStart(_1,_2){var _3=this.drawPane.zoomLevel||0,_4=(this.drawPane.rotation?this.drawPane.rotation*Math.PI/180:0),_5=0,_6=0;if(this.drawPane.translate){_5=this.drawPane.translate[0]||0;_6=this.drawPane.translate[1]||0}
var _7=_2.transform,_8=isc.DrawItem.$145r(_7,0,0),_9=_8.theta,_10=_8.h00,_11=_8.h02,_12=_8.h11,_13=_8.h12,_14=(_12<0);var _15=0,_16=0,_17=0,_18=0,_19=0;if(_14){_15=_9+2*_4;_16=_10;_18=-_12;_17=_11;_19=-_13}else{_15=_9;_16=_10;_18=_12;_17=_11;_19=_13}
var _20=Math.cos(_15),_21=Math.sin(_15),_22=_16*(_2.left+_2.width/2)+_17,_23=_18*(_2.top+_2.height/2)+_19;_17+=(_20-1)*_22-_21*_23;_19+=_21*_22+(_20-1)*_23;var _24=this.scale,_25=isc.VMLRenderer.$1554(_16,_18,_24*_17,_24*_19);_1.append(this.startTagVML("GROUP")," STYLE='position:absolute;left:",_25.left,"px;top:",_25.top,"px;width:",_25.width,"px;height:",_25.height,"px;");if(_14){_1.append("flip:y;")}
_1.append("' coordorigin='",_25.coordorigin0,",",_25.coordorigin1,"' coordsize='",_25.coordsize0,",",_25.coordsize1,"'>");return(360+((_15*180/Math.PI)%360))%360},isc.A.$155r=function isc_VMLRenderer__getSkewMatrixAndOffset(_1){var _2=this.$155h;var _3=this.$155m,_4=this.$155n,_5=this.$155o,_6=this.$155k,_7=this.$125z,_8=this.$1250,_9=_1.m00,_10=_1.m01,_11=_1.m02,_12=_1.m10,_13=_1.m11,_14=_1.m12,_15=_9-_13,_16=_10+_12,_17=_3*_9-_4*_16-_5*_13,_18=_4*_15+_3*_10+_5*_12,_19=_6*(_8*_11-_7*_14),_20=-_4*_15+_5*_10+_3*_12,_21=-_5*_9+_4*_16+_3*_13,_22=_6*(_7*_11+_8*_14);_2.matrix=isc.StringBuffer.concat(Math.round(65536*_17),"f,",Math.round(65536*_18),"f,",Math.round(65536*_20),"f,",Math.round(65536*_21),"f,0,0");_2.offset=isc.StringBuffer.concat(_19.toFixed(this.skewOffsetPrecision),"px,",_22.toFixed(this.skewOffsetPrecision),"px");return _2},isc.A.$153f=function isc_VMLRenderer__writeSkewEl(_1,_2,_3){var _4=_2.transform;if(!this.$155j(_4)){if(!_3){_1.append(">")}
var _5=this.$155r(_4);_1.append(this.startTagVML(isc.VMLRenderer.$152y)," on='t' matrix='",_5.matrix,"' offset='",_5.offset,"' />");return true}else{return _3}},isc.A.$153g=function isc_VMLRenderer__writeStrokeAttrs(_1){if(_1.stroked){this.buffer.append(" strokecolor='",String.asAttValue(_1.lineColor,false,false),"' strokeweight='",Math.round(_1.lineWidth*this.drawPane.zoomLevel),"px'")}else{this.buffer.append(isc.VMLRenderer.$1364)}},isc.A.$153h=function isc_VMLRenderer__writeStrokeEl(_1,_2,_3){if(_2.stroked){var _4=_2.lineOpacity,_5=_2.linePattern,_6=_2.startArrow,_7=_2.endArrow,_8=_2.lineCap;if(!(isc.isA.String(_5)&&isc.VMLRenderer.$152z.test(_5))){_5=isc.VMLRenderer.$125g}
if(!(isc.isA.String(_8)&&isc.VMLRenderer.$1520.test(_8))){_8="round"}
if(!(isc.isA.String(_6)&&isc.VMLRenderer.$1521.test(_6))){_6=isc.VMLRenderer.$27r}
if(!(isc.isA.String(_7)&&isc.VMLRenderer.$1521.test(_7))){_7=isc.VMLRenderer.$27r}
if(_4!=1||_5!=isc.VMLRenderer.$125g||_8!="round"||_6!=isc.VMLRenderer.$27r||_7!=isc.VMLRenderer.$27r)
{if(!_3){_1.append(">")}
_1.append(this.startTagVML(isc.VMLRenderer.$125j)," OPACITY='",Math.round(65536*_4),"f' DASHSTYLE='",_5,"' ENDCAP='",_8,"' STARTARROW='",_6,"' STARTARROWWIDTH='wide' ENDARROW='",_7,"' ENDARROWWIDTH='wide'>",this.endTagVML(isc.VMLRenderer.$125j));return true}}
return _3},isc.A.$153i=function isc_VMLRenderer__writeFillAttrs(_1){if(_1.filled){var _2=_1.fillColor;if(_2){this.buffer.append(" fillcolor='",String.asAttValue(_2,false,false),"'")}}else{this.buffer.append(isc.VMLRenderer.$1365)}},isc.A.$153j=function isc_VMLRenderer__writeFillEl(_1,_2,_3){var _4=_2.fillOpacity,_5=_2.fillGradient;if(_2.filled&&(_4!=1||_5!=null)){if(!_3){_1.append(">")}
_1.append(this.startTagVML(isc.VMLRenderer.$125m));var _6=(isc.isA.String(_5)?this.drawPane.getGradient(_5):_5);if(_6!=null&&!isc.isAn.emptyObject(_6)){var _7=(isc.DrawItem.$135h(_6)||isc.DrawItem.$135i(_6)),_8=(_6.startColor&&_6.endColor);if(_7){var _9=_2.getBoundingBox(false,_2.$145i),_10=_2.$830(_6,_9),_11=(_6.direction||(Math.atan2(_10[3]-_10[1],_10[2]-_10[0])*180/Math.PI));_11=(270-_11)%360;if(_11<0){_11+=360}
_1.append(" TYPE='gradient' ANGLE='",_11.toFixed(this.fillAnglePrecision),"' COLORS='")}else{_1.append(" TYPE='gradienttitle' OPACITY='1.0' FOCUS='100%' FOCUSSIZE='0,0' FOCUSPOSITION='0.5,0.5' METHOD='linear' COLORS='")}
if(_7&&_6.startColor&&_6.endColor){_1.append("0% ",_6.startColor,", 100% ",_6.endColor)}else{var _12=_6.colorStops,_13=_12&&_12.length;for(var i=0;i<_13;++i){if(i>0){_1.append(", ")}
var _15=_12[i];if(isc.isA.String(_15.offset)&&String(_15.offset).endsWith("%")){_1.append(_15.offset)}else{_1.append(parseFloat(_15.offset)*100,"%")}
_1.append(" ",_15.color)}}}else{_1.append(" ON='true")}
_1.append("' OPACITY='",Math.round(65536*_4),"f'>",this.endTagVML(isc.VMLRenderer.$125m));return true}else{return _3}},isc.A.$153k=function isc_VMLRenderer__writeShadowEl(_1,_2,_3){if(_2){if(!_3){_1.append(">")}
var _4=1.0;if(isc.isA.Number(_2.blur)&&_2.blur>=0){var _5=Math.LN2/5;_4=Math.exp(-_5*_2.blur)}
_1.append(this.startTagVML(isc.VMLRenderer.$125n)," ON='t' OPACITY='",Math.round(65536*_4),"f' COLOR='",String.asAttValue(_2.color,false,false),"' OFFSET='",_2.offset[0].toFixed(this.shadowOffsetPrecision),"pt,",_2.offset[1].toFixed(this.shadowOffsetPrecision),"pt'>",this.endTagVML(isc.VMLRenderer.$125n));return true}else{return _3}},isc.A.$153m=function isc_VMLRenderer__writeRemainingVML(_1,_2){var _3=this.buffer,_4=false;this.$153g(_1);this.$153i(_1);_4=this.$153h(_3,_1,_4);_4=this.$153j(_3,_1,_4);_4=this.$153k(_3,_1.shadow,_4);if(_2!="IMAGE"){_4=this.$153f(_3,_1,_4)}
if(_4){_3.append(this.endTagVML(_2))}else{_3.append("/>")}},isc.A.$153n=function isc_VMLRenderer__writeTextboxContentEl(_1,_2){if(_2.contents!=null){_1.append("<NOBR");if(_2.lineColor!=null){_1.append(" STYLE='color:",String.$152x(_2.lineColor),"'")}
_1.append(">",isc.makeXMLSafe(_2.contents),"</NOBR>")}},isc.A.rect=function isc_VMLRenderer_rect(_1,_2){_2.arcsize=0;return this.roundrect(_1,_2,"rect")},isc.A.roundrect=function isc_VMLRenderer_roundrect(_1,_2,_3){_3=_3||"roundrect";var _4=_2.transform;_2.$126a=isc.VMLRenderer.$1527;if(!this.$155j(_4)){return this.shape(_1,_2,_3)}
var _5=this.scale,_6=this.$155p(_4),_7=this.$155q(_4),_8=Math.round(_5*(_2.left+_6)),_9=Math.round(_5*(_2.top+_7)),_10=Math.round(_5*_2.width),_11=Math.round(_5*_2.height);var _12=(_2.arcsize==0?"RECT":"ROUNDRECT");this.buffer.append(this.startTagVML(_12));this.$153d(_1,_2.alt);this.$153e(_2,_12,true);var _13=this.buffer;_13.append("left:",_8,"px;top:",_9,"px;width:",_10,"px;height:",_11,"px;'");if(_2.arcsize!=0){_13.append(" ARCSIZE='",_2.arcsize.toFixed(this.precision),"'")}
this.$153m(_2,_12);return isc.VMLRendererHandle.create(_3,this,_1,_2)},isc.A.line=function isc_VMLRenderer_line(_1,_2){var _3=_2.transform;_2.$126a=isc.VMLRenderer.$1528;if(!this.$155j(_3)){return this.shape(_1,_2,"line")}
var _4=this.scale,_5=this.$155p(_3),_6=this.$155q(_3),_7=Math.round(_4*(_2.fromX+_5)),_8=Math.round(_4*(_2.fromY+_6)),_9=Math.round(_4*(_2.toX+_5)),_10=Math.round(_4*(_2.toY+_6));this.buffer.append(this.startTagVML("LINE"));this.$153d(_1,_2.alt);this.$153e(_2,"LINE",false);this.buffer.append(" FROM='",_7,",",_8,"' TO='",_9,",",_10,"'");this.$153m(_2,"LINE");return isc.VMLRendererHandle.create("line",this,_1,_2)},isc.A.polyline=function isc_VMLRenderer_polyline(_1,_2){var _3=_2.transform;_2.$126a=isc.VMLRenderer.$1529;if(!this.$155j(_3)){return this.shape(_1,_2,"polyline")}
var _4=this.buffer,_5=this.scale,_6=this.$155p(_3),_7=this.$155q(_3);_4.append(this.startTagVML("POLYLINE"));this.$153d(_1,_2.alt);this.$153e(_2,"POLYLINE",false);var _8=_2.points,_9=_8.length;if(_9>0){_4.append(" POINTS='");this.$153o(_4,_8,_2.closePolyline,_6,_7);_4.append("'")}
this.$153m(_2,"POLYLINE");return isc.VMLRendererHandle.create("polyline",this,_1,_2)},isc.A.$153o=function isc_VMLRenderer__appendPolylinePointsText(_1,_2,_3,_4,_5){var _6=this.scale,_7=_2.length,_8=_2[0],_9=Math.round(_6*(_8[0]+_4)),_10=Math.round(_6*(_8[1]+_5));_1.append(_9," ",_10);for(var i=1;i<_7;++i){var _12=_2[i],x=Math.round(_6*(_12[0]+_4)),y=Math.round(_6*(_12[1]+_5));_1.append(" ",x," ",y)}
if(_3){_1.append(" ",_9," ",_10)}},isc.A.curve=function isc_VMLRenderer_curve(_1,_2){var _3=_2.transform;_2.$126a=isc.VMLRenderer.$153a;if(!this.$155j(_3)){return this.shape(_1,_2,"curve")}
var _4=this.scale,_5=this.$155p(_3),_6=this.$155q(_3),_7=Math.round(_4*(_2.fromX+_5)),_8=Math.round(_4*(_2.fromY+_6)),_9=Math.round(_4*(_2.toX+_5)),_10=Math.round(_4*(_2.toY+_6)),_11=Math.round(_4*(_2.control1X+_5)),_12=Math.round(_4*(_2.control1Y+_6)),_13=Math.round(_4*(_2.control2X+_5)),_14=Math.round(_4*(_2.control2Y+_6));this.buffer.append(this.startTagVML("CURVE"));this.$153d(_1,_2.alt);this.$153e(_2,"CURVE",false);this.buffer.append(" FROM='",_7,",",_8,"' TO='",_9,",",_10,"' CONTROL1='",_11,",",_12,"' CONTROL2='",_13,",",_14,"'");this.$153m(_2,"CURVE");return isc.VMLRendererHandle.create("curve",this,_1,_2)},isc.A.oval=function isc_VMLRenderer_oval(_1,_2){_2.startangle=0;_2.endangle=360;return this.arc(_1,_2,"oval")},isc.A.arc=function isc_VMLRenderer_arc(_1,_2,_3){_3=_3||"arc";var _4=_2.transform;_2.$126a=isc.VMLRenderer.$153b;if(!this.$155j(_4)){return this.shape(_1,_2,_3)}
var _5=this.scale,_6=this.$155p(_4),_7=this.$155q(_4),_8=Math.round(_5*(_2.left+_6)),_9=Math.round(_5*(_2.top+_7)),_10=Math.round(_5*_2.width),_11=Math.round(_5*_2.height);var _12=(_2.startangle==0&&_2.endangle==360),_13=(_12?"OVAL":"ARC");this.buffer.append(this.startTagVML(_13));this.$153d(_1,_2.alt);this.$153e(_2,_13,true);this.buffer.append("left:",_8,"px;top:",_9,"px;width:",_10,"px;height:",_11,"px;'");if(!_12){this.buffer.append("STARTANGLE='",_2.startangle.toFixed(this.precision),"'"," ENDANGLE='",_2.endangle.toFixed(this.precision),"'")}
this.$153m(_2,_13);return isc.VMLRendererHandle.create(_3,this,_1,_2)},isc.A.image=function isc_VMLRenderer_image(_1,_2){var _3=this.buffer,_4=this.scale,_5=_2.transform,_6=_2.useMatrixFilter,_7=this.$155j(_5),_8=!(_6||_7),_9=_2.width,_10=_2.height,_11=0,_12=0;var _13=0,_14=0,_15=0,_16=0,_17=0;if(_6){var _18=this.$155m,_19=this.$155n,_20=this.$155o,_21=this.$155k,_22=this.$125z,_23=this.$1250,_24=_5.m00,_25=_5.m01,_26=_5.m02,_27=_5.m10,_28=_5.m11,_29=_5.m12,_30=_24-_28,_31=_25+_27;_13=_18*_24-_19*_31-_20*_28;_14=_19*_30+_18*_25+_20*_27;_15=-_19*_30+_20*_25+_18*_27;_16=-_20*_24+_19*_31+_18*_28;var _32=(_24*_28-_25*_27);if(_32!=0){_11=(_28*_26-_25*_29)/_32;_12=(-_27*_26+_24*_29)/_32}else{_11=_26;_12=_29}
var _33=_11+_2.left+_9/2,_34=_12+_2.top+_10/2;_11+=(_13-1)*_33+_14*_34,_12+=_15*_33+(_16-1)*_34;_11-=((Math.abs(_13)-1)*_9+Math.abs(_14)*_10)/2,_12-=(Math.abs(_15)*_9+(Math.abs(_16)-1)*_10)/2}else if(_7){_11=this.$155p(_5);_12=this.$155q(_5)}else{_17=this.$1557(_3,_2)}
var _35=Math.round(_4*(_2.left+_11)),_36=Math.round(_4*(_2.top+_12)),_9=Math.round(_4*_9),_10=Math.round(_4*_10);_3.append(this.startTagVML("IMAGE"));this.$153d(_1,_2.alt);this.$153e(_2,"IMAGE",true);if(_6){var _37=this.matrixFilterPrecision;var _38,_39;if(isc.Browser.isIE8){_38="\"";_39="\\'";_3.append("-ms-")}else{_38="";_39="\""}
_3.append("filter:",_38,"progid:DXImageTransform.Microsoft.Matrix(Enabled=true,M11=",_13.toFixed(_37),",M12=",_14.toFixed(_37),",M21=",_15.toFixed(_37),",M22=",_16.toFixed(_37),",SizingMethod=",_39,"auto expand",_39,")",_38,";")}else if(_8){_3.append("rotation:"+_17.toFixed(this.rotationPrecision)+";")}
_3.append("left:",_35,"px;top:",_36,"px;width:",_9,"px;height:",_10,"px;' SRC='",String.asAttValue(_2.src,false,false),"'");this.$153m(_2,"IMAGE");if(_8){_3.append(this.endTagVML("GROUP"))}
return isc.VMLRendererHandle.create("image",this,_1,_2)},isc.A.shape=function isc_VMLRenderer_shape(_1,_2,_3){_3=_3||"shape";var _4=_2.transform,_5=this.buffer;_5.append(this.startTagVML("SHAPE"));this.$153d(_1,_2.alt);this.$153e(_2,"SHAPE",false);_5.append(" PATH='");var _6=0,_7=0;if(this.$155j(_4)){_6=this.$155p(_4);_7=this.$155q(_4)}
var _8=isc.VMLRenderer.$1522.$1525(this,_6,_7);_2.$126a(_8);_5.append("'");this.$153m(_2,"SHAPE");return isc.VMLRendererHandle.create(_3,this,_1,_2)},isc.A.group=function isc_VMLRenderer_group(_1,_2){var _3=this.buffer;_3.append(this.startTagVML("GROUP"));this.$153d(_1,null);this.$153e(_2,"GROUP",false);_3.append(">");return isc.VMLRendererHandle.create("group",this,_1,_2)},isc.A.endGroup=function isc_VMLRenderer_endGroup(_1){this.buffer.append(this.endTagVML("GROUP"))});isc.B._maxIndex=isc.C+29;isc.ClassFactory.defineClass("VMLRendererHandle");isc.A=isc.VMLRendererHandle;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$153p=(function(){var _1=isc.VMLRenderer.shapeConfigAllPropertiesList,_2=_1.length,_3={},_4=new Array(_2);for(var i=0;i<_2;++i){var _6=_1[i],_7=0,_8=0;if(i<30){_7=(1<<i)}else{_8=(1<<(i-30))}
_3[_6]=_4[i]={property:_6,index:i,mask1:_7,mask2:_8,action:null}}
_3.left.action=function(_59,_60){var _9=0;if(!(_60.useMatrixFilter&&this.$133e=="image")&&this.$1523.$155j(_60.transform))
{_9=this.$1523.$155p(_60.transform)}
this.$125f().style.left=Math.round(this.$1523.scale*(_60.left+_9))};_3.top.action=function(_59,_60){var _10=0;if(!(_60.useMatrixFilter&&this.$133e=="image")&&this.$1523.$155j(_60.transform))
{_10=this.$1523.$155q(_60.transform)}
this.$125f().style.top=Math.round(this.$1523.scale*(_60.top+_10))};_3.width.action=function(_59,_60){this.$125f().style.width=Math.round(this.$1523.scale*_60.width)};_3.height.action=function(_59,_60){this.$125f().style.height=Math.round(this.$1523.scale*_60.height)};_3.arcsize.action=function(_59,_60){if((_59.arcsize==0)!=(_60.arcsize==0)){this.$153q()}else{this.$153q()}};_3.startangle.action=function(_59,_60){var _11=(_59.startangle==0&&_59.endangle==360),_12=(_60.startangle==0&&_60.endangle==360);if(_11!=_12){this.$153q()}else{this.$125f().startangle=_60.startangle.toFixed(this.$1523.precision)}};_3.endangle.action=function(_59,_60){var _11=(_59.startangle==0&&_59.endangle==360),_12=(_60.startangle==0&&_60.endangle==360);if(_11!=_12){this.$153q()}else{this.$125f().endangle=_60.endangle.toFixed(this.$1523.precision)}};_3.fromX.mask1=_3.fromY.mask1=(_3.fromX.mask1|_3.fromY.mask1);_3.fromX.mask2=_3.fromY.mask2=(_3.fromX.mask2|_3.fromY.mask2);_3.fromX.action=_3.fromY.action=function(_59,_60){var _13=this.$1523.scale,_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
this.$125f().from=Math.round(_13*(_60.fromX+_9))+" "+Math.round(_13*(_60.fromY+_10))};_3.toX.mask1=_3.toY.mask1=(_3.toX.mask1|_3.toY.mask1);_3.toX.mask2=_3.toY.mask2=(_3.toX.mask2|_3.toY.mask2);_3.toX.action=_3.toY.action=function(_59,_60){var _13=this.$1523.scale,_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
this.$125f().to=Math.round(_13*(_60.toX+_9))+" "+Math.round(_13*(_60.toY+_10))};_3.control1X.mask1=_3.control1Y.mask1=(_3.control1X.mask1|_3.control1Y.mask1);_3.control1X.mask2=_3.control1Y.mask2=(_3.control1X.mask2|_3.control1Y.mask2);_3.control1X.action=_3.control1Y.action=function(_59,_60){var _13=this.$1523.scale,_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
this.$125f().control1=Math.round(_13*(_60.control1X+_9))+" "+Math.round(_13*(_60.control1Y+_10))};_3.control2X.mask1=_3.control2Y.mask1=(_3.control2X.mask1|_3.control2Y.mask1);_3.control2X.mask2=_3.control2Y.mask2=(_3.control2X.mask2|_3.control2Y.mask2);_3.control2X.action=_3.control2Y.action=function(_59,_60){var _13=this.$1523.scale,_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
this.$125f().control2=Math.round(_13*(_60.control2X+_9))+" "+Math.round(_13*(_60.control2Y+_10))};_3.lineWidth.action=function(_59,_60){if(this.$133e!="image"&&this.$133e!="textbox"){this.$125f().strokeweight=Math.round(_60.lineWidth*this.$1523.drawPane.zoomLevel)+"px"}};_3.lineOpacity.action=function(_59,_60){if(_60.stroked&&this.$133e!="image"&&this.$133e!="textbox"){this.$125r().opacity=Math.round(65536*_60.lineOpacity)+"f"}};_3.fillOpacity.action=function(_59,_60){if(_60.filled){this.$125s().opacity=Math.round(65536*_60.fillOpacity)+"f"}};_3.alt.action=function(_59,_60){if(_60.alt&&_59.alt!=_60.alt){this.$125f().alt=_60.alt}else if(_59.alt&&!_60.alt){this.$125f().removeAttribute("alt")}};_3.src.action=function(_59,_60){if(_60.src&&_59.src!=_60.src){this.$125f().src=_60.src}else if(_59.src&&!_60.src){this.$125f().removeAttribute("src")}};_3.lineColor.action=function(_59,_60){if(_60.stroked){this.$125f().strokecolor=_60.lineColor}};_3.linePattern.action=function(_59,_60){if(_60.stroked&&this.$133e!="image"){var _14=_60.linePattern;if(!(isc.isA.String(_14)&&isc.VMLRenderer.$152z.test(_14))){_14=isc.VMLRenderer.$125g}
this.$125r().dashstyle=_14}};_3.startArrow.action=function(_59,_60){if(_60.stroked&&this.$133e!="image"){var _15=_60.startArrow;if(!(isc.isA.String(_15)&&isc.VMLRenderer.$1521.test(_15))){_15=isc.VMLRenderer.$27r}
this.$125r().startarrow=_15}};_3.endArrow.action=function(_59,_60){if(_60.stroked&&this.$133e!="image"){var _16=_60.endArrow;if(!(isc.isA.String(_16)&&isc.VMLRenderer.$1521.test(_16))){_16=isc.VMLRenderer.$27r}
this.$125r().endarrow=_16}};_3.lineCap.action=function(_59,_60){if(_60.stroked&&this.$133e!="image"){var _17=_60.lineCap;if(!(isc.isA.String(_17)&&isc.VMLRenderer.$1520.test(_17))){_17="round"}
this.$125r().endcap=_17}};_3.fillColor.action=function(_59,_60){if(_60.filled){this.$125f().fillcolor=_60.fillColor}};_3.textAlign.action=function(_59,_60){};_3.fontFamily.action=function(_59,_60){};_3.fontWeight.action=function(_59,_60){};_3.fontStyle.action=function(_59,_60){};_3.visibility.action=function(_59,_60){this.$125f().style.visibility=_60.visibility};_3.contents.action=function(_59,_60){};_3.points.action=function(_59,_60){if(isc.isAn.Array(_60.points)&&_60.points.length>0){var _18=isc.StringBuffer.create(),_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
this.$1523.$153o(_18,_60.points,_60.closePolyline,_9,_10);this.$125f().points.value=_18.release(false)}else{this.$125f().removeAttribute("points")}};_3.$145i.action=function(_59,_60){};_3.stroked.action=function(_59,_60){var _19=!_59.stroked&&_60.stroked,_20=!_19&&_59.stroked&&!_60.stroked,_21;if(_19){this.$125r(_60);_21=this.$125f();_21.stroked="t"}else if(_20){isc.Element.clear(this.$125r());delete this.$44w;this.$125f().stroked="f"}
if(_19||_20){var _3=isc.VMLRendererHandle.$153p;if(_19&&((this.$153r&_3.lineColor.mask1)|(this.$153s&_3.lineColor.mask2))!=0)
{_21.strokecolor=_60.lineColor}
var _7=(_3.lineOpacity.mask1|_3.lineColor.mask1|_3.linePattern.mask1|_3.startArrow.mask1|_3.endArrow.mask1|_3.lineCap.mask1),_8=(_3.lineOpacity.mask2|_3.lineColor.mask2|_3.linePattern.mask2|_3.startArrow.mask2|_3.endArrow.mask2|_3.lineCap.mask2);this.$153t(_7,_8,false)}};_3.filled.action=function(_59,_60){var _22=!_59.filled&&_60.filled,_23=_59.filled&&!_60.filled,_21;if(_22){this.$125s(_60);_21=this.$125f();_21.filled="t"}else if(_23){isc.Element.clear(this.$125s());delete this.$44x;this.$125f().filled="f"}
if(_22||_23){var _3=isc.VMLRendererHandle.$153p;if(_22&&((this.$153r&_3.fillColor.mask1)|(this.$153s&_3.fillColor.mask2))!=0)
{_21.fillcolor=_60.fillColor}
this.$153t((_3.fillOpacity.mask1|_3.fillColor.mask1|_3.fillGradient.mask1),(_3.fillOpacity.mask2|_3.fillColor.mask2|_3.fillGradient.mask2),false)}};_3.closePolyline.action=function(_59,_60){};_3.useMatrixFilter.action=function(_59,_60){this.$153q()};_3.transform.action=function(_59,_60){var _24=this.$155s,_25=_59.transform,_26=_60.transform;if(_24||(_25!=_26&&!(_25.m00==_26.m00&&_25.m01==_26.m01&&_25.m01==_26.m02&&_25.m10==_26.m10&&_25.m11==_26.m11&&_25.m12==_26.m12)))
{var _27=this.$1523,_28=this.$133e,_29=(_28=="rect"||_28=="roundrect"||_28=="line"||_28=="polyline"||_28=="curve"||_28=="oval"||_28=="arc");var _30=this.$1523.$155j(_25),_31=this.$1523.$155j(_26),_32=(_30&&!_31),_33=(!_30&&_31);if(_29){if(_30!=_31){this.$153q();return}
_29=_31}
if(_28=="image"){this.$153q();return}else if(_32||_31){if(_29){this.$153q();return}else{var _3=isc.VMLRendererHandle.$153p;this.$154p(_3.$126a.index,true)}}
if(_32){this.$153u(_60)}else if(_33){isc.Element.clear(this.$153u());delete this.$153v}else if(!_31){var _34=this.$153u(),_35=this.$1523.$155r(_26);_34.matrix=_35.matrix;_34.offset=_35.offset}}};_3.getBoundingBox.action=function(_59,_60){};_3.$830.action=function(_59,_60){};_3.$126a.action=function(_59,_60){var _27=this.$1523,_36=_27.buffer,_18=_27.buffer=isc.StringBuffer.create(),_9=0,_10=0;if(this.$1523.$155j(_60.transform)){_9=this.$1523.$155p(_60.transform);_10=this.$1523.$155q(_60.transform)}
var _37=isc.VMLRenderer.$1522.$1525(_27,_9,_10);_60.$126a(_37);this.$125f().path.value=_18.release(false);_27.buffer=_36};_3.fillGradient.action=function(_59,_60){if(_60.filled){var _38=this.$1523.drawPane,_39=_59.fillGradient,_40=_60.fillGradient,_41=(isc.isA.String(_39)?_38.getGradient(_39):_39),_42=(isc.isA.String(_40)?_38.getGradient(_40):_40);if(_41!=null&&isc.isAn.emptyObject(_41)){_41=null}
if(_42!=null&&isc.isAn.emptyObject(_42)){_42=null}
if(_41==_42){return}else{var _18=isc.StringBuffer.create();this.$1523.$153j(_18,_60,true);this.$44x=isc.VMLRendererHandle.$153w(this.$125s(),_18.release(false));this.$153t((_3.fillOpacity.mask1|_3.fillColor.mask1),(_3.fillOpacity.mask2|_3.fillColor.mask2),false);this.$153x=true}}};_3.shadow.action=function(_59,_60){var _43=(!_59.shadow&&_60.shadow),_44=(_59.shadow&&!_60.shadow),_45=(_59.shadow&&_60.shadow&&_59.shadow!=_60.shadow);if(_43){this.$153y(_60)}else if(_45||_44){var _46=this.$153y();if(_45){var _18=isc.StringBuffer.create();this.$1523.$153k(_18,_60.shadow,true);this.$153z=isc.VMLRendererHandle.$153w(_46,_18.release(false))}else{isc.Element.clear(_46);delete this.$153z}}};var _47=(_3.left.mask1|_3.top.mask1|_3.width.mask1|_3.height.mask1),_48=(_3.left.mask2|_3.top.mask2|_3.width.mask2|_3.height.mask2),_49=_47|_3.arcsize.mask1,_50=_48|_3.arcsize.mask2,_51=(_3.fromX.mask1|_3.fromY.mask1|_3.toX.mask1|_3.toY.mask1),_52=(_3.fromX.mask2|_3.fromY.mask2|_3.toX.mask2|_3.toY.mask2),_53=(_3.points.mask1|_3.closePolyline.mask1),_54=(_3.points.mask2|_3.closePolyline.mask2),_55=(_51|_3.control1X.mask1|_3.control1Y.mask1|_3.control2X.mask1|_3.control2Y.mask1),_56=(_52|_3.control1X.mask2|_3.control1Y.mask2|_3.control2X.mask2|_3.control2Y.mask2),_57=(_47|_3.startangle.mask1|_3.endangle.mask1),_58=(_48|_3.startangle.mask2|_3.endangle.mask2);isc.VMLRendererHandle.addClassProperties({$1530:_4,$1531:(_49|_57|_55|_53|_3.fontFamily.mask1|_3.fontSize.mask1|_3.fontWeight.mask1|_3.fontStyle.mask1|_3.contents.mask1|_3.$126a.mask1),$1532:(_50|_58|_56|_54|_3.fontFamily.mask2|_3.fontSize.mask2|_3.fontWeight.mask2|_3.fontStyle.mask2|_3.contents.mask2|_3.$126a.mask2),$1533:_47,$1534:_48,$1535:_49,$1536:_50,$1537:_51,$1538:_52,$1539:_53,$154a:_54,$154b:_55,$154c:_56,$154d:_47,$154e:_48,$154f:_57,$154g:_58});return _3})();isc.B.push(isc.A.$154h=function isc_c_VMLRendererHandle__shapeConfigDuplicate(_1,_2){var _3=new isc.VMLRenderer.shapeConfig();isc.getProperties(_1,isc.VMLRenderer.shapeConfigAllPropertiesList,_3);_3.$1526=_1.$1526;if(_2){_3.transform=isc.VMLRendererHandle.$154i(_1.transform);_3.points=isc.VMLRendererHandle.$154j(_1.points)}
return _3},isc.A.$154i=function isc_c_VMLRendererHandle__duplicateTransform(_1){return(isc.isAn.AffineTransform(_1)?_1.duplicate():_1)},isc.A.$154j=function isc_c_VMLRendererHandle__duplicatePoints(_1){if(isc.isAn.Array(_1)){var _2=_1.length,_3=new Array(_2);for(var i=0;i<_2;++i){var _5=_1[i],_6=new Array(2);_6[0]=_5[0];_6[1]=_5[1];_3[i]=_6}
return _3}else{return _1}},isc.A.$153w=function isc_c_VMLRendererHandle__replaceVML(_1,_2){var _3=_1.parentElement,_4=document.createDocumentFragment(),_5=isc.Element.insertAdjacentHTML(_4,"afterbegin",_2,true);_3.replaceChild(_5,_1);if(isc.Browser.isIE8){var _6=_5.previousSibling;if(_6==null){_5.outerHTML=_5.outerHTML;_5=_3.firstChild}else{_5.outerHTML=_5.outerHTML;_5=_6.nextSibling}}
return _5});isc.B._maxIndex=isc.C+4;isc.A=isc.VMLRendererHandle.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$133e=null;isc.A.$1523=null;isc.A.$151="";isc.A.$154k=null;isc.A.$154l=null;isc.A.$153r=0;isc.A.$153s=0;isc.A.addPropertiesOnCreate=false;isc.A.$154m=["useMatrixFilter","transform","arcsize","startangle","endangle","stroked","filled","fillGradient"];isc.A.$154n={found:false,handle:null,where:"afterbegin"};isc.A.$154o=[isc.VMLRenderer.$125j,isc.VMLRenderer.$125m,isc.VMLRenderer.$125n,isc.VMLRenderer.$152y];isc.B.push(isc.A.init=function isc_VMLRendererHandle_init(_1,_2,_3,_4){this.$133e=_1;this.$1523=_2;this.$151=_3;this.$154k=isc.VMLRendererHandle.$154h(_4,true);this.$154l=isc.VMLRendererHandle.$154h(this.$154k,false)},isc.A.setProperty=function isc_VMLRendererHandle_setProperty(_1,_2,_3){if(this.$133e=="group"){return this}
var _4=isc.VMLRendererHandle.$153p[_1];if(_4!=null){var _5=this.$154k,_6=this.$154l,_7=(_1=="$126a");if(_7||_6[_1]!=_2){if(!_7){if(_1=="transform"){if(_3){this.$155s=true}else{this.$155s=false;_6[_1]=isc.VMLRendererHandle.$154i(_2)}}else if(_1=="points"){_6[_1]=isc.VMLRendererHandle.$154j(_2)}else{_6[_1]=_2}}
this.$154p(_4.index,(_7||(_5[_1]!=_2)))}}
return this},isc.A.$154p=function isc_VMLRendererHandle__setFlag(_1,_2){if(_1<30){if(_2){this.$153r|=(1<<_1)}else{this.$153r&=~(1<<_1)}}else{_1-=30;if(_2){this.$153s|=(1<<_1)}else{this.$153s&=~(1<<_1)}}},isc.A.$153t=function isc_VMLRendererHandle__setMask(_1,_2,_3){if(_3){this.$153r|=_1;this.$153s|=_2}else{this.$153r&=~_1;this.$153s&=~_2}},isc.A.flush=function isc_VMLRendererHandle_flush(){var _1=isc.VMLRendererHandle.$153p,_2=this.$153r,_3=this.$153s,_4=this.$154k,_5=this.$154l;if(!this.$1523.$155j(_5.transform)){var _6=0,_7=0;switch(this.$133e){case"roundrect":_6=isc.VMLRendererHandle.$1535;_7=isc.VMLRendererHandle.$1536;case"rect":case"image":_6|=isc.VMLRendererHandle.$1533;_7|=isc.VMLRendererHandle.$1534;break;case"line":_6=isc.VMLRendererHandle.$1537;_7=isc.VMLRendererHandle.$1538;break;case"polyline":_6=isc.VMLRendererHandle.$1539;_7=isc.VMLRendererHandle.$154a;break;case"curve":_6=isc.VMLRendererHandle.$154b;_7=isc.VMLRendererHandle.$154c;break;case"arc":_6=isc.VMLRendererHandle.$154f;_7=isc.VMLRendererHandle.$154g;case"oval":_6|=isc.VMLRendererHandle.$154d;_7|=isc.VMLRendererHandle.$154e;break}
if((_6|_7)!=0){if(((this.$153r&_6)|(this.$153s&_7))!=0){this.$153t(_6,_7,false);if(this.$133e=="image"){this.$154p(_1.transform.index,true);this.$155s=true}else{this.$154p(_1.$126a.index,true)}}}}
this.$154q=false;var _8=this.$154m;for(var i=0,n=_8.length;i<n;++i){var _11=_1[_8[i]];if(((this.$153r&_11.mask1)|(this.$153s&_11.mask2))!=0){_11.action.call(this,_4,_5);this.$153r&=~_11.mask1;this.$153s&=~_11.mask2}}
var _6=_1.closePolyline.mask1,_7=_1.closePolyline.mask2;if((this.$153r&_6)|(this.$153s&_7)!=0){this.$154p(_1.closePolyline.index,false);this.$154p(_1.points.index,true)}
if(_5.filled&&!(this.$154q||this.$153x)){var _6=isc.VMLRendererHandle.$1531,_7=isc.VMLRendererHandle.$1532,_12=_5.fillGradient,_13=(isc.isA.String(_12)?this.$1523.drawPane.getGradient(_12):_12),_14=(_13!=null&&!isc.isAn.emptyObject(_13)&&(isc.DrawItem.$135h(_13)||isc.DrawItem.$135i(_13)));if(_14&&((this.$153r&_6)|(this.$153s&_7))!=0)
{var _15=isc.StringBuffer.create();this.$1523.$153j(_15,_5,true);this.$44x=isc.VMLRendererHandle.$153w(this.$125s(),_15.release(false));this.$153t((_1.fillOpacity.mask1|_1.fillColor.mask1|_1.fillGradient.mask1),(_1.fillOpacity.mask2|_1.fillColor.mask2|_1.fillGradient.mask2),false)}}
var _16=isc.VMLRendererHandle.$1530,_17=_16.length,_18=this.$153r,_19=this.$153s;for(var i=0;!(_18==0&&_19==0)&&i<_17;++i){var _11=_16[i];if(((_18&_11.mask1)|(_19&_11.mask2))!=0){_11.action.call(this,_4,_5);_18&=~_11.mask1;_19&=~_11.mask2}}
for(var i=0;!(_2==0&&_3==0)&&i<_17;++i){var _11=_16[i];if(((_2&_11.mask1)|(_3&_11.mask2))!=0){var _20=_11.property;_4[_20]=_5[_20];_2&=~_11.mask1;_3&=~_11.mask2}}
this.$153r=this.$153s=0;this.$155s=false},isc.A.$153q=function isc_VMLRendererHandle__regenerateVML(){var _1=this.$1523,_2=_1.buffer,_3=_1.buffer=isc.StringBuffer.create();_1[this.$133e](this.$151,this.$154l);var _4=isc.VMLRendererHandle.$153w(this.getHandle(),_3.release(false));if(this.$133e=="image"&&!this.$154l.useMatrixFilter&&!this.$1523.$155j(this.$154l.transform))
{this.$44u=_4.firstChild}else{this.$44u=_4}
_1.buffer=_2;this.$153r=this.$153s=0;delete this.$44w;delete this.$44x;delete this.$153z;delete this.$153v;this.$154q=true},isc.A.getHandle=function isc_VMLRendererHandle_getHandle(){var _1=this.$125f();if(this.$133e=="image"&&!this.$154k.useMatrixFilter&&!this.$1523.$155j(this.$154k.transform))
{_1=_1.parentElement}
return _1},isc.A.$125f=function isc_VMLRendererHandle__getVMLHandle(){if(this.$44u!=null)return this.$44u;return(this.$44u=isc.Element.get(this.$151))},isc.A.$154r=function isc_VMLRendererHandle__findVMLSubelementHandle(_1,_2){var _3=this.$154o;var n=_3.length,_5=this.$154n,_6=_3.indexOf(_2);for(var i=0,_8=_1,_9=_1.firstChild;i<n;++i){var _10=(_9==null?_6+1:_3.indexOf(_9.tagName));if(_10>_6){_5.found=false;_5.handle=_8;_5.where=(i==0?"afterbegin":"afterend");return _5}else if(_10==_6){_5.found=true;_5.handle=_9;return _5}else{_8=_9;_9=_9.nextSibling}}},isc.A.$125r=function isc_VMLRendererHandle__getVMLStrokeHandle(_1){_1=_1||this.$154k;var _2=this.$44w;if(_2!=null)return _2;var _3=this.$125f();if(_3==null)return null;var _4=this.$154r(_3,isc.VMLRenderer.$125j);if(_4.found){_2=_4.handle}else{var _5=isc.StringBuffer.create();this.$1523.$153h(_5,_1,true);if(_5.getArray().length>0){_2=isc.Element.insertAdjacentHTML(_4.handle,_4.where,_5.release(false),true)}}
return(this.$44w=_2)},isc.A.$125s=function isc_VMLRendererHandle__getVMLFillHandle(_1){_1=_1||this.$154k;var _2=this.$44x;if(_2!=null)return _2;var _3=this.$125f();if(_3==null)return null;var _4=this.$154r(_3,isc.VMLRenderer.$125m);if(_4.found){_2=_4.handle}else{var _5=isc.StringBuffer.create();this.$1523.$153j(_5,_1,true);if(_5.getArray().length>0){_2=isc.Element.insertAdjacentHTML(_4.handle,_4.where,_5.release(false),true)}}
return(this.$44x=_2)},isc.A.$153y=function isc_VMLRendererHandle__getVMLShadowHandle(_1){_1=_1||this.$154k;var _2=this.$153z;if(_2!=null)return _2;var _3=this.$125f();if(_3==null)return null;var _4=this.$154r(_3,isc.VMLRenderer.$125n);if(_4.found){_2=_4.handle}else{var _5=isc.StringBuffer.create();this.$1523.$153k(_5,_1.shadow,true);_2=isc.Element.insertAdjacentHTML(_4.handle,_4.where,_5.release(false),true)}
return(this.$153z=_2)},isc.A.$153u=function isc_VMLRendererHandle__getVMLSkewHandle(_1){_1=_1||this.$154k;var _2=this.$153v;if(_2!=null)return _2;var _3=this.$125f();if(_3==null)return null;var _4=this.$154r(_3,isc.VMLRenderer.$152y);if(_4.found){_2=_4.handle}else{var _5=isc.StringBuffer.create();this.$1523.$153f(_5,_1,true);_2=isc.Element.insertAdjacentHTML(_4.handle,_4.where,_5.release(false),true)}
return(this.$153v=_2)});isc.B._maxIndex=isc.C+13;isc.defineClass("SVGStringConversionContext").addClassProperties({$99a:"xlink"});isc.A=isc.SVGStringConversionContext.getPrototype();isc.A.$99b=1;isc.A.printForExport=true;isc.A.xlinkPrefix=isc.SVGStringConversionContext.$99a;isc.A=isc.SVGStringConversionContext.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.init=function isc_SVGStringConversionContext_init(){this.Super("init",arguments);this.svgDefStrings={}},isc.A.getNextSvgDefNumber=function isc_SVGStringConversionContext_getNextSvgDefNumber(){return this.$99b++});isc.B._maxIndex=isc.C+2;isc.defineClass("VMLStringConversionContext").addMethods({init:function(){this.Super("init");this.drawLabelsAccumulator=[]}});isc.defineClass("DrawPane","Canvas");isc.A=isc.DrawPane.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$125w=isc.Math.$125w;isc.A.overflow="hidden";isc.A.drawingType=isc.Browser.defaultDrawingType;isc.A.drawingWidth=1000;isc.A.drawingHeight=1000;isc.A.precision=1;isc.A.canDragScroll=false;isc.A.dragAppearance="none";isc.A.dragScrollCursor="all-scroll";isc.A.isMouseTransparent=true;isc.A.rotation=0;isc.A.zoomLevel=1;isc.A.translate=null;isc.A.$148p=0;isc.A.measureLabelCacheMaxSize=100;isc.A.$150r=new Array(2);isc.B.push(isc.A.supportsFractionalCoordinates=function isc_DrawPane_supportsFractionalCoordinates(){var _1=this.drawingType;if(_1=="bitmap")return true;if(_1=="vml")return true;return false},isc.A.createQuadTree=function isc_DrawPane_createQuadTree(){this.quadTree=isc.QuadTree.create({depth:0,maxDepth:50,maxChildren:1});this.quadTree.bounds={x:0,y:0,width:this.getInnerContentWidth(),height:this.getInnerContentHeight()};this.quadTree.root=isc.QuadTreeNode.create({depth:0,maxDepth:8,maxChildren:4});this.quadTree.root.bounds=this.quadTree.bounds},isc.A.init=function isc_DrawPane_init(){if(isc.Browser.isIE&&this.drawingType=="vml"){this.hideUsingDisplayNone=true}
return this.Super("init",arguments)},isc.A.initWidget=function isc_DrawPane_initWidget(){var _1=this.precision=Math.max(0,this.precision<<0);this.$1259=Math.pow(10,_1);this.$135k();if(this.drawingType=="svg")this.$l=false;this.$150v=[];if(this.drawItems==null){this.drawItems=[]}else{var _2=this.drawItems.duplicate();this.drawItems=[];for(var i=0;i<_2.length;++i){this.addDrawItem(_2[i])}}
this.createQuadTree();if(this.canvasItems==null){this.canvasItems=[]}else{var _4=this.canvasItems.duplicate();this.canvasItems=[];for(var i=0;i<_4.length;++i){this.addCanvasItem(_4[i])}}
this.redrawOnResize=(this.drawingType=="bitmap");this.$43z=this.getInnerContentWidth();this.$430=this.getInnerContentHeight();this.$431=this.translate==null?0:this.translate[0];this.$432=this.translate==null?0:this.translate[1];this.$433=this.$43z/this.zoomLevel;this.$434=this.$430/this.zoomLevel;if(isc.Browser.isIE&&this.drawingType=="vml"){if(!isc.DrawPane.$150s){var _5=this.getDocument(),_6;try{_6=_5.createStyleSheet()}catch(e){var _7=_5.createElement("style");_5.documentElement.appendChild(_7);_6=_7.sheet||_7.styleSheet}
_6.addRule(".rvml","behavior:url(#default#VML)");isc.DrawPane.$150s=true}
try{if(!document.namespaces.rvml)document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");this.startTagVML=function(_8){return'<rvml:'+_8+' class="rvml" '};this.endTagVML=function(_8){return'</rvml:'+_8+'>'}}catch(e){this.startTagVML=function(_8){return'<'+_8+' xmlns="urn:schemas-microsoft.com:vml" class="rvml" '};this.endTagVML=function(_8){return'</rvml:'+_8+'>'}}
this.$1523=isc.VMLRenderer.create(this,this.$1259,this.precision)}},isc.A.$135k=function isc_DrawPane__initGradients(){this.$135l={};if(!this.gradients)return;if(!isc.isAn.Array(this.gradients))this.gradients=[this.gradients];for(var i=0;i<this.gradients.length;i++){var _2=this.gradients[i];if(!_2.id){isc.logWarn("Gradient provided in DrawPane.gradients does not have an ID - ignored");continue}
if(!_2._constructor)_2._constructor=isc.DrawItem.$135m(_2);if(this.$135l[_2.id]!=null){isc.logWarn("Duplicate gradient with ID "+_2.id+" - replacing previous gradient")}
this.$135l[_2.id]=_2}},isc.A.$136x=function isc_DrawPane__toVMLCoord(_1){return(_1*this.$1259)<<0},isc.A.normalize=function isc_DrawPane_normalize(_1,_2){return this.$147h().transform(_1,_2)},isc.A.getDrawItem=function isc_DrawPane_getDrawItem(_1,_2,_3){var _4=this.$150s(_1,_2),x=_4[0],y=_4[1];var _7=this.normalize(x,y);x=_7.v0;y=_7.v1;var _8=this.quadTree.retrieve({x:x,y:y});if(_8==null)return null;var _9=_8.length;for(var i=0;i<_9;++i){if(_8[i].item!=null){_8[i]=_8[i].item}}
_8.sort(isc.QuadTree.$148q);var _11=null;for(var i=_9;i--;){var _12=_8[i],_13=_12.shape;if((_3&&(_13.canHover===false||(_13.canHover==null&&_13.prompt==null)))||_13.hidden)
{continue}
var _14=_13.isPointInPath(x,y,_1,_2);var _15=false;for(var _16=_13.drawGroup;!_15&&_16!=null;_16=_16.drawGroup){if(_16.useGroupRect&&_16.isInBounds(x,y)){_15=true;_11=_16}}
if(_15){continue}
if(_14){return _13}}
return _11},isc.A.getEventTarget=function isc_DrawPane_getEventTarget(_1){var _2=this.ns.EH,_3=_1.eventType;if(_2.isMouseEvent(_3)||_3===_2.POINTER_DOWN||_3===_2.POINTER_MOVE||_3===_2.POINTER_UP||_3===_2.POINTER_CANCEL||_3===_2.TOUCH_START||_3===_2.TOUCH_MOVE||_3===_2.TOUCH_END||_3===_2.TOUCH_CANCEL)
{var _4=this.getDrawItem(_1.x,_1.y);if(_4!=null)return _4}
return this},isc.A.getHoverTarget=function isc_DrawPane_getHoverTarget(_1){var _2=this.getDrawItem(_1.x,_1.y,true);if(_2!=null)return _2;return this.Super("getHoverTarget",arguments)},isc.A.$k2=function isc_DrawPane__updateCursor(_1){var _2=null;if(_1!=null){_2=_1.getCurrentCursor()}
if(_2==null)_2=this.canDragScroll?this.dragScrollCursor:this.getCurrentCursor();this.$v8(_2)},isc.A.prepareForDragging=function isc_DrawPane_prepareForDragging(){if(!isc.EH.dragTarget&&!isc.EventHandler.rightButtonDown()){var _1=this.getDrawItem(isc.EH.lastEvent.x,isc.EH.lastEvent.y);if(_1!=null&&_1.canDrag){isc.EH.dragTarget=_1;isc.EH.dragOperation="drag";return true}else if(this.canDragScroll){isc.EH.dragTarget=this;isc.EH.dragOperation=isc.EH.DRAG_SCROLL;return true}}
return this.Super("prepareForDragging",arguments)},isc.A.dropMove=function isc_DrawPane_dropMove(){},isc.A.clear=function isc_DrawPane_clear(){this.Super("clear",arguments);if(this.drawItems!=null){for(var i=0,_2=this.drawItems.length;i<_2;++i){var _3=this.drawItems[i];_3.$113c();_3.$if=false}}
if(this.drawingType=="bitmap"){this.$437=null}},isc.A.drawBounds=function isc_DrawPane_drawBounds(_1){isc.DrawRect.create({autoDraw:true,drawPane:this,left:Math.round(_1.bounds.x),top:Math.round(_1.bounds.y-_1.bounds.height),width:Math.round(_1.bounds.width),height:Math.round(_1.bounds.height)},{lineColor:"#FF0000",lineOpacity:0.1,lineWidth:1,linePattern:"solid"});if(_1.nodes&&_1.nodes.length){for(var i=0;i<_1.nodes.length;++i){this.drawBounds(_1.nodes[i])}}},isc.A.erase=function isc_DrawPane_erase(_1,_2){if(_2==undefined){_2=true;this.$992()}
if(_1){isc.Log.logDebug("Destroying drawItems for DrawPane "+this.ID,"drawing");var _3=this.drawItems,_4=(_3==null?0:_3.length);for(var i=0;i<_4;++i){_3[i].destroy(true,_2)}}else if(this.isDrawn()){var _3=this.drawItems,_4=(_3==null?0:_3.length);for(var i=0;i<_4;++i){_3[i].erase(true,_2)}}
if(_2)this.$100h=this.$135l;this.gradients=null;this.$135l={};if(_2)this.$993=this.drawItems;this.drawItems=[];this.$1262=null;delete this.$63q;this.canvasItems=[];this.$150v=[];this.createQuadTree();if(this.drawingType=="bitmap")this.redrawBitmap()},isc.A.destroyItems=function isc_DrawPane_destroyItems(){this.erase(true)},isc.A.destroy=function isc_DrawPane_destroy(){var _1=this.drawItems;if(_1!=null){for(var i=0;i<_1.length;++i){_1[i].destroy()}}
this.Super("destroy",arguments)},isc.A.addDrawItem=function isc_DrawPane_addDrawItem(_1,_2,_3){if(_1.drawGroup!=null){_1.drawGroup.removeDrawItem(_1)}else if(!_3&&_1.drawPane!=null){if(_1.item!=null){_1.drawPane.quadTree.remove(_1.item);_1.item=null}
if(_1.drawPane===this){_1.erase();_3=true}else{if(_1.knobs!=null&&!_1.knobs.isEmpty()){_1.knobs.map(_1.$635,_1)}
_1.drawPane.removeDrawItem(_1)}}
_1.drawPane=this;_1.$148r=this.$148p++;if(isc.isA.DrawGroup(_1)){_1.$148s(this)}else if(_1.exemptFromGlobalTransform){this.$150v.push(_1)}
if(_2==null)_2=true;if(!this.isDrawn()){if(_3||!this.drawItems.contains(_1)){this.drawItems.add(_1);_1.$99y()}
this.shouldDeferDrawing(_1)}else if(_2&&!_1.$if){_1.draw()}},isc.A.$1263=function isc_DrawPane__addEventOnlyDrawItem(_1){_1.drawPane=this;_1.$148r=this.$148p++;if(this.$1262==null)this.$1262=[_1];else this.$1262.add(_1)},isc.A.removeDrawItem=function isc_DrawPane_removeDrawItem(_1){if(_1.drawPane!==this){this.logWarn("Attempt to remove item:"+isc.echoLeaf(_1)+" from a DrawPane that does not contain it");return}
if(_1.$if){_1.erase()}else if(_1.drawGroup!=null){_1.drawGroup.removeDrawItem(_1)}else{this.drawItems.remove(_1);if(_1.item!=null){this.quadTree.remove(_1.item);delete _1.item}
if(_1.exemptFromGlobalTransform){this.$150v.remove(_1)}}
delete _1.drawPane},isc.A.getTransformCSS=function isc_DrawPane_getTransformCSS(){return null},isc.A.getInnerHTML=function isc_DrawPane_getInnerHTML(){var _1=this.drawingType;if(_1==="vml"){var _2=this.$1259,_3=(this.$431-this.scrollLeft+this.getLeftPadding()),_4=(this.$432-this.scrollTop+this.getTopPadding()),_5=this.$43z,_6=this.$430;return(this.startTagVML('RECT')+" ID='"+this.getID()+"$139l' style='position:absolute;top:0px;left:0px;width:100%;height:100%;' stroked='false' fillcolor='#ff00ff'>"+this.startTagVML('FILL')+" on='t' opacity='0' />"+this.endTagVML('RECT')+this.startTagVML('GROUP')+" ID='"+this.getID()+"$435' STYLE='position:absolute;left:"+_3+"px;top:"+_4+"px;width:"+_5+"px;height:"+_6+"px;rotation:"+(this.rotation)+";' coordsize='"+(this.$433*_2)+", "+(this.$434*_2)+"' coordorigin='0 0'>"+this.endTagVML('GROUP'))}else if(_1==="bitmap"){return isc.SB.concat("<CANVAS ID='",this.getID(),"$436' ","WIDTH='",this.$43z,"' ","HEIGHT='",this.$430,"' ","STYLE='display:block' dir='ltr'>","</CANVAS>")}else if(_1==="svg"){this.$l=false;return"<IFRAME HEIGHT='100%' WIDTH='100%' SCROLLING='NO' FRAMEBORDER='0' SRC='"+isc.Page.getHelperDir()+"DrawPane.svg?isc_dp_id="+this.getID()+"'></IFRAME>"}else{this.logWarn("DrawPane getInnerHTML: '"+_1+"' is not a supported drawingType");return this.Super("getInnerHTML",arguments)}},isc.A.$ub=function isc_DrawPane__handleResized(){this.$136s()},isc.A.innerSizeChanged=function isc_DrawPane_innerSizeChanged(_1){this.Super("innerSizeChanged",arguments);this.$136s()},isc.A.getDataURL=function isc_DrawPane_getDataURL(_1){if(this.drawingType=="bitmap"){var _2=document.getElementById(this.getID()+"$436");if(_2!=null&&!!_2.toDataURL){var _3;try{_3=_2.toDataURL()}catch(e){this.$1372("HTMLCanvasElement.toDataURL() threw an exception: "+e);_3=null}
if(_3!=null&&_3.startsWith("data:image/png")&&(_3[14]===","||_3[14]===";"))
{if(_1)this.fireCallback(_1,"dataURL",[_3]);return _3}}}
if(_1){var _4={exportDisplay:"return"};var _5=this;isc.RPCManager.exportImage(this.getSvgString(),_4,function(_6){_5.fireCallback(_1,"dataURL",["data:image/png;base64,"+_6])})}
return null},isc.A.setMeasureLabelCacheMaxSize=function isc_DrawPane_setMeasureLabelCacheMaxSize(_1){this.measureLabelCacheMaxSize=_1;var _2=this.$100n;if(_2!=null){var _3=Math.max(1,_1);this.$148e(_2,_3)}},isc.A.measureLabel=function isc_DrawPane_measureLabel(_1,_2){if(_1==null)_1="";else _1=String(_1);if(!_2)_2={};var _3=_2.fontFamily||isc.DrawLabel.getInstanceProperty("fontFamily"),_4=_2.fontWeight||isc.DrawLabel.getInstanceProperty("fontWeight"),_5=_2.fontSize||isc.DrawLabel.getInstanceProperty("fontSize"),_6=_2.fontStyle||isc.DrawLabel.getInstanceProperty("fontStyle"),_7=_5+":"+_4+":"+_6+":"+_3+":"+_1;var _8=this.$100n;if(_8==null){var _9=Math.max(1,this.measureLabelCacheMaxSize);_8=this.$100n=new this.$148f(_9)}
if(this.$148g(_8,_7)){return this.$148h(_8,_7)}
var _10=isc.DrawPane.$104v(),_11=isc.SB.concat("<span style='font-family:",_3,";font-weight:",_4,";font-size:",_5,"px;font-style:",_6,";white-space:pre'>",_1.replace(isc.DrawPane.$156w,"\u0020").asHTML(),"</span>");_10.setContents(_11);_10.redraw("label measurement: "+_1);var _12=_10.getHandle().firstChild;var _13={width:_12.offsetWidth,height:_12.offsetHeight};this.$148i(_8,_7,_13);return _13},isc.A.$148j=function isc_DrawPane__lruCacheEntry(_1,_2,_3,_4){this.key=_1;this.value=_2;this.younger=_3;this.older=_4},isc.A.$148f=function isc_DrawPane__lruCache(_1){this.maxSize=_1;this.size=0;this.cache={};this.youngest=null;this.oldest=null},isc.A.$148g=function isc_DrawPane__lruCacheContains(_1,_2){return _1.cache.hasOwnProperty(_2)},isc.A.$148h=function isc_DrawPane__lruCacheGet(_1,_2){var _3=_1.cache[_2];if(_3!=_1.youngest){_3.younger.older=_3.older;if(_3.older==null){_1.oldest=_3.younger}else{_3.older.younger=_3.younger}
_1.youngest.younger=_3;_3.younger=null;_3.older=_1.youngest;_1.youngest=_3}
return _3.value},isc.A.$148i=function isc_DrawPane__lruCachePut(_1,_2,_3){var _4=new this.$148j(_2,_3,null,_1.youngest);_1.cache[_2]=_4;++_1.size;if(_1.size==1){_1.youngest=_1.oldest=_4}else{_1.youngest.younger=_4;_1.youngest=_4;if(_1.size>_1.maxSize){var _5=_1.oldest,_6=_5.younger;_1.oldest=_6;_6.older=null;delete _1.cache[_5.key];--_1.size}}},isc.A.$148e=function isc_DrawPane__lruCacheSetMaxSize(_1,_2){if(_1.size>_2){var _3=_1.size-_2,_4=_1.cache;if(_2<_3){var _5={},_6=_1.youngest;for(var i=_2;i--;_6=_6.older){_5[_6.key]=_4[_6.key]}
_1.cache=_5;_1.oldest=_6.younger}else{var _6=_1.oldest;for(var i=_3;i--;_6=_6.younger){delete _4[_6.key]}
_1.oldest=_6}
_1.oldest.older=null;_1.size=_2}
_1.maxSize=_2},isc.A.getSvgString=function isc_DrawPane_getSvgString(_1){var _2=this.getWidth(),_3=this.getHeight(),_4,_5,_6=_2,_7=_3;var _8=this.getClipHandle();var _9=isc.Element.getBorderSizes(_8);if(this.rotation&&(_5=this.getCenter())&&_5.length==2){_4=((this.rotation%360)+360)%360;var _10=_4*this.$125w,s=Math.abs(Math.sin(_10)),c=Math.abs(Math.cos(_10));_6=_2*c+_3*s;_7=_2*s+_3*c}
_1=_1||isc.SVGStringConversionContext.create();_1.xlinkPrefix=_1.xlinkPrefix||isc.SVGStringConversionContext.$99a;var _13=_6+_9.right+_9.left,_14=_7+_9.top+_9.bottom;var _15=(this.padding==undefined?0:parseFloat(this.padding));if(this.drawingType!="svg"){_13-=_15;_14-=_15}
var _16=isc.StringBuffer.create();_16.append("<svg xmlns='",isc.$100g,"' xmlns:",_1.xlinkPrefix,"='",isc.$100f,"' width='",_13,"px","' height='",_14,"px","' viewBox='0 0 ",_13," ",_14,"' version='1.1","'><metadata><!-- Generated by SmartClient ",isc.version," --></metadata>");if(this.backgroundColor!=null){_16.append("<rect x='0' y='0' width='",_13,"' height='",_14,"' stroke='none' fill='",this.backgroundColor,"'/>")}
_16.append("<g transform='translate(",((_6-_2)/2+_15+_9.left)," ",((_7-_3)/2+_15+_9.top),") scale(",this.zoomLevel,")");if(_4){_16.append(" rotate(",_4," ",_5[0]," ",_5[1],")")}
_16.append("'><svg width='",_2,"' height='",_3,"'>");if(this.drawItems&&this.drawItems.length){_16.append("<g id='isc_svg_box'>");for(var i=0;i<this.drawItems.length;++i){_16.append(this.drawItems[i].getSvgString(_1))}
_16.append("</g>");if(_1.svgDefStrings){_16.append("<defs id='isc_svg_defs'>");for(var _18 in _1.svgDefStrings){if(_1.svgDefStrings.hasOwnProperty(_18)){_16.append(_1.svgDefStrings[_18])}}
_16.append("</defs>")}}
_16.append("</svg></g>");var _19={Top:isc.Element.getComputedStyleAttribute(_8,"borderTopStyle"),Right:isc.Element.getComputedStyleAttribute(_8,"borderRightStyle"),Bottom:isc.Element.getComputedStyleAttribute(_8,"borderBottomStyle"),Left:isc.Element.getComputedStyleAttribute(_8,"borderLeftStyle")};var _20={Top:isc.Element.getComputedStyleAttribute(_8,"borderTopColor"),Right:isc.Element.getComputedStyleAttribute(_8,"borderRightColor"),Bottom:isc.Element.getComputedStyleAttribute(_8,"borderBottomColor"),Left:isc.Element.getComputedStyleAttribute(_8,"borderLeftColor")};var _21,_22,_23;if(_9.Top==_9.Right&&_9.Right==_9.Bottom&&_9.Bottom==_9.Left&&_19.Top==_19.Right&&_19.Right==_19.Bottom&&_19.Bottom==_19.Left&&_20.Top==_20.Right&&_20.Right==_20.Bottom&&_20.Bottom==_20.Left)
{if(_9.Top){_21=null;if(_19.Top=="solid")_21="";else if(_19.Top=="dashed")_21=" stroke-dasharray='5,5'";else if(_19.Top=="dotted")_21=" stroke-dasharray='1.5,2'";if(_21!=null&&_20.Top){_23=_22=_9.Top/2;_16.append("<rect x='",_22,"' y='",_23,"' width='",(_13-_9.Top),"' height='",(_14-_9.Top),"' stroke='",_20.Top,"' stroke-width='",_9.Top,"px'",_21," fill='none'/>")}}}else{var _24=["Left","Bottom","Right","Top"],_25,_26,_27,x,y;for(var i=0;i<_24.length;++i){var _30=_24[i];_25=_9[_30];if(_25){_26=_19[_30];_21=null;if(_26=="solid")_21="";else if(_26=="dashed")_21=" stroke-dasharray='5,5'";else if(_26=="dotted")_21=" stroke-dasharray='1.5,2'";if(_21!=null){_27=_20[_30];if(_27){if(_30=="Left"){x=_25/2;_23=_25/2;_16.append("<line x1='",x,"' y1='",_23,"' x2='",x,"' y2='",(_14-_23))}else if(_30=="Bottom"){_22=_25/2;y=_14-_25/2;_16.append("<line x1='",_22,"' y1='",y,"' x2='",(_13-_22),"' y2='",y)}else if(_30=="Right"){x=_13-_25/2;_23=_25/2;_16.append("<line x1='",x,"' y1='",_23,"' x2='",x,"' y2='",(_14-_23))}else{_22=_25/2;y=_25/2;_16.append("<line x1='",_22,"' y1='",y,"' x2='",(_13-_22),"' y2='",y)}
_16.append("' stroke='",_27,"' stroke-width='",_25,"px'",_21,"/>")}}}}}
_16.append("</svg>");return _16.release(false)},isc.A.getPrintHTML=function isc_DrawPane_getPrintHTML(_1,_2){if(this.drawingType=="bitmap"){var _3=document.getElementById(this.getID()+"$436");var _4="<img src='"+_3.toDataURL();if(_1&&_1.printForExport){_4+="' style='width:"+this.getWidth()+"px;max-width:100%"}else{_4+="' width='"+this.getWidth()+"' height='"+this.getHeight()}
_4+="'/>";return _4}else if(this.drawingType=="vml"){if(_1&&_1.printForExport)return this.getSvgString();var _5=document.getElementById(this.getID()+"$435");return"<div style='position:relative;width:"+this.getInnerContentWidth()+";height:"+this.getInnerContentHeight()+";'>"+_5.parentElement.innerHTML+"</div>"}else if(this.drawingType=="svg"){return this.getSvgString()}else{return""}},isc.A.$99x=function isc_DrawPane__batchDraw(_1){if(_1==null)_1=[];else if(!isc.isAn.Array(_1))_1=[_1];if(this.drawingType=="svg"){if(!this.$44m)return;var _2=isc.SVGStringConversionContext.create({printForExport:false});var _3="",_4="";for(var i=0;i<_1.length;i++){var _6=_1[i];if(_6.$44z)_6.$44z.parentNode.removeChild(_6.$44z);var _7=_6.getSvgString(_2);if(_6.drawToBack)_3+=_7;else _4+=_7}
var _8="";for(var _9 in _2.svgDefStrings){if(_2.svgDefStrings.hasOwnProperty(_9)&&!this.$44m.getElementById(_9)){var _10=_2.svgDefStrings[_9];_8+=_10}}
var _11=this.$44m.getElementById("isc_svg_box");if(!isc.Browser.isWebKit){var _12=this.$44m.createRange();_12.setStart(this.$44o,0);this.$44o.appendChild(_12.createContextualFragment(_8));_12.setStart(_11,0);_11.insertBefore(_12.createContextualFragment(_3),_11.firstChild);_11.appendChild(_12.createContextualFragment(_4))}else{var _13=new DOMParser();var _14=_13.parseFromString("<svg xmlns='"+isc.$100g+"' xmlns:"+_2.xlinkPrefix+"='"+isc.$100f+"'><defs>"+_8+"</defs><g>"+_3+"</g><g>"+_4+"</g></svg>","image/svg+xml");var _15=_14.documentElement;var _16=this.$44m.importNode(_15.childNodes.item(1),true);var _17=this.$44m.importNode(_15.childNodes.item(2),true);var _18=this.$44m.importNode(_15.childNodes.item(0),true);_15=null;_14=null;var _19;while(_19=_18.firstChild){this.$44o.appendChild(_19)}
var _20=_11.firstChild;while(_19=_16.firstChild){_11.insertBefore(_19,_20)}
while(_19=_17.firstChild){_11.appendChild(_19)}}
for(var i=0;i<_1.length;i++){var _6=_1[i];_6.drawPane=this;_6.drawingSVG=true;_6.$44m=this.$44m;_6.$44y=_11;_6.$44z=this.$44m.getElementById("isc_DrawItem_"+_6.drawItemID);_6.$113d();_6.$if=true}}else if(this.drawingType=="bitmap"){this.redrawBitmapNow(true)}else{var _21=_1.length,_22="",_23=isc.StringBuffer.create(),_2=isc.VMLStringConversionContext.create();for(var i=0;i<_21;++i){var _6=_1[i];if(_6.$44u!=null){if(_6.$44u.parentNode!=null)_6.$44u.parentNode.removeChild(_6.$44u);_6.$44t=null;_6.$44u=null;_6.$44w=null;_6.$44x=null;_6.$44j=null}
var _24="isc_DrawItem_"+_6.drawItemID;if(_6.drawToBack){var _25=isc.StringBuffer.create();_6.$44v(_25,_24,_2);_22=_25.release(false)+_22}else{_6.$44v(_23,_24,_2)}}
var _26=isc.Element.get(this.getID()+"$435");_26.insertAdjacentHTML("afterbegin",_22);_26.insertAdjacentHTML("beforeend",_23.release(false));var _27=_2.drawLabelsAccumulator,_28=(_27==null?0:_27.length);if(_28>0){_22="";_23=isc.StringBuffer.create();for(var i=0;i<_28;++i){var _29=_27[i];var _24="isc_DrawItem_"+_29.drawItemID;if(_29.drawToBack){var _25=isc.StringBuffer.create();_29.$44v(_25,_24);_22=_25.release(false)+_22}else{_29.$44v(_23,_24)}}
_26=this.getHandle();_26.insertAdjacentHTML("afterbegin",_22);_26.insertAdjacentHTML("beforeend",_23.release(false))}
for(var i=0;i<_21;++i){var _6=_1[i];_6.drawPane=this;_6.drawingVML=true;_6.$113d();_6.$if=true}}
this.$1264()},isc.A.$1264=function isc_DrawPane__setupEventOnlyDrawItems(){var _1=this.$1262;if(_1!=null){for(var i=0,l=_1.length;i<l;++i){_1[i].$113d()}}},isc.A.isBatchDrawing=function isc_DrawPane_isBatchDrawing(){return this.$99w>0},isc.A.$994=function isc_DrawPane__isBatchDrawing(){return(this.$99w>0||this.$995()||this.$l===false)&&this.$99z!==true},isc.A.beginBatchDrawing=function isc_DrawPane_beginBatchDrawing(){this.$99w=(this.$99w||0)+1},isc.A.endBatchDrawing=function isc_DrawPane_endBatchDrawing(_1){if(!this.isBatchDrawing())this.logWarn("Not in batch drawing mode. Exiting.");this.$100i(_1)},isc.A.$100i=function isc_DrawPane__endBatchDrawing(_1){if(!this.$994()||(this.$99w>0&&--this.$99w>0))return;if(_1==true&&!this.$994()){this.refreshNow()}else this.$992()},isc.A.refreshNow=function isc_DrawPane_refreshNow(){this.$99z=true;this.$99x(this.$63q);delete this.$63q;this.$99z=false},isc.A.drawChildren=function isc_DrawPane_drawChildren(){this.Super("drawChildren",arguments);if(!this.$994()){for(var i=0;i<this.drawItems.length;i++){var _2=this.drawItems[i];_2.draw()}}},isc.A.getBitmapContext=function isc_DrawPane_getBitmapContext(){var _1=this.$437;if(_1==null){var _2=this.getDocument().getElementById(this.getID()+"$436");if(!_2){this.logWarn("DrawPane failed to get CANVAS element handle");return}
_1=this.$437=_2.getContext("2d");if(!_1){this.logWarn("DrawPane failed to get CANVAS 2d bitmap context");return}}else{_1.setTransform(1,0,0,1,0,0)}
return _1},isc.A.redraw=function isc_DrawPane_redraw(_1){if(this.drawingType=="bitmap"){this.Super("redraw",arguments);this.$437=null;if(!this.$995())this.redrawBitmapNow()}},isc.A.$995=function isc_DrawPane__isRedrawTEAScheduled(){return this.$996==true||(this.drawingType=="bitmap"&&this.$439)},isc.A.$992=function isc_DrawPane__maybeScheduleRedrawTEA(){if(!this.$995()){if(this.drawingType=="bitmap")this.redrawBitmap();else{var _1=this;isc.EH.$ms(function(){_1.$997()});this.$996=true;this.$998=false}}},isc.A.$997=function isc_DrawPane__redrawTEA(){if(this.$998!==false)return;this.$998=true;if(!this.destroyed){if(this.$993){for(var i=0;i<this.$993.length;++i){var _2=this.$993[i];if(_2.$999){_2.$999.parentNode.removeChild(_2.$999);delete _2.$999}}
delete this.$993}
if(this.$100h){if(this.drawingType=="svg"&&this.$44m){for(var _3 in this.$100h){if(!this.$100h.hasOwnProperty(_3))continue;var _4=this.$100h[_3].$982;if(!_4)_4=this.$44m.getElementById(_3);if(_4){_4.parentNode.removeChild(_4);_3=_4.getAttributeNS(isc.$100f,"href");if(_3&&_3.charAt(0)=='#'){_3=_3.substring(1)}
if(_3){_4=this.$44m.getElementById(_3);if(_4)_4.parentNode.removeChild(_4)}}}}
delete this.$100h}
this.$99z=true;this.$99x(this.drawItems);this.$99z=false}
this.$996=false},isc.A.redrawBitmap=function isc_DrawPane_redrawBitmap(){if(this.$439||this.$155e)return;this.$439=true;var _1=this;isc.EH.$ms(function(){if(!_1.$439)return;_1.redrawBitmapNow()})},isc.A.$1338=function isc_DrawPane__getGlobalTransform(){var t=this.$1348;if(t!=null)return t;t=isc.AffineTransform.create();if(this.translate){t.translate(this.translate[0]-this.scrollLeft,this.translate[1]-this.scrollTop)}else{t.translate(-this.scrollLeft,-this.scrollTop)}
t.scale(this.zoomLevel,this.zoomLevel);if(this.rotation){t.rotate(this.rotation,this.$43z/2,this.$430/2)}
return(this.$1348=t)},isc.A.$147h=function isc_DrawPane__getInverseGlobalTransform(){var _1=this.$1346,_2=this.$1338();if(_1==null||_2!=this.$1347){_1=this.$1346=_2.getInverse();this.$1347=_2}
return _1},isc.A.redrawBitmapNow=function isc_DrawPane_redrawBitmapNow(_1){this.$439=false;this.$155e=true;var _2=this.$63q;if(_2!=null){for(var i=_2.length;i--;){var _4=_2[i];if(!this.shouldDeferDrawing(_4)){_2.remove(_4)}
_4.draw()}}
this.$155e=false;if(!this.isDrawn())return;var _5=this.getBitmapContext();if(!_5)return;_5.clearRect(0,0,this.$43z,this.$430);this.$150w={$150x:this.$1338(),$150y:this.scrollLeft,$1o:this.scrollTop,$150z:true};this.$1500(_5,this.drawItems);delete this.$150w;if(!_1)this.$1264()},isc.A.$1500=function isc_DrawPane__drawBitmapDrawItems(_1,_2){var _3=this.$150w;var _4=(_2?_2.length:0),_5=_3.$150z,_6=_3.$1501;for(var i=0;i<_4;++i){var _8=_2[i];_8.drawingBitmap=true;if(!_8.hidden){var _9=isc.isA.DrawGroup(_8);if(_9){_3.$150z=_5;_3.$1501=_6}else if(_5||_6!=_8.exemptFromGlobalTransform){_5=false;_6=_8.exemptFromGlobalTransform;if(_6){var _10=_3.$150y,_11=_3.$1o;_1.setTransform(1,0,0,1,_10,_11)}else{var t=_3.$150x;_1.setTransform(t.m00,t.m10,t.m01,t.m11,t.m02,t.m12)}}
_8.drawBitmap(_1);if(_9){_5=_3.$150z;_6=_3.$1501}
_8.$113d();_8.$if=true;_8.$99y()}}
_3.$150z=_5;_3.$1501=_6},isc.A.$150s=function isc_DrawPane__pageToGlobal(_1,_2){var _3=this.getPageOffsets(),_4=this.$150r;_4[0]=_1-(_3.left+this.getLeftMargin()+this.getLeftBorderSize()+this.getLeftPadding());_4[1]=_2-(_3.top+this.getTopMargin()+this.getTopBorderSize()+this.getTopPadding());return _4},isc.A.drawing2screen=function isc_DrawPane_drawing2screen(_1){return[Math.round(_1[0]*this.zoomLevel+this.$431-this.scrollLeft+this.getLeftPadding()),Math.round(_1[1]*this.zoomLevel+this.$432-this.scrollTop+this.getTopPadding()),Math.round(_1[2]*this.zoomLevel),Math.round(_1[3]*this.zoomLevel)]},isc.A.screen2drawing=function(screenRect){return[(screenRect[0]-this.getLeftPadding()+this.scrollLeft-this.$431)/this.zoomLevel,(screenRect[1]-this.getTopPadding()+this.scrollTop-this.$432)/this.zoomLevel,screenRect[2]/this.zoomLevel,screenRect[3]/this.zoomLevel]},isc.A.$136t=function isc_DrawPane__viewBoxUpdated(_1){delete this.$1348;this.$431=this.translate==null?0:this.translate[0];this.$432=this.translate==null?0:this.translate[1];this.$433=this.$43z/this.zoomLevel;this.$434=this.$430/this.zoomLevel;if(!_1){var _2=this.$150v;for(var i=0,_4=_2.length;i<_4;++i){var _5=_2[i];if(_5.$1502){_5.$1502()}}}
if(isc.Browser.isIE&&this.drawingType=="vml"){this.$1523.updatedGlobalTransform()}
if(!this.isDrawn())return;this.$44b();var _6=this.drawingType;if(_6==="vml"){var _7=this.$44c;if(this.vmlBox==null){_7=this.$44c=this.getDocument().getElementById(this.getID()+"$435")}
if(_7!=null){_7.style.left=(this.$431-this.scrollLeft)+this.getLeftPadding()+this.$ph;_7.style.top=(this.$432-this.scrollTop)+this.getTopPadding()+this.$ph;_7.coordsize=((this.$433*this.$1259)+","+(this.$434*this.$1259));_7.style.rotation=this.rotation==null?"":this.rotation}}else if(_6==="svg"){if(this.$44n!=null){var t=this.$1338();this.$44n.setAttributeNS(null,"transform","matrix("+t.m00+" "+t.m10+" "+t.m01+" "+t.m11+" "+t.m02+" "+t.m12+")")}}else{this.redrawBitmap()}});isc.evalBoundary;isc.B.push(isc.A.$136s=function isc_DrawPane__updateViewPort(){var _1=this.getInnerContentWidth(),_2=this.getInnerContentHeight();this.$43z=_1;this.$430=_2;this.scrollLeft=Math.max(0,Math.min(this.scrollLeft,this.getScrollRight()));this.scrollTop=Math.max(0,Math.min(this.scrollTop,this.getScrollBottom()));this.$433=_1/this.zoomLevel;this.$434=_2/this.zoomLevel;if(!this.isDrawn())return;this.$44b();var _3=this.drawingType;if(_3==="vml"){var _4=this.$44c;if(this.vmlBox==null){_4=this.$44c=this.getDocument().getElementById(this.getID()+"$435")}
if(_4!=null){_4.style.width=_1+this.$ph;_4.style.height=_2+this.$ph;_4.coordsize=((this.$433*this.$1259)+","+(this.$434*this.$1259))}}else if(_3==="svg"){if(this.$44d!=null){this.$44d.setAttributeNS(null,"viewBox","0 0 "+_1+" "+_2)}}else{var _5=this.getDocument().getElementById(this.getID()+"$436");if(_5!=null){_5.width=_1;_5.height=_2}
this.redrawBitmap()}},isc.A.addCanvasItem=function isc_DrawPane_addCanvasItem(_1){this.canvasItems.add(_1);_1.drawPane=this;_1.$44e=_1.left;_1.$44f=_1.top;_1.$44g=_1.width;_1.$44h=_1.height;this.addChild(_1);this.$44i(_1);return _1},isc.A.removeCanvasItem=function isc_DrawPane_removeCanvasItem(_1){if(this.canvasItems!=null)this.canvasItems.remove(_1)},isc.A.$99c=function isc_DrawPane__getSimpleGradientSvgString(_1,_2,_3,_4){return this.$99d(_1,{id:_2.id,direction:_2.direction,colorStops:[{color:_2.startColor,offset:0.0},{color:_2.endColor,offset:1.0}]},_3,_4)},isc.A.$99d=function isc_DrawPane__getLinearGradientSvgString(_1,_2,_3,_4){var _5=_3.svgDefStrings||(_3.svgDefStrings={}),_6=_1;if(!_5[_6]){var _7=isc.SB.create();_7.append("<linearGradient id='",_6,"'>");if(_2.startColor!=null&&_2.endColor!=null){_7.append("<stop stop-color='",_2.startColor,"' offset='0' stop-opacity='1'/>","<stop stop-color='",_2.endColor,"' offset='1' stop-opacity='1'/>")}else if(isc.isAn.Array(_2.colorStops)){for(var i=0;i<_2.colorStops.length;++i){var _9=_2.colorStops[i],_10=_9.opacity||"1";_7.append("<stop stop-color='",_9.color,"' offset='",_9.offset,"' stop-opacity='",_10,"'/>")}}
_7.append("</linearGradient>");_5[_6]=_7.release(false)}
_1="gradient"+_3.getNextSvgDefNumber();_4.$1139=_1;var _11=(_3.xlinkPrefix||isc.SVGStringConversionContext.$99a),_12=_4.$830(_2);return isc.SB.concat("<linearGradient id='",_1,"' ",_11,":href='#",_6,"' x1='",_12[0],"' y1='",_12[1],"' x2='",_12[2],"' y2='",_12[3],"' gradientUnits='userSpaceOnUse'/>")},isc.A.$99e=function isc_DrawPane__getRadialGradientSvgString(_1,_2,_3,_4){var _5=_3.svgDefStrings||(_3.svgDefStrings={}),_6=_1,_7,_8=_3.xlinkPrefix||isc.SVGStringConversionContext.$99a;if(!_5[_6]){_7="<radialGradient id='"+_6;if(_2.$981!=null){var _9,_10;if(isc.isA.String(_2.$981)){_9=_2.$981;_10=this.$135l[_9]}else{_10=_2.$981;_9=_10.id}
if(!_5[_9]){_5[_9]=this.$99e(_9,_10,_3)}
_7+="' "+_8+":href='#"+_9}
_7+="'>";if(_2.colorStops!=null){for(var i=0;i<_2.colorStops.length;++i){var _12=_2.colorStops[i],_13=_12.opacity||"1";_7+="<stop stop-color='"+_12.color+"' offset='"+_12.offset+"' stop-opacity='"+_13+"'/>"}}
_7+="</radialGradient>";_5[_6]=_7}
if(_4!=null){_1="gradient"+_3.getNextSvgDefNumber();_4.$1139=_1;var _14=_4.$831(_2);_7="<radialGradient id='"+_1+"' "+_8+":href='#"+_6;if(_2.cx!=null)_7+="' cx='"+_14[0];if(_2.cy!=null)_7+="' cy='"+_14[1];if(_2.fx!=null)_7+="' fx='"+_14[3];if(_2.fy!=null)_7+="' fy='"+_14[4];if(_2.r!=null)_7+="' r='"+_14[5];_7+="' gradientUnits='userSpaceOnUse'/>"}
return _7},isc.A.$99f=function isc_DrawPane__getFilterSvgString(_1){if(_1=="isc_ds1"){return"<filter id='isc_ds1'><feOffset result='offOut' in='SourceAlpha' dx='2.4' dy='2.4'/><feGaussianBlur result='blurOut' in='offOut' stdDeviation='1.8'/><feColorMatrix result='cmatOut' in='blurOut' type='matrix' values='1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 0.8 0'/><feBlend in='SourceGraphic' in2='cmatOut' mode='normal'/></filter>"}
return null},isc.A.$44i=function isc_DrawPane__updateCanvasItemToViewBox(_1){_1.synchingToPane=true;_1.setRect(this.drawing2screen([_1.$44e,_1.$44f,_1.$44g,_1.$44h]));if(_1.drawBorderSize){_1.getStyleHandle().borderWidth=Math.max(1,_1.drawBorderSize*this.zoomLevel)+"px"}
delete _1.synchingToPane},isc.A.$44b=function isc_DrawPane__updateItemsToViewBox(){for(var i=0,_2;i<this.canvasItems.length;i++){this.$44i(this.canvasItems[i])}
var _3;var _4=this.$1363=this.zoomLevel;var _5=_3!=_4;if(this.drawingType==="vml"){for(var i=0;i<this.drawItems.length;++i){var _6=this.drawItems[i];if(!_6.drawingVML)continue;if(isc.isA.DrawLabel(_6)){if(_5)_6.$125u().fontSize=(_6.fontSize*this.zoomLevel)+"px";if(!_6.synchTextMove){var _7=this.drawing2screen([_6.left,_6.top,0,0]);var _8=_6.$125f().style;_8.left=_7[0]+isc.px;_8.top=_7[1]+isc.px}}else if(_5){_6.$44l(_6.lineWidth*this.zoomLevel)}}}else if(this.drawingType==="bitmap"){for(var i=0;i<this.drawItems.length;++i){var _6=this.drawItems[i];if(isc.isA.DrawLabel(_6)&&_6.$45c!=null){isc.Element.$136r(_6.$45c,_6.$45c.$136u())}}}},isc.A.getScrollLeft=function isc_DrawPane_getScrollLeft(){return this.scrollLeft},isc.A.getScrollRight=function isc_DrawPane_getScrollRight(){return Math.max(0,this.drawingWidth*this.zoomLevel-this.$43z)<<0},isc.A.getScrollTop=function isc_DrawPane_getScrollTop(){return this.scrollTop},isc.A.getScrollBottom=function isc_DrawPane_getScrollBottom(){return Math.max(0,this.drawingHeight*this.zoomLevel-this.$430)<<0},isc.A.scrollTo=function isc_DrawPane_scrollTo(_1,_2,_3){if(_1==null)_1=this.scrollLeft;if(_2==null)_2=this.scrollTop;_1=Math.max(0,Math.min(_1,this.getScrollRight()));_2=Math.max(0,Math.min(_2,this.getScrollBottom()));if(this.scrollLeft!=_1||this.scrollTop!=_2){this.scrollLeft=_1;this.scrollTop=_2;this.$136t(true)}},isc.A.pan=function isc_DrawPane_pan(_1,_2){var _3=this.translate;if(_3==null)_3=this.translate=[0,0];_3[0]-=_1;_3[1]-=_2;if(_1!=0||_2!=0){this.$136t()}},isc.A.setZoomLevel=function isc_DrawPane_setZoomLevel(_1){if(!(_1>0)){this.logWarn("The requested zoomLevel:"+_1+" is not greater than 0.");return}
var _2=this.zoomLevel;this.zoomLevel=_1;var _3=Math.max(0,Math.min(this.scrollLeft,this.getScrollRight())),_4=Math.max(0,Math.min(this.scrollTop,this.getScrollBottom()));if(_1!=_2||this.scrollLeft!=_3||this.scrollTop!=_4)
{this.scrollLeft=_3;this.scrollTop=_4;this.$136t(_1==_2)}},isc.A.zoom=function isc_DrawPane_zoom(_1){this.setZoomLevel(_1)},isc.A.setRotation=function isc_DrawPane_setRotation(_1){if(this.rotation!=_1){this.rotation=_1;this.$136t()}},isc.A.rotate=function isc_DrawPane_rotate(_1){this.setRotation(_1)},isc.A.addGradient=function isc_DrawPane_addGradient(_1){var _2=_1.id;if(!_2){if(!this.$135n)this.$135n=0;_2=this.getID()+"_gradient_"+this.$135n++;_1.id=_2}
if(!_1._constructor)_1._constructor=isc.DrawItem.$135m(_1);if(this.$135l[_1.id]!=null){isc.logWarn("Duplicate gradient with ID "+_1.id+" - replacing previous gradient")}
if(!this.gradients){this.gradients=[];this.$135l={}}
this.gradients.add(_1);this.$135l[_2]=_1;return _2},isc.A.getGradient=function isc_DrawPane_getGradient(_1){return(this.gradients?this.$135l[_1]:null)},isc.A.removeGradient=function isc_DrawPane_removeGradient(_1){if(this.gradients){var _2=this.$135l[_1];if(_2){delete this.$135l[_1];this.gradients.remove(_2)}}},isc.A.createSimpleGradient=function isc_DrawPane_createSimpleGradient(_1,_2){_2.id=_1;this.addGradient(_2);return _1},isc.A.createLinearGradient=function isc_DrawPane_createLinearGradient(_1,_2){_2.id=_1;this.addGradient(_2);return _1},isc.A.createRadialGradient=function isc_DrawPane_createRadialGradient(_1,_2){_2.id=_1;this.addGradient(_2);return _1},isc.A.shouldDeferDrawing=function isc_DrawPane_shouldDeferDrawing(_1){if(this.$994()||(this.drawingType=="svg"&&!this.$44m)||(this.drawingType=="vml"&&!this.getHandle()))
{if(!this.$63q){this.$63q=[_1]}else{if(!this.$63q.contains(_1))this.$63q.add(_1)}
return true}
return false},isc.A.cancelDeferredDraw=function isc_DrawPane_cancelDeferredDraw(_1){if(this.$63q){return this.$63q.remove(_1)}
return false},isc.A.svgLoaded=function isc_DrawPane_svgLoaded(){this.$44m=this.getHandle().firstChild.contentDocument;this.$44d=this.$44m.getElementById("isc_svg_body");this.$44n=this.$44m.getElementById("isc_svg_box");this.$44o=this.$44m.getElementById("isc_svg_defs");this.$136s();if(this.$63q){if(!this.$995())this.$100i(true)}
this.$l=true});isc.B._maxIndex=isc.C+87;isc.A=isc.DrawPane;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.defaultDrawingType=isc.Browser.defaultDrawingType;isc.A.$44p=[];isc.A.$156w=/[\u0009\u000C\u000D]/g;isc.B.push(isc.A.getDefaultDrawPane=function isc_c_DrawPane_getDefaultDrawPane(_1){if(!_1)_1=this.defaultDrawingType;if(this.$44p[_1])return this.$44p[_1];var _2=this.$44p[_1]=this.create({drawingType:_1,width:isc.Page.getScrollWidth(),height:isc.Page.getScrollHeight(),autoDraw:true});_2.sendToBack();return _2},isc.A.$104v=function isc_c_DrawPane__getMeasureCanvas(){var _1=this.$78l;if(_1==null){_1=this.$78l=isc.Canvas.create({top:-1000,overflow:"visible",autoDraw:false,height:1,width:1,markForRedraw:isc.Class.NO_OP});_1.draw()}
return _1},isc.A.addrgb=function isc_c_DrawPane_addrgb(_1,_2){var _3=0xff,_4=parseInt(_1.substr(1),16)>>>0,_5=parseInt(_2.substr(1),16)>>>0,_6=Math.min(_3,((_4>>>16)&_3)+((_5>>>16)&_3))>>>0,_7=Math.min(_3,((_4>>>8)&_3)+((_5>>>8)&_3))>>>0,_8=Math.min(_3,(_4&_3)+(_5&_3))>>>0,_9=(_6<<16)|(_7<<8)|_8;return"#"+isc.NumberUtil.$117c(6,false,_9,16)},isc.A.subtractrgb=function isc_c_DrawPane_subtractrgb(_1,_2){var _3=0xff,_4=parseInt(_1.substr(1),16)>>>0,_5=parseInt(_2.substr(1),16)>>>0,_6=Math.max(0,((_4>>>16)&_3)-((_5>>>16)&_3))>>>0,_7=Math.max(0,((_4>>>8)&_3)-((_5>>>8)&_3))>>>0,_8=Math.max(0,(_4&_3)-(_5&_3))>>>0,_9=(_6<<16)|(_7<<8)|_8;return"#"+isc.NumberUtil.$117c(6,false,_9,16)},isc.A.mixrgb=function isc_c_DrawPane_mixrgb(_1,_2){return _2.charAt(0)==='+'?isc.DrawPane.addrgb(_1,_2.substring(1)):_2.charAt(0)==='-'?isc.DrawPane.subtractrgb(_1,_2.substring(1)):_2},isc.A.$105t=function isc_c_DrawPane__mutergb(_1,_2){var _3=0xff,_4=parseInt(_2.substr(1),16)>>>0,_5=((_4>>>16)&_3)/_3,_6=((_4>>>8)&_3)/_3,_7=(_4&_3)/_3,_8=Math.min(_5,_6,_7),_9=Math.max(_5,_6,_7),h,s,l=(_8+_9)/2;if(_8==_9){h=s=0}else{var c=_9-_8;s=c/(2*(l<0.5?l:1-l));if(_9==_5){h=(_6-_7)/c;if(_6<_7){h+=6}}else if(_9==_6){h=(_7-_5)/c+2}else{h=(_5-_6)/c+4}
h/=6}
if(_1<=0){l*=(100+_1)/100}else{l+=(_1/100)*(1-l)}
var _14,_15,_16;if(s==0){_14=_15=_16=Math.max(0,Math.min(_3,Math.round(_3*l)))>>>0}else{var _17=l+s*(l<0.5?l:1.0-l),_18=2*l-_17,_19=(3*h-Math.floor(3*h))/3,_20=_17-6*(_17-_18)*Math.abs(_19-1/6),r,g,b;switch(Math.floor(h*6)){case 0:case 6:r=_17;g=_20;b=_18;break;case 1:r=_20;g=_17;b=_18;break;case 2:r=_18;g=_17;b=_20;break;case 3:r=_18;g=_20;b=_17;break;case 4:r=_20;g=_18;b=_17;break;case 5:r=_17;g=_18;b=_20;break}
_14=Math.max(0,Math.min(_3,Math.round(_3*r)))>>>0;_15=Math.max(0,Math.min(_3,Math.round(_3*g)))>>>0;_16=Math.max(0,Math.min(_3,Math.round(_3*b)))>>>0}
var _24=((_14<<16)|(_15<<8)|_16);return"#"+isc.NumberUtil.$117c(6,false,_24,16)},isc.A.hex2rgb=function isc_c_DrawPane_hex2rgb(_1,_2){var _3=_1.split('#')[1];var _4=_3.length/3;var _5=_3.substring(0,_4);var _6=_3.substring(_4,_4*2);var _7=_3.substring(_4*2,_4*3);var _8=parseInt(_5.toUpperCase(),16);var _9=parseInt(_6.toUpperCase(),16);var _10=parseInt(_7.toUpperCase(),16);var _11=(typeof(_2)!=='undefined')?'rgba('+_8+','+_9+','+_10+','+_2+')':'rgb('+_8+','+_9+','+_10+')';return _11},isc.A.rgb2hex=function isc_c_DrawPane_rgb2hex(_1){var _2="",v,i;var _5=/([0-9]+)[, ]+([0-9]+)[, ]+([0-9]+)/;var h=_5.exec(_1);for(i=1;i<4;i++){v=parseInt(h[i],10).toString(16);if(v.length==1){_2+="0"+v}else{_2+=v}}
return("#"+_2)},isc.A.scaleAndCenter=function isc_c_DrawPane_scaleAndCenter(_1,_2,_3,_4,_5){var n=_5.length,_7=_5[0][0],_8=_7,_9=_5[0][1],_10=_9;for(var i=1;i<n;++i){var x=_5[i][0],y=_5[i][1];_7=Math.min(_7,x);_8=Math.max(_8,x);_9=Math.min(_9,y);_10=Math.max(_10,y)}
var _14=(_7+_8)/2,_15=(_9+_10)/2,_16=_1/(_8-_7),_17=_2/(_10-_9);for(var i=0;i<n;++i){var _18=_5[i];_18[0]=isc.DrawItem.$1503(_3+_16*(_18[0]-_14));_18[1]=isc.DrawItem.$1503(_4+_17*(_18[1]-_15))}
return _5},isc.A.bezier=function isc_c_DrawPane_bezier(_1,_2,_3,_4,_5){var u=(1-_5),_7=u*_1+_5*_2,_8=u*_2+_5*_3,_9=u*_3+_5*_4,_10=u*_7+_5*_8,_11=u*_8+_5*_9;return(u*_10+_5*_11)},isc.A.bezierExtrema=function isc_c_DrawPane_bezierExtrema(_1,_2,_3,_4){var _5=1e-6,_6=Math.min(_1,_4),_7=Math.max(_1,_4);var a=(-_1+3*(_2-_3)+_4),b=2*(_1-_2-_2+_3),c=(-_1+_2),_11=(b*b-4*a*c),_12=(Math.abs(a)<_5);if(_12){var _13=(Math.abs(b)<_5);if(!_13){var _14=-c/b;_14=Math.max(0,Math.min(1,_14));var _15=isc.DrawPane.bezier(_1,_2,_3,_4,_14);_6=Math.min(_6,_15);_7=Math.max(_7,_15)}}else if(_11>=0){var _16=Math.sqrt(_11),_17=(-b+_16)/(2*a),_18=(-b-_16)/(2*a);_17=Math.max(0,Math.min(1,_17));_18=Math.max(0,Math.min(1,_18));var _19=isc.DrawPane.bezier(_1,_2,_3,_4,_17),_20=isc.DrawPane.bezier(_1,_2,_3,_4,_18);_6=Math.min(_6,_19,_20);_7=Math.max(_7,_19,_20)}
return[_6,_7]},isc.A.getBezierBoundingBox=function isc_c_DrawPane_getBezierBoundingBox(_1,_2,_3,_4){var _5=isc.DrawPane.bezierExtrema(_1[0],_2[0],_3[0],_4[0]),_6=isc.DrawPane.bezierExtrema(_1[1],_2[1],_3[1],_4[1]);return[_5[0],_6[0],_5[1],_6[1]]},isc.A.scaleAndCenterBezier=function isc_c_DrawPane_scaleAndCenterBezier(_1,_2,_3,_4,_5,_6,_7,_8){var _9=isc.DrawPane.getBezierBoundingBox(_5,_7,_8,_6),_10=_9[2],_11=_9[0],_12=_9[3],_13=_9[1],_14=_1/(_10-_11),_15=_2/(_12-_13),_16=(_11+_10)/2,_17=(_13+_12)/2;_5[0]=isc.DrawItem.$1503(_3+_14*(_5[0]-_16));_5[1]=isc.DrawItem.$1503(_4+_15*(_5[1]-_17));_6[0]=isc.DrawItem.$1503(_3+_14*(_6[0]-_16));_6[1]=isc.DrawItem.$1503(_4+_15*(_6[1]-_17));_7[0]=isc.DrawItem.$1503(_3+_14*(_7[0]-_16));_7[1]=isc.DrawItem.$1503(_4+_15*(_7[1]-_17));_8[0]=isc.DrawItem.$1503(_3+_14*(_8[0]-_16));_8[1]=isc.DrawItem.$1503(_4+_15*(_8[1]-_17))},isc.A.getRegularPolygonPoints=function isc_c_DrawPane_getRegularPolygonPoints(_1,_2,_3,_4,_5,_6){var _7=2*Math.PI/_1,_8=new Array(_1);for(var i=0;i<_1;++i){_8[i]=_6+i*_7}
return isc.DrawPane.getPolygonPoints(_2,_3,_4,_5,_8)},isc.A.getPolygonPoints=function isc_c_DrawPane_getPolygonPoints(_1,_2,_3,_4,_5){var n=_5.length,_7=new Array(n);if(n==0){return _7}else if(n==1){_7[0]=[_3,_4];return _7}
var _8=-1,_9=1,_10=-1,_11=1;for(var i=0;i<n;++i){var _13=_5[i],_14=Math.sin(_13),_15=Math.cos(_13);_7[i]=[_15,_14];_8=Math.max(_8,_14);_9=Math.min(_9,_14);_10=Math.max(_10,_15);_11=Math.min(_11,_15)}
var t=Math.min(_1/(_10-_11),_2/(_8-_9)),_17=_3-_1/2+(_1-t*(_10-_11))/2-t*_11,_18=_4-_2/2+(_2-t*(_8-_9))/2+t*_8;for(var i=0;i<n;++i){var _19=_7[i];_19[0]=isc.DrawItem.$1503(_17+t*_19[0]);_19[1]=isc.DrawItem.$1503(_18-t*_19[1])}
return _7},isc.A.$138o=function isc_c_DrawPane__interpolateRGB(_1,_2,_3){var _4=0xff,_5=parseInt(_1.substr(1),16)>>>0,_6=((_5>>16)&_4)/_4,_7=((_5>>8)&_4)/_4,_8=(_5&_4)/_4,_9=parseInt(_2.substr(1),16)>>>0,_10=((_9>>16)&_4)/_4,_11=((_9>>8)&_4)/_4,_12=(_9&_4)/_4;var _13=(1-_3)*_6+_3*_10,_14=(1-_3)*_7+_3*_11,_15=(1-_3)*_8+_3*_12;var r=Math.max(0,Math.min(_4,Math.floor(_4*_13)))>>>0,g=Math.max(0,Math.min(_4,Math.floor(_4*_14)))>>>0,b=Math.max(0,Math.min(_4,Math.floor(_4*_15)))>>>0,_19=((r<<16)|(g<<8)|b);return"#"+isc.NumberUtil.$117c(6,false,_19,16)},isc.A.$138p=function isc_c_DrawPane__colorLightness(_1){var _2=0xff,_3=parseInt(_1.substr(1),16),_4=((_3>>>16)&_2)/_2,_5=((_3>>>8)&_2)/_2,_6=(_3&_2)/_2,_7=Math.min(_4,_5,_6),_8=Math.max(_4,_5,_6);return(_7+_8)/2});isc.B._maxIndex=isc.C+17;isc.defineClass("DrawItem");isc.A=isc.DrawItem;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$147e=4*(Math.SQRT2-1)/3;isc.A.$125w=isc.Math.$125w;isc.A.$146s={dx:0,dy:0,sx:0,sy:0,kx:0,ky:0,theta:0,cx:0,cy:0,h00:0,h01:0,h02:0,h10:0,h11:0,h12:0};isc.A.$147i={success:false,left:0,top:0,width:0,height:0};isc.B.push(isc.A.computeAngle=function isc_c_DrawItem_computeAngle(_1,_2,_3,_4){var a=Math.atan2(_4-_2,_3-_1);if(a<0)a+=2*Math.PI;return a/this.$125w},isc.A.$1503=function isc_c_DrawItem__makeCoordinate(_1){return Math.round(_1)},isc.A.$135h=function isc_c_DrawItem__isSimpleGradient(_1){return(_1.direction!=null)},isc.A.$135i=function isc_c_DrawItem__isLinearGradient(_1){return(_1.x1!=null)},isc.A.$135j=function isc_c_DrawItem__isRadialGradient(_1){return(!isc.DrawItem.$135h(_1)&&!isc.DrawItem.$135i(_1))},isc.A.$135m=function isc_c_DrawItem__getGradientConstructor(_1){return(isc.DrawItem.$135h(_1)?"SimpleGradient":(isc.DrawItem.$135i(_1)?"LinearGradient":"RadialGradient"))},isc.A.$145r=function isc_c_DrawItem__decomposeTransform(_1,_2,_3){var _4=_1.m00,_5=_1.m01,_6=_1.m02,_7=_1.m10,_8=_1.m11,_9=_1.m12,_10=isc.DrawItem.$146s;if(_4==0&&_5==0&&_7==0&&_8==0){_10.sx=_10.sy=_10.kx=_10.ky=_10.theta=0;_10.dx=_10.h02=_6;_10.dy=_10.h12=_9;_10.h00=_10.h01=_10.h10=_10.h11;return _10}
var _11=1e-9,_12=_4*_8-_5*_7,_13=(Math.abs(_12)<_11);var _14=Math.abs(_12),_15=(_12<0?-1:1),_16=_4+_15*_8,_17=_5-_15*_7,_18=_7-_15*_5,_19=_8+_15*_4,_20=_16*_19-_17*_18,_21=Math.sqrt(Math.abs(_20));var _22=(_20<0),_23=Math.atan2(_18,_16);_16/=_21;_17/=_21;_18/=_21;_19/=_21;var _24=(_4*_4+_7*_7+_14)/_21,_25=(_4*_5+_7*_8)/_21,_26=_25,_27=(_5*_5+_8*_8+_14)/_21;var c=Math.cos(_23),s=Math.sin(_23),_30=c*c,_31=s*s,_32=Math.cos(2*_23),_33=Math.sin(2*_23),_34=0,_35=0,_36=0,_37=0;if(_22){_34=_30*_24+_33*_25+_31*_27;_35=-_32*_25+c*s*(_24-_27);_36=_35;_37=_30*_27-_33*_25+_31*_24}else{_34=_30*_24-_33*_25+_31*_27;_35=_32*_25+c*s*(_24-_27);_36=_35;_37=_30*_27+_33*_25+_31*_24}
var _38=(_34*_37-_35*_36);var _39=0,_40=0,_41=0,_42=0,_43=0,_44=0;if(_22){var _45=_33-s,_46=c-_32,_21=(-_2*_46+_3*_45),_47=(_2*_45+_3*_46);_43=_6-(_34*_21+_35*_47);_44=_9-(_35*_21+_37*_47);_40=_33*_35-_32*_37;_42=(_32*_35+_33*_37)/_40;_39=-_38/_40;_41=(_33*_34-_32*_35)/_39}else{var _45=(_3*s+_2*(1-c)),_46=(-_2*s+_3*(1-c));_43=_6-(_45*_34+_46*_35);_44=_9-(_45*_35+_46*_37);if(_34==0||_37==0||_35==0){_39=_34;_40=_37;_41=_42=0}else if(_38==0){_39=_34;_40=_37;_41=_42=0}else{_39=_38/_37;_40=_37;_41=_35/_39;_42=_35/_40}}
_10.dx=_43;_10.dy=_44;_10.sx=_39;_10.sy=_40;_10.kx=_41;_10.ky=_42;_10.theta=_23;_10.cx=_2;_10.cy=_3;_10.h00=_24;_10.h01=_25;_10.h10=(_22?-_26:_26);_10.h11=(_22?-_27:_27);_10.h02=_6*c+_9*s;_10.h12=-_6*s+_9*c;return _10},isc.A.$147j=function isc_c_DrawItem__fitBestRect(_1,_2,_3,_4,_5,_6,_7,_8){var _9=isc.DrawItem.$147i;_9.success=false;var _10=1e-9;if(_6!=0&&_7!=0&&Math.abs(_1.getDeterminant())>_10)
{var _11=(_4==Math.floor(_4)&&_5==Math.floor(_5)&&_6==Math.floor(_6)&&_7==Math.floor(_7)),_12=0,_13=0,_14=0,_15=0;var _16=isc.DrawItem.$145r(_1,_2,_3),_17=_16.h00,_18=_16.h01,_19=_16.h02,_20=_16.h10,_21=_16.h11,_22=_16.h12,_23=(_17*_21-_18*_20);if(_11){var _24=isc.Math.$108y(_4,_6)||1,_25=isc.Math.$108y(_5,_7)||1;_12=Math.round(_17*_24)/_24;_13=Math.round(_21*_25)/_25;if(_12==0){_12=(_17<0?-1:1)/_24}
if(_13==0){_13=(_21<0?-1:1)/_25}
_14=Math.round(_12*(_21*_19-_18*_22)/_23);_15=Math.round(_13*(_17*_22-_20*_19)/_23)}else{_12=_17;_13=_21;_14=_12*(_21*_19-_18*_22)/_23;_15=_13*(_17*_22-_20*_19)/_23}
if(_12!=0&&_13!=0){var t=isc.AffineTransform.create({m00:_12,m01:0,m02:_14,m10:0,m11:_13,m12:_15});var v=t.transform(_4,_5),w=t.transform(_4+_6,_5+_7),_29=0,_30=0,_31=0,_32=0;if(_11){var _33=Math.round(w.v0),_34=Math.round(w.v1);_29=Math.round(v.v0);_30=Math.round(v.v1);_31=_33-_29;_32=_34-_30}else{_29=v.v0;_30=v.v1;_31=w.v0-_29;_32=w.v1-_30}
if(_31!=0&&_32!=0){var _35=(_8||0);if(_35!=0){if(_12!=1){var _36=(_31+2*_35),_37=(_31+2*_12*_35);_14=(_35*(_12-1)*(_31+2*_29)+_36*_14)/_37;_12*=_36/_37}
if(_13!=1){var _38=(_32+2*_35),_39=(_32+2*_13*_35);_15=(_35*(_13-1)*(_32+2*_30)+_38*_15)/_39;_13*=_38/_39}
t.m00=_12;t.m02=_14;t.m11=_13;t.m12=_15}
_1.rightMultiply(t.getInverse());_9.success=true;_9.left=_29;_9.top=_30;_9.width=_31;_9.height=_32}}}
return _9});isc.B._maxIndex=isc.C+8;isc.A=isc.DrawItem.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$125w=isc.Math.$125w;isc.A.dragRepositionCursor="move";isc.A.showHover=true;isc.A.lineWidth=3;isc.A.lineColor="#808080";isc.A.lineOpacity=1.0;isc.A.linePattern="solid";isc.A.lineCap="round";isc.A.fillGradient=null;isc.A.fillOpacity=1.0;isc.A.shadow=null;isc.A.rotation=0;isc.A.xShearFactor=0;isc.A.yShearFactor=0;isc.A.scale=null;isc.A.translate=null;isc.A.exemptFromGlobalTransform=false;isc.A.svgFilter=null;isc.A.resizeViaLocalTransformOnly=false;isc.A.proportionalResizing="modifier";isc.A.proportionalResizeModifiers=["Shift"];isc.A.autoOffset=true;isc.A.canDrag=false;isc.A.hitTolerance=0;isc.A.$126i=[0,0,0,0];isc.A.$145i=new Array(4);isc.A.$147k={cx:0,cy:0};isc.A.computeAngle=isc.DrawItem.computeAngle;isc.A.dragStartDistance=1;isc.A.startHover=isc.Canvas.getInstanceProperty("startHover");isc.A.stopHover=isc.Canvas.getInstanceProperty("stopHover");isc.A.$80l=isc.Class.NO_OP;isc.A.moveKnobPoint="TL";isc.A.$135e={"TL":[-8,10],"TR":[8,10],"BL":[-8,-10],"BR":[8,-10]};isc.A.moveKnobDefaults={cursor:"move",knobShapeProperties:{fillColor:"#00ff00"}};isc.A.moveKnobConstructor="DrawKnob";isc.A.resizeKnobPoints=["TL","TR","BL","BR","T","R","B","L"];isc.A.cornerResizeKnobDefaults={knobShapeProperties:{_constructor:"DrawOval",radius:4.5,lineWidth:1,lineOpacity:1,fillOpacity:1,lineColor:"#333333",fillGradient:{x1:"0%",y1:"0%",x2:"0%",y2:"100%",colorStops:[{color:"#ffffff",offset:0.15},{color:"#CAE9ED",offset:0.5},{color:"#ffffff",offset:0.85}]}}};isc.A.cornerResizeKnobConstructor="DrawKnob";isc.A.sideResizeKnobDefaults={knobShapeProperties:{_constructor:"DrawRect",width:7,height:7,lineWidth:1,fillOpacity:1,lineColor:"#333333",fillGradient:{x1:"0%",y1:"0%",x2:"0%",y2:"100%",colorStops:[{color:"#ffffff",offset:0.2},{color:"#C9F4F8",offset:0.5},{color:"#ffffff",offset:0.95}]}}};isc.A.sideResizeKnobConstructor="DrawKnob";isc.A.resizeOutlineDefaults={lineWidth:1,lineColor:"#007FFF",linePattern:"shortdot",autoDraw:true,fillOpacity:0,$145w:true};isc.A.resizeOutlineConstructor="DrawRect";isc.A.showResizeOutline=true;isc.A.$151u="none";isc.A.startKnobDefaults={knobShapeProperties:{_constructor:"DrawOval",radius:4.5,lineWidth:1,lineOpacity:1,fillOpacity:1,lineColor:"#333333",fillGradient:{x1:"0%",y1:"0%",x2:"0%",y2:"100%",colorStops:[{color:"#ffffff",offset:0.15},{color:"#CAE9ED",offset:0.5},{color:"#ffffff",offset:0.85}]}}};isc.A.startKnobConstructor="DrawKnob";isc.A.endKnobDefaults={knobShapeProperties:{_constructor:"DrawOval",radius:4.5,lineWidth:1,lineOpacity:1,fillOpacity:1,lineColor:"#333333",fillGradient:{x1:"0%",y1:"0%",x2:"0%",y2:"100%",colorStops:[{color:"#ffffff",offset:0.15},{color:"#CAE9ED",offset:0.5},{color:"#ffffff",offset:0.85}]}}};isc.A.endKnobConstructor="DrawKnob";isc.A.vmlLineEventsOnly=false;isc.A.$125g="solid";isc.A.$1364=" stroked='false'";isc.A.$1365=" filled='false'";isc.A.$44r={shortdot:1,dot:1,shortdash:3,dash:4,longdash:8};isc.A.$44s={shortdot:1,dot:3,shortdash:1,dash:3,longdash:3};isc.B.push(isc.A.$1504=function isc_DrawItem__getDrawPane(){var _1=null;for(var _2=this;;){if(_2.drawPane!=null){_1=_2.drawPane;break}else if(_2.drawGroup!=null){_2=_2.drawGroup}else{break}}
return _1},isc.A.$151j=function isc_DrawItem__getProportionalResizing(){var _1=this.proportionalResizing,_2=_1=="always",_3=!_2&&_1=="modifier",_4=!(_2||_3)&&_1=="modifierOff";if(!(_2||_3||_4)){return"none"}
var _5=this.resizeKnobPoints,_6=(!this.destroying&&!this.destroyed&&this.knobs!=null&&this.knobs.contains("resize")&&_5!=null&&_5.length>0&&(_5.contains("TL")||_5.contains("TR")||_5.contains("BL")||_5.contains("BR"))&&this.dragResizeMove==isc.DrawItem.getInstanceProperty("dragResizeMove"));if(!_6){return"none"}else{var _7=(isc.Page.$151g(this.proportionalResizeModifiers)==0);if(_7){if(_3){return"always"}else if(_4){return"none"}}
return _1}},isc.A.setPropertyValue=function isc_DrawItem_setPropertyValue(_1,_2){var _3=this.$ds(_1),_4;if(isc.isA.StringMethod(_2)){_2=_2.getValue()}
if(_3!=null){if(!this.getClass().isMethodSupported(_3)){return}
this[_3](_2)}else{_4={};_4[_1]=_2;this.addProperties(_4)}
if(this.propertyChanged){this.propertyChanged(_1,_2)}
if(this.doneSettingProperties){if(_3!=null){_4={};_4[_1]=_2}
this.doneSettingProperties(_4)}},isc.A.setCursor=function isc_DrawItem_setCursor(_1){this.cursor=_1},isc.A.setDragRepositionCursor=function isc_DrawItem_setDragRepositionCursor(_1){this.dragRepositionCursor=_1},isc.A.getCurrentCursor=function isc_DrawItem_getCurrentCursor(){if(this.canDrag)return this.dragRepositionCursor;return this.cursor},isc.A.$136v=function isc_DrawItem__updateQuadTreeItem(){var _1=this.item;if(_1!=null){var _2=this.$1349(true,true,true,this.$145i);this.drawPane.quadTree.update(_1,_2[0],_2[1],(_2[2]-_2[0]),(_2[3]-_2[1]))}},isc.A.$1475=function isc_DrawItem__resolve(_1,_2,_3,_4,_5,_6,_7){if(_3==null){_3=_1}
var _8=_2.contains("L"),_9=!_8&&_2.contains("R"),_10=_2.contains("T"),_11=!_10&&_2.contains("B"),_12=!(_8||_9||_10||_11)&&_2.contains("C"),_13=(!(_8||_9||_10||_11||_12)&&_2.contains("X"));if(!(_8||_9||_10||_11||_12||_13)){return null}
if(_13){_3="local"}
if(this.drawPane==null){if(_3=="global"){_3="drawing"}
if(_1=="global"){_1="drawing"}}
var x=0,y=0;if(_13){var _16=this.$147l();if(_16.cx!=null&&_16.cy!=null){x=_16.cx;y=_16.cy}else{return null}}else{var _17=null;if(_3=="local"){_17=this.getBoundingBox(_4,this.$145i);if(_5){_17=this.$147b(false,true,_17)}}else if(_3=="drawing"){_17=this.$1349(_4,true,_5,_17)}else{_17=this.$1349(_4,false,_5,_17)}
if(_8){x=_17[0]}else if(_9){x=_17[2]}else{x=(_17[0]+_17[2])/2}
if(_10){y=_17[1]}else if(_11){y=_17[3]}else{y=(_17[1]+_17[3])/2}}
if(_3!=_1){var _18=this.$1486(_3,_1),_19=_18.m00*x+_18.m01*y+_18.m02,_20=_18.m10*x+_18.m11*y+_18.m12;x=_19;y=_20}
if(_6){x=Math.round(x);y=Math.round(y)}
_7=_7||new Array(2);_7[0]=x;_7[1]=y;return _7},isc.A.getCenter=function isc_DrawItem_getCenter(){var _1=this.getBoundingBox(false,this.$145i);return[isc.DrawItem.$1503((_1[0]+_1[2])/2),isc.DrawItem.$1503((_1[1]+_1[3])/2)]},isc.A.getBoundingBox=function isc_DrawItem_getBoundingBox(_1,_2){var _3=(_2||new Array(4));for(var i=4;i--;){_3[i]=this.$126i[i]}
return _3},isc.A.$147b=function isc_DrawItem__adjustBoundingBox(_1,_2,_3){var _4=(_1&&this.$125h()?(this.lineWidth/2):0),_5=(_2?this.hitTolerance:0),_6=_4+_5;if(_6!=0){if(_3[0]<=_3[2]){_3[0]-=_6;_3[2]+=_6}else{_3[2]-=_6;_3[0]+=_6}
if(_3[1]<=_3[3]){_3[1]-=_6;_3[3]+=_6}else{_3[3]-=_6;_3[1]+=_6}}
return _3},isc.A.getResizeBoundingBox=function isc_DrawItem_getResizeBoundingBox(_1){return this.$1349(true,false,false,_1)},isc.A.$1349=function isc_DrawItem__getTransformedBoundingBox(_1,_2,_3,_4){var t;if(_2||this.drawPane==null){t=this.$1339()}else{t=this.drawPane.$1338().duplicate().rightMultiply(this.$1339())}
return this.$147c(t,_1,_3,_4)},isc.A.$147c=function isc_DrawItem__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=this.getBoundingBox(_2,_4);this.$147b(false,_3,_5);var _6=_1.transform(_5[0],_5[1]),_7=_1.transform(_5[2],_5[1]),_8=_1.transform(_5[2],_5[3]),_9=_1.transform(_5[0],_5[3]);_5[0]=Math.min(_6.v0,_7.v0,_8.v0,_9.v0);_5[1]=Math.min(_6.v1,_7.v1,_8.v1,_9.v1);_5[2]=Math.max(_6.v0,_7.v0,_8.v0,_9.v0);_5[3]=Math.max(_6.v1,_7.v1,_8.v1,_9.v1);return _5},isc.A.isInBounds=function isc_DrawItem_isInBounds(_1,_2){var _3=this.$136i(_1,_2),b=this.getBoundingBox(true,this.$145i),_5=this.hitTolerance;return(((b[0]-_5<=_3.v0&&_3.v0<=b[2]+_5)||(b[2]-_5<=_3.v0&&_3.v0<=b[0]+_5))&&((b[1]-_5<=_3.v1&&_3.v1<=b[3]+_5)||(b[3]-_5<=_3.v1&&_3.v1<=b[1]+_5)))},isc.A.$1505=function isc_DrawItem__useExemptHack(){return(this.exemptFromGlobalTransform&&this.drawPane!=null&&this.drawPane.drawingType!="bitmap")},isc.A.$1339=function isc_DrawItem__getLocalTransform(_1){var _2=(!_1&&this.$1505()),t=this.$1348;if(t!=null&&!_2)return t;if(_2){t=this.drawPane.$147h().duplicate();t.translate(this.drawPane.scrollLeft,this.drawPane.scrollTop)}else{t=isc.AffineTransform.create()}
if(this.translate){t.translate(this.translate[0],this.translate[1])}
if(this.scale&&this.scale.length===2){t.scale(this.scale[0],this.scale[1])}
if(this.xShearFactor){t.xShear(this.xShearFactor)}
if(this.yShearFactor){t.yShear(this.yShearFactor)}
var _4=this.rotation,_5=this.$147l();if(_5.cx!=null&&_5.cy!=null&&_4){t.rotate(_4,_5.cx,_5.cy)}
if(!_2){this.$1348=t}
return t},isc.A.$1476=function isc_DrawItem__getInverseLocalTransform(){var _1=this.$1346,_2=this.$1339();if(_1==null||_2!=this.$1347){_1=this.$1346=_2.getInverse();this.$1347=_2}
return _1},isc.A.$147l=function isc_DrawItem__getRotationCenter(){var _1=this.$147k;if(isc.isA.DrawLabel(this)){_1.cx=this.left;_1.cy=this.top+this.$104w()}else{var _2=this.getCenter&&this.getCenter();if(_2&&_2.length===2){_1.cx=_2[0];_1.cy=_2[1]}else{_1.cx=_1.cy=null}}
return _1},isc.A.$136i=function isc_DrawItem__normalize(_1,_2,_3,_4){if(_3==null){_3="drawing"}
if(_4==null){_4="local"}
var _5=this.$1486(_3,_4);return _5.transform(_1,_2)},isc.A.$1486=function isc_DrawItem__getNormalizeTransform(_1,_2){if(this.drawPane==null){if(_1=="global"){_1="drawing"}
if(_2=="global"){_2="drawing"}}
if(_1==_2){return isc.AffineTransform.getIdentityTransform()}else{if(this.exemptFromGlobalTransform&&this.drawPane!=null){var _3=this.drawPane.scrollLeft,_4=this.drawPane.scrollTop;if(_1=="local"){if(_2=="drawing"){return(this.drawPane.$147h().duplicate().translate(_3,_4).leftMultiply(this.$1339(true)))}else{return(this.$1339(true).duplicate().preTranslate(_3,_4))}}else if(_1=="drawing"){if(_2=="local"){return(this.$1339(true).getInverse().translate(-_3,-_4).rightMultiply(this.drawPane.getGlobalTransform()))}else{}}else{if(_2=="local"){return(this.$1339(true).getInverse().translate(-_3,-_4))}else{}}}
if(_1=="local"){if(_2=="drawing"){return this.$1339()}else{var _5=this.$1339();return this.drawPane.$1338().duplicate().rightMultiply(_5)}}else if(_1=="drawing"){if(_2=="local"){return this.$1476()}else{return this.drawPane.$1338()}}else{if(_2=="local"){var _5=this.drawPane.$1338().duplicate().rightMultiply(this.$1339());return _5.getInverse()}else{return this.drawPane.$147h()}}}},isc.A.isPointInPath=function isc_DrawItem_isPointInPath(_1,_2,_3,_4){var _5=this.hitTolerance,_6=((this.lineWidth==null?1:Math.max(1,this.lineWidth))+2*_5);this.hitTolerance=_6/2;var _7=this.isInBounds(_1,_2);this.hitTolerance=_5;if(!_7){return false}
if(this.drawingBitmap||this.drawPane.drawingType==="bitmap"){var _8=this.drawPane.getBitmapContext(),_9=isc.isA.DrawCurve(this),_10=this.linePattern;_8.save();this.linePattern="solid";try{_8.beginPath();if(_9){this.drawBitmapPath(_8,false)}else{this.drawBitmapPath(_8)}
var _11=this.$136i(_1,_2);if(_8.isPointInPath(_11.v0,_11.v1))return true;if(_9&&this.$144r(_8,_6,_11.v0,_11.v1))
{return true}else if(isc.Browser.$141c){_8.lineWidth=_6;_8.lineCap=this.lineCap;_8.lineJoin="round";_8.strokeStyle="#ff00ff";return _8.isPointInStroke(_11.v0,_11.v1)}else if(_9){return this.$142z(_8,_11.v0,_11.v1)}else{return false}}finally{this.linePattern=_10;_8.restore()}}else if(this.drawingVML){var _12=this.$125f();return _12.ownerDocument.elementFromPoint(_3,_4)===_12}
return true},isc.A.$144r=function isc_DrawItem__isPointInPathOfStartOrEndArrow(_1,_2,_3,_4){if(this.startArrow=="open"||this.startArrow=="block"){_1.save();this.$144s(_1,_2,false);var _5=(_1.isPointInPath(_3,_4)||(isc.Browser.$141c&&_1.isPointInStroke(_3,_4)));_1.restore();if(_5){return true}}
if(this.endArrow=="open"||this.endArrow=="block"){_1.save();this.$144t(_1,_2,false);var _5=(_1.isPointInPath(_3,_4)||(isc.Browser.$141c&&_1.isPointInStroke(_3,_4)));_1.restore();if(_5){return true}}
return false},isc.A.getHoverTarget=function isc_DrawItem_getHoverTarget(_1,_2){return(this.drawPane?this.drawPane.getHoverTarget(_1,_2):null)},isc.A.$kr=function isc_DrawItem__allowNativeTextSelection(_1){return false},isc.A.$k2=function isc_DrawItem__updateCursor(){if(this.drawPane)this.drawPane.$k2(this)},isc.A.focus=function isc_DrawItem_focus(_1){},isc.A.visibleAtPoint=function isc_DrawItem_visibleAtPoint(_1,_2){return true},isc.A.$120u=function isc_DrawItem__getUseNativeDrag(){return false},isc.A.getDragAppearance=function isc_DrawItem_getDragAppearance(_1){return"none"},isc.A.bringToFront=function isc_DrawItem_bringToFront(){},isc.A.moveToEvent=function isc_DrawItem_moveToEvent(_1,_2){this.moveTo(_1,_2)},isc.A.getRect=function isc_DrawItem_getRect(){var _1=this.getBoundingBox(false,this.$145i);return[_1[0],_1[1],_1[2]-_1[0],_1[3]-_1[1]]},isc.A.getPageOffsets=function isc_DrawItem_getPageOffsets(){var _1=this.$1349(true,false,false,this.$145i);var _2={left:_1[0]<<0,top:_1[1]<<0};if(this.drawPane!=null){var _3=this.drawPane.getPageOffsets(),_4=this.drawPane.$sd();_2.left+=_3.left+_4.left;_2.top+=_3.top+_4.top}
return _2},isc.A.getPageLeft=function isc_DrawItem_getPageLeft(){return this.getPageOffsets().left},isc.A.getPageTop=function isc_DrawItem_getPageTop(){return this.getPageOffsets().top},isc.A.getVisibleDimensions=function isc_DrawItem_getVisibleDimensions(){var _1=this.$1349(true,false,false,this.$145i);return{width:Math.ceil(_1[2]-_1[0]),height:Math.ceil(_1[3]-_1[1])}},isc.A.getVisibleWidth=function isc_DrawItem_getVisibleWidth(){return this.getVisibleDimensions().width},isc.A.getVisibleHeight=function isc_DrawItem_getVisibleHeight(){return this.getVisibleDimensions().height},isc.A.setCanDrag=function isc_DrawItem_setCanDrag(_1){this.canDrag=_1},isc.A.dragStart=function isc_DrawItem_dragStart(_1,_2){if(this.logIsInfoEnabled("drawEvents")){this.logInfo("DragStart on item:"+this.getID(),"drawEvents")}
var _3=this.drawPane;if(_3==null){return false}
var _4=_3.$150s(_1.x,_1.y);this.lastDragX=_4[0];this.lastDragY=_4[1];var _5=this.$1349(false,false,false,this.$145i),_6=_5[0],_7=_5[1];this.dragOffsetX=this.lastDragX-_6;this.dragOffsetY=this.lastDragY-_7;if(this.onDragStart(this.lastDragX,this.lastDragY)==false){return false}
return true},isc.A.onDragStart=function isc_DrawItem_onDragStart(_1,_2){},isc.A.dragMove=function isc_DrawItem_dragMove(_1,_2,_3){var _4=this.drawPane;if(_4==null){return false}
var _5=_4.$150s(_1.x,_1.y),x=_5[0],y=_5[1];if(this.keepInParentRect){var _8=this.$113u(),_9=this.$1349(false,false,false,this.$145i),_10=_9[2]-_9[0],_11=_9[3]-_9[1];x=Math.max(_8[0]+this.dragOffsetX,Math.min(_8[2]-(_10-this.dragOffsetX),x));y=Math.max(_8[1]+this.dragOffsetY,Math.min(_8[3]-(_11-this.dragOffsetY),y))}
x=isc.DrawItem.$1503(x);y=isc.DrawItem.$1503(y);if(this.onDragMove(x,y)==false)return false;if(!isc.isA.DrawGroup(this)||_3==null){this.moveBy(x-this.lastDragX,y-this.lastDragY);this.lastDragX=x;this.lastDragY=y}
return true},isc.A.onDragMove=function isc_DrawItem_onDragMove(_1,_2){},isc.A.dragStop=function isc_DrawItem_dragStop(_1,_2){var _3=this.drawPane;if(_3==null){return false}
var _4=_3.$150s(_1.x,_1.y),x=_4[0],y=_4[1];this.onDragStop(x,y);return true},isc.A.onDragStop=function isc_DrawItem_onDragStop(_1,_2){},isc.A.dropMove=function isc_DrawItem_dropMove(){},isc.A.mouseDown=function isc_DrawItem_mouseDown(){return true},isc.A.mouseUp=function isc_DrawItem_mouseUp(){return true},isc.A.click=function isc_DrawItem_click(){return true},isc.A.mouseOver=function isc_DrawItem_mouseOver(){return true},isc.A.mouseMove=function isc_DrawItem_mouseMove(){return true},isc.A.mouseOut=function isc_DrawItem_mouseOut(){return true},isc.A.showContextMenu=function isc_DrawItem_showContextMenu(){var _1=this.contextMenu;if(_1){_1.target=this;if(!isc.isA.Canvas(_1)){_1.autoDraw=false;this.contextMenu=_1=this.getMenuConstructor().create(_1)}
_1.showContextMenu()}
return(_1==null)},isc.A.getMenuConstructor=function isc_DrawItem_getMenuConstructor(){var _1=isc.ClassFactory.getClass(this.menuConstructor);if(!_1){isc.logWarn("Class not found for menuConstructor:"+this.menuConstructor+". Defaulting to isc.Menu class");_1=isc.ClassFactory.getClass("Menu")}
return _1},isc.A.$wb=function isc_DrawItem__handleHover(){var _1=isc.EH,_2=_1.lastMoveTarget,_3=_1.lastEvent;if(!_2||_2.getHoverTarget(_3)!=this||this.drawPane==null||this.drawPane.getDrawItem(_3.x,_3.y)!=this)
{return}
this.handleHover()},isc.A.$wc=function isc_DrawItem__getHoverProperties(){return this.drawPane.$wc()},isc.A.handleHover=function isc_DrawItem_handleHover(){if(this.hover&&this.hover()==false)return;if(this.showHover){var _1=this.getHoverHTML();if(_1!=null&&!isc.isAn.emptyString(_1)){isc.Hover.show(_1,this.$wc(),null,this)}}},isc.A.getHoverHTML=function isc_DrawItem_getHoverHTML(){return this.prompt},isc.A.init=function isc_DrawItem_init(){this.Super("init");if(this.ID!==false&&(this.ID==null||window[this.ID]!=this)){isc.ClassFactory.addGlobalID(this)}
this.drawItemID=isc.DrawItem.$44q++;if(this.exemptFromGlobalTransform){this.excludeFromQuadTree=true}
this.$151k();if(this.drawPane)this.drawPane.addDrawItem(this,this.autoDraw,true)},isc.A.draw=function isc_DrawItem_draw(){if(this.$if){this.logDebug("DrawItem already drawn - exiting draw(). Note that this DrawItem may have been auto-drawn if setDrawPane() was called on it, or if DrawPane.addDrawItem() was called to add this DrawItem to a DrawPane.","drawing");return}
if(this.drawGroup){this.drawPane=this.drawGroup.drawPane}else{if(!this.drawPane)this.drawPane=isc.DrawPane.getDefaultDrawPane(this.drawingType)}
var _1=this.drawPane;if(this.exemptFromGlobalTransform&&!_1.$150v.contains(this)){_1.$150v.push(this)}
if(isc.isA.DrawGroup(this)&&this.drawItems!=null){var _2=this.drawItems,_3=false;for(var i=0,_5=_2.length;i<_5;++i){var _6=_2[i];if(_6==null){if(!_3){this.logInfo("drawGroup included empty entry in drawItems:"+this.echo(_2));_3=true}}else{if(_6.exemptFromGlobalTransform){var _7=_6.$1504();if(_7!=_1){if(_7!=null){_7.$150v.remove(_6)}
_1.$150v.push(_6)}}
_6.drawGroup=this;_6.drawPane=_1}}
if(_3){_2.removeEmpty()}}
if(this.drawGroup){this.$148r=this.drawGroup.$148r;if(!this.drawGroup.drawItems.contains(this)){this.drawGroup.drawItems.add(this);this.$99y()}}else{if(this.$148r==null){this.$148r=_1.$148p++}
if(!_1.drawItems.contains(this)){_1.drawItems.add(this);this.$99y()}}
if(_1.shouldDeferDrawing(this)){return}
if(!_1.isDrawn()&&_1.getDrawnState()!=isc.Canvas.HANDLE_DRAWN){return}
if(this.drawGroup){if(!this.drawGroup.$if){this.logWarn("Attempted draw into an undrawn group - calling draw() on the group now");this.drawGroup.draw();if(!this.drawGroup.$if){return}}}
this.drawHandle();this.$113d();this.$if=true},isc.A.$141b=function isc_DrawItem__getQuadTreeItem(){var _1=this.$1349(true,true,true,this.$145i);return{x:_1[0],y:_1[1],width:(_1[2]-_1[0]),height:(_1[3]-_1[1]),shape:this,addOrder:this.$148r}},isc.A.$113d=function isc_DrawItem__setupEventParent(){if(this.eventParent!=null)return;this.eventParent=(this.drawGroup||this.drawPane);var _1=(this.item==null&&!this.excludeFromQuadTree&&(!isc.isA.DrawGroup(this)||this.useGroupRect));for(var _2=this.drawGroup;_1&&_2!=null;_2=_2.drawGroup){if(_2.useGroupRect){_1=false}}
if(_1){var _3=this.item=this.$141b();this.drawPane.quadTree.insert(_3)}},isc.A.$113c=function isc_DrawItem__clearEventParent(){delete this.eventParent;if(this.item!=null){this.drawPane.quadTree.remove(this.item);delete this.item}},isc.A.$99y=function isc_DrawItem__drawKnobs(){var _1=this.knobs;if(_1){for(var i=0;i<_1.length;++i){var _3=_1[i],_4=this.$634(_3);if(_4===false){_1.removeAt(i);--i}else if(_3=="resize"){this.$151k()}}
this.$149h()}},isc.A.$149h=function isc_DrawItem__groupAssociatedDrawItems(){var _1=this.drawPane||this.drawGroup;var _2=this.knobs,_3=_1.drawItems,_4=_3.lastIndexOf(this),k=_4;for(var i=0;i<_2.length;++i){var _7=_2[i];if(_7=="resize"){if(this.$71o!=null){var j=_3.lastIndexOf(this.$71o);if(j!=-1){if(j!=k+1){isc.Array.$149g(_3,j,k,1)}
if(j<k){--_4}else{++k}}}
if(this.$638!=null){for(var l=0,_10=this.$638.length;l<_10;++l){var j=_3.lastIndexOf(this.$638[l].knobShape);if(j!=-1){if(j!=k+1){isc.Array.$149g(_3,j,k,1)}
if(j<k){--_4}else{++k}}}}}else{var _11=null;if(_7=="move"){_11=this.$637}else if(_7=="startPoint"){_11=this.$639}else if(_7=="endPoint"){_11=this.$64a}else if(_7=="controlPoint1"){_11=this.$64b}else if(_7=="controlPoint2"){_11=this.$64d}
if(_11!=null){var j=_3.lastIndexOf(_11.knobShape);if(j!=-1){if(j!=k+1){isc.Array.$149g(_3,j,k,1)}
if(j<k){--_4}else{++k}}}}}},isc.A.drawHandle=function isc_DrawItem_drawHandle(){var _1=this.drawPane,_2=this.drawingType=_1.drawingType;if(_2=="vml"){this.drawingVML=true}else if(_2=="svg"){this.drawingSVG=true}else if(_2=="bitmap"){this.drawingBitmap=true}
if(this.drawingVML||this.drawingSVG){_1.$99x(this)}else if(this.drawingBitmap){_1.redrawBitmap()}else{this.logWarn("DrawItem: '"+_2+"' is not a supported drawingType");return}},isc.A.isDrawn=function isc_DrawItem_isDrawn(){return!!this.$if},isc.A.$143s=function isc_DrawItem__reshaped(){delete this.$1348;this.updateControlKnobs();this.$136v()},isc.A.moved=function isc_DrawItem_moved(_1,_2){},isc.A.$105u=function isc_DrawItem__moved(_1,_2){delete this.$1348;this.updateControlKnobs();this.$136v();this.saveCoordinates();this.moveSelection(_1,_2);this.moved(_1,_2)},isc.A.saveCoordinates=function isc_DrawItem_saveCoordinates(){if(!this.editContext)return;var _1=this.editContext.getEditNodeArray().find("liveObject",this);if(!_1)return;var _2=this.getBoundingBox(false,this.$145i);this.editContext.setNodeProperties(_1,{left:_2[0],top:_2[1],width:_2[2]-_2[0],height:_2[3]-_2[1]},true)},isc.A.moveSelection=function isc_DrawItem_moveSelection(_1,_2){if(!this.editingOn||!this.editContext)return;if(!this.drawPane.$128p){var _3=this.editContext.getSelectedComponents();if(_3.length>1&&_3.contains(this)){this.drawPane.$128p=true;for(var i=0;i<_3.length;i++){if(_3[i]!=this){_3[i].moveBy(_1,_2)}}
this.drawPane.$128p=false}}},isc.A.resized=function isc_DrawItem_resized(){},isc.A.$5y=function isc_DrawItem__resized(){delete this.$1348;this.updateControlKnobs();this.$136v();this.saveCoordinates();this.resized()},isc.A.rotated=function isc_DrawItem_rotated(){},isc.A.$1071=function isc_DrawItem__rotated(){delete this.$1348;this.updateControlKnobs();this.$136v();this.rotated()},isc.A.scaled=function isc_DrawItem_scaled(){},isc.A.$136y=function isc_DrawItem__scaled(){delete this.$1348;this.updateControlKnobs();this.$136v();this.scaled()},isc.A.$634=function isc_DrawItem__showKnobs(_1){var _2=isc.DrawItem.$632(_1)
if(!this[_2]){this.logWarn("DrawItem specfied with knobType:"+_1+" but no "+_2+" function exists to show the knobs. Ignoring");return false}else{this[_2]()}},isc.A.$635=function isc_DrawItem__hideKnobs(_1){var _2=isc.DrawItem.$632(_1,true)
if(!this[_2]){this.logWarn("DrawItem specfied with knobType:"+_1+" but no "+_2+" function exists to hide the knobs.");return false}else{this[_2]()}},isc.A.showKnobs=function isc_DrawItem_showKnobs(_1){if(isc.isAn.Array(_1)){for(var i=0;i<_1.length;i++){this.showKnobs(_1[i])}
return}
if(!this.knobs)this.knobs=[];if(this.knobs.contains(_1))return;if(!isc.isA.DrawPane(this.drawPane)){this.knobs.add(_1);return}
if(this.$634(_1)!==false){var _3=this.$135f();this.knobs.add(_1);if(_1=="resize"){this.$151k()}
if(this.showResizeKnobs&&!this.moveKnobOffset&&this.knobs.length>1&&(_1=="resize"||_1=="move")&&(this.$637!=null&&!this.$637.destroyed)&&this.knobs.contains("resize"))
{var _4=this.$135f();if(!_3)_3=[0,0];this.$637.moveBy(_4[0]-_3[0],_4[1]-_3[1])}}},isc.A.showAllKnobs=function isc_DrawItem_showAllKnobs(){var _1=this.getSupportedKnobs();this.showKnobs(_1)},isc.A.hideKnobs=function isc_DrawItem_hideKnobs(_1){if(!this.knobs)return;if(!_1){_1=this.knobs.duplicate()}
if(isc.isAn.Array(_1)){for(var i=0;i<_1.length;i++){this.hideKnobs(_1[i])}
return}
var _3=this.$135f();if(this.knobs.contains(_1)){this.knobs.remove(_1);if(_1=="resize"){this.$151k()}}
if(isc.isA.DrawPane(this.drawPane)){this.$635(_1);if(this.$637!=null&&!this.$637.destroyed&&!this.moveKnobOffset){if(_1=="resize"){var _4=this.$135f();if(!_4)_4=[0,0];this.$637.moveBy(_4[0]-_3[0],_4[1]-_3[1])}}}},isc.A.hideAllKnobs=function isc_DrawItem_hideAllKnobs(){if(!this.knobs)return;var _1=this.knobs.duplicate();this.hideKnobs(_1)},isc.A.setMoveKnobOffset=function isc_DrawItem_setMoveKnobOffset(_1){var _2=this.$135f();this.moveKnobOffset=_1;if(this.$637!=null&&!this.$637.destroyed){var _3=this.$135f();if(_3==null)_3=[0,0];if(_2==null)_2=[0,0];this.$637.moveBy(_3[0]-_2[0],_3[1]-_2[1])}},isc.A.$135f=function isc_DrawItem__getMoveKnobOffset(){if(this.moveKnobOffset){return this.moveKnobOffset}
if(this.knobs==null||this.knobs.length==0||!(this.knobs.contains("resize")&&this.knobs.contains("move")))
{return null}
return this.$135e[this.moveKnobPoint]},isc.A.getSupportedKnobs=function isc_DrawItem_getSupportedKnobs(){var _1=isc.DrawItem.$135g,_2=[];for(var i=0;i<_1.length;i++){var _4=_1[i];var _5=isc.DrawItem.$632(_4);if(this[_5])_2.add(_4)}
return _2},isc.A.$636=function isc_DrawItem__getKnobPosition(_1,_2){if(_2==null){_2=this.getResizeBoundingBox(this.$145i)}
var x,y;x=_1.contains("L")?isc.DrawItem.$1503(_2[0]):(_1.contains("R")?isc.DrawItem.$1503(_2[2]):(isc.DrawItem.$1503(_2[0]+(_2[2]-_2[0])/2)));y=_1.contains("T")?isc.DrawItem.$1503(_2[1]):(_1.contains("B")?isc.DrawItem.$1503(_2[3]):(isc.DrawItem.$1503(_2[1]+(_2[3]-_2[1])/2)));return[x,y]},isc.A.showMoveKnobs=function isc_DrawItem_showMoveKnobs(){if(this.$637!=null&&!this.$637.destroyed)return;var _1=this.$636(this.moveKnobPoint);if(_1==null)return;var x=_1[0],y=_1[1];if(window.isNaN(x)||window.isNaN(y))return;var _4=this.$135f();if(_4){x+=_4[0];y+=_4[1];if(x<0)x=0;if(y<0)y=0}
this.$637=this.createAutoChild("moveKnob",{x:x,y:y,drawPane:this.drawPane,resetKnobPosition:function(){var _5=this.creator,_1=_5.$636(_5.moveKnobPoint);if(_1!=null){var x=_1[0],y=_1[1];if(!(window.isNaN(x)||window.isNaN(y))){var _4=_5.$135f();if(_4){x+=_4[0];y+=_4[1];if(x<0)x=0;if(y<0)y=0}
this.setCenterPoint(x,y,false)}}},updatePoints:function(x,y,_12,_13,_14){var _5=this.creator,_6=(_14=="start"),_7=(_14=="move"),_8=(_14=="stop");if(_6){var _9=_5.getResizeBoundingBox(this.$145i),_10=x-_12,_11=y-_13;_5.$113w=_10-_9[0];_5.$113x=_9[2]-_10;_5.$113y=_11-_9[1];_5.$113z=_9[3]-_11}
if(_5.keepInParentRect){var _9=_5.$113u(),_10=x-_12,_11=y-_13;x=Math.max(_9[0]+_5.$113w,Math.min(_9[2]-_5.$113x,x));y=Math.max(_9[1]+_5.$113y,Math.min(_9[3]-_5.$113z,y));_12=isc.DrawItem.$1503(x-_10);_13=isc.DrawItem.$1503(y-_11)}
if(_8){delete _5.$113w;delete _5.$113x;delete _5.$113y;delete _5.$113z}
_5.moveBy(_12,_13)}})});isc.evalBoundary;isc.B.push(isc.A.hideMoveKnobs=function isc_DrawItem_hideMoveKnobs(){if(this.$637){this.$637.destroy();delete this.$637}},isc.A.getResizeKnobProperties=function isc_DrawItem_getResizeKnobProperties(_1){},isc.A.showResizeKnobs=function isc_DrawItem_showResizeKnobs(){var _1=this.$638;if(_1!=null&&!_1.isEmpty())return;var _2=this.resizeKnobPoints;var _3=this.$145i,_4=0,_5=0,_6=0,_7=0;if(this.showResizeOutline||_2.length>0){_3=this.getResizeBoundingBox(_3);_4=_3[0];_5=_3[1];_6=_3[2];_7=_3[3]}
if(this.showResizeOutline){this.$71o=this.createAutoChild("resizeOutline",{left:_3[0],top:_3[1],width:_3[2]-_3[0],height:_3[3]-_3[1],drawPane:this.drawPane,excludeFromQuadTree:true,knobs:null,rotation:0,xShearFactor:0,yShearFactor:0,scale:null,translate:null,exemptFromGlobalTransform:true,$1502:function(){if(isc.isA.DrawRect(this)){var _3=this.creator.getResizeBoundingBox(this.$145i);this.setRect(_3[0],_3[1],_3[2]-_3[0],_3[3]-_3[1])}}})}
_1=this.$638=[];for(var i=0;i<_2.length;i++){var _9=_2[i];_3[0]=_4;_3[1]=_5;_3[2]=_6;_3[3]=_7;var _10=this.$636(_9,_3);if(_10==null)continue;var x=_10[0],y=_10[1];if(window.isNaN(x)||window.isNaN(y))continue;var _13=isc.addProperties({},this.getResizeKnobProperties(_9),{_constructor:"DrawKnob",point:_9,x:x,y:y,drawPane:this.drawPane,resetKnobPosition:function(){var _14=this.creator,_10=_14.$636(this.point);if(_10!=null){var x=_10[0],y=_10[1];if(!(window.isNaN(x)||window.isNaN(y))){this.setCenterPoint(x,y,false)}}},updatePoints:function(_17,_18,_19,_20,_21){return this.creator.dragResizeMove(this.point,_17,_18,_19,_20,_21)}});var _15=(_9.length==1?"sideResizeKnob":"cornerResizeKnob"),_16=this.createAutoChild(_15,_13);_1.push(_16)}},isc.A.$113u=function isc_DrawItem__getParentRect(){var _1=this.keepInParentRect,_2=isc.isAn.Array(_1),_3=(_2&&_1[0]!=null?_1[0]:this.drawPane.$431),_4=(_2&&_1[1]!=null?_1[1]:this.drawPane.$432),_5=(_2&&_1[2]!=null?_1[2]:(this.drawPane.$431+this.drawPane.$433)),_6=(_2&&_1[3]!=null?_1[3]:(this.drawPane.$432+this.drawPane.$434));var _7=this.$135f();if(this.knobs&&this.knobs.contains("move")&&_7!=null&&(_7[0]!=0||_7[1]!=0))
{var _8=this.getResizeBoundingBox(this.$145i),_9=this.$636(this.moveKnobPoint,_8);if(_9!=null&&!window.isNaN(_9[0])&&!window.isNaN(_9[1]))
{var _10=_9[0]+_7[0],_11=_9[1]+_7[1],_12,_13;if((_13=_8[1]-_11)>0){_4+=_13}
if((_12=_8[0]-_10)>0){_3+=_12}
if((_13=_11-_8[3])>0){_6-=_13}
if((_12=_10-_8[2])>0){_5-=_12}}}
return[_3,_4,_5,_6]},isc.A.dragResizeMove=function isc_DrawItem_dragResizeMove(_1,_2,_3,_4,_5,_6){var _7=(_6=="start"),_8=(_6=="move"),_9=(_6=="stop");var _10=(this.$147m!=null);var _11;if(_7){var _12=_1.contains("L"),_13=_1.contains("R"),_14=_1.contains("T"),_15=_1.contains("B"),_16=(_14?"B":"T")+(_12?"R":"L");_11=this.$1130=this.$636(_16);this.$151l=_1}else{_11=this.$1130}
this.$151m=_2;this.$151n=_3;var _17=null;if(_7){_17=this.getResizeBoundingBox(this.$145i);this.$147n=Math.round(_17[0]);this.$147o=Math.round(_17[2]);this.$147p=Math.round(_17[1]);this.$147q=Math.round(_17[3])}
var _18=this.$147o-this.$147n,_19=this.$147q-this.$147p;var _20=0,_21=0,_22=0,_23=0,_24=0,_25=0,_26=null,_27=null;if(_10){_20=this.$147n;_21=this.$147o;_22=this.$147p;_23=this.$147q;if(_7){var _28=this.$147l();_24=this.$147r=_28.cx;_25=this.$147s=_28.cy;_26=this.$147t=this.$147m();_27=this.$147u=this.$1339(true)}else{_24=this.$147r;_25=this.$147s;_26=this.$147t;_27=this.$147u}}else{if(!_7){_17=this.getResizeBoundingBox(this.$145i)}
_20=Math.round(_17[0]);_21=Math.round(_17[2]);_22=Math.round(_17[1]);_23=Math.round(_17[3]);var _28=this.$147l();_24=_28.cx;_25=_28.cy;_27=this.$1339(true)}
var _29=_21-_20,_30=_23-_22;var _31=0,_32=0,_33=0,_34=0;if(_1=="L"||_1=="R"){_32=_22;_34=_23;_31=Math.min(_11[0],_2);_33=Math.max(_11[0],_2)}else if(_1=="T"||_1=="B"){_31=_20;_33=_21;_32=Math.min(_11[1],_3);_34=Math.max(_11[1],_3)}else{_31=Math.min(_11[0],_2);_32=Math.min(_11[1],_3);_33=Math.max(_11[0],_2);_34=Math.max(_11[1],_3)}
var _35=(_33-_31),_36=(_34-_32);if(_9){delete this.$1130;delete this.$151l;delete this.$151m;delete this.$151n}
if(this.keepInParentRect){var _37=this.$113u();_31=Math.max(_31,_37[0]);_32=Math.max(_32,_37[1]);_33=Math.min(_33,_37[2]);_34=Math.min(_34,_37[3]);_35=_33-_31;_36=_34-_32}
if(this.$151o&&_18!=0&&_19!=0&&!(_1=="L"||_1=="R"||_1=="T"||_1=="B"))
{var _38=(_35/_18),_39=(_36/_19);if(_38<_39){var _40=(_36-_38*_19);if(_32==_11[1]){_34-=_40}else if(_34==_11[1]){_32+=_40}
_36=_34-_32}else if(_39<_38){var _41=(_35-_39*_18);if(_31==_11[0]){_33-=_41}else if(_33==_11[0]){_31+=_41}
_35=_33-_31}}
var _42=(Math.abs(_35)<1||Math.abs(_36)<1);if(!_9&&!_42){this.$1131=_31;this.$1132=_32;this.$1133=_35;this.$1134=_36}
if(_9&&_42){if(this.$1131!=null){_31=this.$1131;_32=this.$1132;_35=this.$1133;_36=this.$1134}else{return false}}
if(_9){delete this.$1131;delete this.$1132;delete this.$1133;delete this.$1134;delete this.$147n;delete this.$147o;delete this.$147p;delete this.$147q;if(_10){delete this.$147r;delete this.$147s;delete this.$147t;delete this.$147u}}
if(_7){if(this.onDragResizeStart(_31,_32,_35,_36)===false){return false}}else if(_8){if(this.onDragResizeMove(_31,_32,_35,_36)===false){return false}}else if(_9){this.onDragResizeStop(_31,_32,_35,_36)}
var _33=_31+_35,_34=_32+_36;this.$147v(_20,_22,_21,_23,_24,_25,_26,_27,_31,_32,_33,_34);return true},isc.A.$151k=function isc_DrawItem__checkProportionalResizing(){var _1=this.$151u,_2=this.$151j();if(_1==_2){return}
if(_1=="none"){if(_2=="always"){this.$151p(this)}else{var _3=(_2=="modifierOff"),_4=this.$151p,_5=this.$151q;if(_3){_4=this.$151q;_5=this.$151p}
var _6=isc.Page.$151i(this.proportionalResizeModifiers);if(_6!=_3){this.$151p(this)}
isc.Page.$151f(this.proportionalResizeModifiers,isc.Page.$1511,_4,_5,this)}}else{this.$151q(this);if(_1!="always"){isc.Page.$151h(this.proportionalResizeModifiers,isc.Page.$1511,this)}}
this.$151u=_2},isc.A.$151p=function isc_DrawItem__enableProportionalResizing(_1){if(!_1.$151o){_1.$151o=true;if(_1.$1130!=null){_1.dragResizeMove(_1.$151l,_1.$151m,_1.$151n,0,0,"move")}}},isc.A.$151q=function isc_DrawItem__disableProportionalResizing(_1){if(_1.$151o){_1.$151o=false;if(_1.$1130!=null){_1.dragResizeMove(_1.$151l,_1.$151m,_1.$151n,0,0,"move")}}},isc.A.$147v=function isc_DrawItem__setResizeBoundingBox(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11,_12){if(_9==_11||_10==_12){return}
if(_9>_11){var _13=_9;_9=_11;_11=_13}
if(_10>_12){var _13=_10;_10=_12;_12=_13}
var _14=(_11-_9)/(_3-_1),_15=(_12-_10)/(_4-_2),_16=_9-_14*_1,_17=_10-_15*_2;var _18=isc.AffineTransform.create({m00:_14,m01:0,m02:_16,m10:0,m11:_15,m12:_17});if(this.exemptFromGlobalTransform){var _19=this.drawPane.scrollLeft,_20=this.drawPane.scrollTop;_18.preTranslate(-_19,-_20);_18.translate(_19,_20)}else{var g=this.drawPane.$1338(),_22=this.drawPane.$147h();_18.leftMultiply(_22);_18.rightMultiply(g)}
_18.rightMultiply(_8);this.$147w(_18,_5,_6,_7,true);if(_1!=_9||_2!=_10){this.$105u(isc.DrawItem.$1503(_9-_1),isc.DrawItem.$1503(_10-_2))}
if((_3-_1)!=(_11-_9)||(_4-_2)!=(_12-_10))
{this.$5y()}},isc.A.$147w=function isc_DrawItem__updateLocalTransform(_1,_2,_3,_4,_5){var _6=isc.DrawItem.$145r(_1,_2,_3),_7=this.translate=this.translate||new Array(2),_8=this.scale=this.scale||new Array(2);_7[0]=_6.dx;_7[1]=_6.dy;_8[0]=_6.sx;_8[1]=_6.sy;this.xShearFactor=_6.kx;this.yShearFactor=_6.ky;this.rotation=_6.theta*180/Math.PI;delete this.$1348;if(this.drawingVML){this.$154s.setProperty("transform",this.$1339())}
if(_5){if(this.drawingVML){this.$154s.flush()}else if(this.drawingSVG){var _9=isc.SB.concat("translate(",_7[0]," ",_7[1],") ","scale(",_8[0]," ",_8[1],") ","skewX(",Math.atan(this.xShearFactor),") ","skewY(",Math.atan(this.yShearFactor),") ","rotate(",this.rotation," ",_2," ",_3,")");this.$44z.setAttributeNS(null,"transform",_9)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()}},isc.A.$147x=function isc_DrawItem__updateRotationCenter(_1,_2,_3,_4){var _5=0,_6=0,_7=1,_8=1,_9=this.xShearFactor||0,_10=this.yShearFactor||0,_11=0;if(this.translate!=null){_5=this.translate[0];_6=this.translate[1]}
if(this.scale&&this.scale.length===2){_7=this.scale[0];_8=this.scale[1]}
if(this.rotation!=null){_11=this.rotation*this.$125w}
if(_7!=0&&_8!=0){var _12=_7*_8,_13=(_5*_8-_6*_7*_9)/_12,_14=(_6*_7*(_9*_10+1)-_5*_8*_10)/_12;var _15=Math.cos(_11),_16=Math.sin(_11),_17=_13+(1-_15)*(_1-_3)+_16*(_2-_4),_18=_14-_16*(_1-_3)+(1-_15)*(_2-_4);var _19=_7*((_9*_10+1)*_17+_9*_18),_20=_8*(_10*_17+_18);var _21=this.translate=this.translate||new Array(2);_21[0]=_19;_21[1]=_20}},isc.A.onDragResizeStart=function isc_DrawItem_onDragResizeStart(_1,_2,_3,_4){},isc.A.onDragResizeMove=function isc_DrawItem_onDragResizeMove(_1,_2,_3,_4){},isc.A.onDragResizeStop=function isc_DrawItem_onDragResizeStop(_1,_2,_3,_4){},isc.A.hideResizeKnobs=function isc_DrawItem_hideResizeKnobs(){if(this.$638){this.$638.map("destroy");delete this.$638}
if(this.$71o){this.$71o.destroy();delete this.$71o}},isc.A.updateControlKnobs=function isc_DrawItem_updateControlKnobs(){if(this.$637){var _1=this.$636(this.moveKnobPoint),x=_1[0],y=_1[1],_4=this.$135f();if(_4){x+=_4[0];y+=_4[1]}
this.$637.setCenterPoint(x,y,false)}
if(this.$638){for(var i=0;i<this.$638.length;i++){var _6=this.$638[i],_1=this.$636(_6.point);_6.setCenterPoint(_1[0],_1[1],false)}}
if(this.$71o){var _7=this.getResizeBoundingBox(this.$145i);this.$71o.setRect(_7[0],_7[1],_7[2]-_7[0],_7[3]-_7[1])}},isc.A.setDrawPane=function isc_DrawItem_setDrawPane(_1){if(_1==this.drawPane)return;if(_1==null){this.erase();this.drawPane=null;return}
_1.addDrawItem(this)},isc.A.$63r=function isc_DrawItem__drawLineStartArrow(){return false},isc.A.$63s=function isc_DrawItem__drawLineEndArrow(){return false},isc.A.$1136=function isc_DrawItem__intersectLineSegmentBox(_1,_2,_3){var _4=new Array(2);_4[0]=1/(_4[1]=(_2[1]-_1[1])/(_2[0]-_1[0]));for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_9=_3[s+1+k];var _10=!(s*_1[k]>s*_9),_11=!(s*_2[k]>s*_9);if(!_11&&_10){_2[k]=_9;_2[l]=_1[l]+(_9-_1[k])*_4[l]}else if(!(_11||_10)){return null}}
return _2},isc.A.erase=function isc_DrawItem_erase(_1,_2){if(!_1){if(_2){if(!this.drawPane.$993)this.drawPane.$993=[this];else this.drawPane.$993.add(this)}
if(this.drawGroup){this.drawGroup.drawItems.remove(this)}else if(this.drawPane){if(this.drawPane.drawItems)this.drawPane.drawItems.remove(this);if(this.item!=null){this.drawPane.quadTree.remove(this.item);delete this.item}}}
try{if(!this.$if){if(this.drawPane&&this.drawPane.cancelDeferredDraw(this))return;this.logInfo("DrawItem not yet drawn - exiting erase()");return}
if(this.drawingVML){var _3=this.$125f();if(isc.Page.isLoaded()){isc.Log.logDebug("Page is loaded when erasing vml drawItem "+this.ID+" - clearing outerHTML (drawPane is "+this.drawPane.ID+")","drawing");_3.outerHTML=""}else{var _4;if(isc.isA.DrawLabel(this)&&!this.synchTextMove){_4=this.drawPane.getHandle()}else if(this.drawGroup&&this.drawGroup.renderGroupElement){_4=this.drawGroup.$125f()}else{_4=isc.Element.get(this.drawPane.getID()+"$435")}
isc.Log.logDebug("Page is not loaded when eraseing vml drawItem "+this.ID+" - removing vmlHandle from vmlContainer  (drawPane is "+this.drawPane.ID+")","drawing");_4.removeChild(_3)}
this.$44t=null;this.$44u=null;this.$44w=null;this.$44x=null;this.$44j=null;this.$154s=null;delete this.drawingVML}else if(this.drawingSVG){if(_2)this.$999=this.$44z
else{if(this.$44y)this.$44y.removeChild(this.$44z)}
this.$44m=null;this.$44y=null;this.$44z=null;delete this.drawingSVG}else if(this.drawingBitmap&&!_1){this.drawPane.redrawBitmap()}
if(this.knobs&&this.drawPane!=null){for(var i=0;i<this.knobs.length;i++){this.$635(this.knobs[i])}}
this.$113c();this.$if=false}finally{if(this.exemptFromGlobalTransform){var _6=this.$1504();if(_6!=null){_6.$150v.remove(this)}}
delete this.drawGroup;delete this.drawPane}},isc.A.destroy=function isc_DrawItem_destroy(_1){if(this.destroyed)return;this.destroying=true;this.erase(_1);isc.ClassFactory.dereferenceGlobalID(this);this.$151k();this.destroyed=true;this.Super("destroy",arguments)},isc.A.$44v=function isc_DrawItem__getElementVML(_1,_2,_3){var _4=this.drawPane.$1523;_4.buffer=_1;this.$154t(_4,_2,_3)},isc.A.$125h=function isc_DrawItem__hasStroke(){return this.lineOpacity!=0&&!!this.lineColor},isc.A.$125k=function isc_DrawItem__hasFill(){return!this.lineEventsOnly&&this.fillOpacity!=0&&(this.fillGradient!=null||this.fillColor!=null)},isc.A.$125f=function isc_DrawItem__getVMLHandle(){if(isc.isA.DrawLabel(this)){if(this.$44u!=null)return this.$44u;return(this.$44u=isc.Element.get("isc_DrawItem_"+this.drawItemID))}else{return this.$154s.getHandle()}},isc.A.$154t=function isc_DrawItem__renderVML(_1,_2,_3){},isc.A.getSvgString=function isc_DrawItem_getSvgString(_1){_1=_1||isc.SVGStringConversionContext.create();var _2=_1.svgDefStrings||(_1.svgDefStrings={});var _3="none",_4;var _5=this.svgFillGradient||this.fillGradient;if(_5!=null){if(isc.isA.String(_5))_5=this.drawPane.getGradient(_5);if(_5!=null&&!isc.isAn.emptyObject(_5)){if(_5.id==undefined){_5.id="gradient"+_1.getNextSvgDefNumber()}
var _6=_5.id;this.$1139=_6;var _7;if(isc.DrawItem.$135h(_5)){_7=this.drawPane.$99c(_6,_5,_1,this)}else if(isc.DrawItem.$135i(_5)){_7=this.drawPane.$99d(_6,_5,_1,this)}else{_7=this.drawPane.$99e(_6,_5,_1,this)}
_6=this.$1139;_2[_6]=_7;if(_1.printForExport===false){this.drawPane.addGradient(_5)}
_3="url(#"+_6+")"}}else if(this.fillColor){_3=this.fillColor}
var _8="<"+this.svgElementName+" id='isc_DrawItem_"+this.drawItemID+"' stroke-width='"+this.lineWidth+"px' stroke-opacity='"+this.lineOpacity+"' stroke-dasharray='"+this.$441()+"' stroke-linecap='"+this.lineCap+"' stroke='"+((this.lineColor&&this.lineColor!="")?this.lineColor:"none")+"' fill='"+_3+"' fill-opacity='"+this.fillOpacity;if(this.svgFilter!=null&&this.drawPane){var _9=_2[this.svgFilter]||(_2[this.svgFilter]=this.drawPane.$99f(this.svgFilter));if(_9){_8+="' filter='url(#"+this.svgFilter+")"}}
var _10=true,_11=this.translate,_12=this.scale,_13=this.xShearFactor,_14=this.yShearFactor,_15=this.rotation,_16=_15&&this.$147l();if(_11){_8+=((_10?"' transform='":" ")+"translate("+_11[0]+" "+_11[1]+")");_10=false}
if(_12&&_12.length===2){_8+=((_10?"' transform='":" ")+"scale("+_12[0]+" "+_12[1]+")");_10=false}
if(_13){_8+=((_10?"' transform='":" ")+"skewX("+Math.atan(_13)+")");_10=false}
if(_14){_8+=((_10?"' transform='":" ")+"skewY("+Math.atan(_14)+")")}
if(_15&&_16&&_16.cx!==null&&_16.cy!==null){_8+=((_10?"' transform='":" ")+"rotate("+_15+" "+_16.cx+" "+_16.cy+")")}
if(this.startArrow&&this.$63r()){var _17=this.$442();if(!_2[_17]){_2[_17]=this.$99g(_17,this.lineColor,this.lineOpacity,true)}
_8+="' marker-start='url(#"+_17+")"}
if(this.endArrow&&this.$63s()){var _18=this.$443();if(!_2[_18]){_2[_18]=this.$99g(_18,this.lineColor,this.lineOpacity,false)}
_8+="' marker-end='url(#"+_18+")"}
_8+="' "+this.getAttributesSVG();if(this.contents){_8+=">"+isc.makeXMLSafe(this.contents)+"</"+this.svgElementName+">"}else{_8+="/>"}
return _8},isc.A.getAttributesSVG=function isc_DrawItem_getAttributesSVG(){return""},isc.A.$830=function isc_DrawItem__normalizeLinearGradient(_1){return isc.DrawItem.$830(_1,this.getBoundingBox())},isc.A.$831=function isc_DrawItem__normalizeRadialGradient(_1){return isc.DrawItem.$831(_1,this.getBoundingBox(),this.getCenter())},isc.A.$85x=function isc_DrawItem__drawLinePattern(_1,_2,_3,_4,_5){var _6;switch(this.linePattern.toLowerCase()){default:_6=[10,5];break;case"dash":_6=[10,10];break;case"dot":_6=[1,10];break;case"longdash":_6=[20,10];break;case"shortdash":_6=[10,5];break;case"shortdot":_6=[1,5];break}
var _7=_6.length,_8=(_3-_1),_9=(_4-_2),_10=isc.Math.$101k(_8,_9),_11=_10,_12=0,_13=true;this.bmMoveTo(_1,_2,_5);while(_11>=0.1){var _14=Math.min(_6[_12++%_7],_11);_1+=_8*_14/_10;_2+=_9*_14/_10;this[_13?'bmLineTo':'bmMoveTo'](_1,_2,_5);_11-=_14;_13=!_13}},isc.A.drawStroke=function isc_DrawItem_drawStroke(_1){_1.lineWidth=this.lineWidth;_1.lineCap=this.lineCap;_1.strokeStyle=this.lineColor;_1.globalAlpha=this.lineOpacity;_1.beginPath();this.drawBitmapPath(_1);_1.stroke()},isc.A.drawBitmap=function isc_DrawItem_drawBitmap(_1){_1.save();try{var t=this.$1339();_1.transform(t.m00,t.m10,t.m01,t.m11,t.m02,t.m12);if(this.shadow){_1.shadowColor=this.shadow.color;_1.shadowBlur=this.shadow.blur;_1.shadowOffsetX=this.shadow.offset[0];_1.shadowOffsetY=this.shadow.offset[1]}
if(this.$125k()){var _3=this.fillColor,_4=(typeof(this.fillGradient)==='string'?this.drawPane.getGradient(this.fillGradient):this.fillGradient);if(_4!=null){var _5,_6;if(isc.DrawItem.$135h(_4)||isc.DrawItem.$135i(_4)){_5=this.$830(_4);_3=_1.createLinearGradient(_5[0],_5[1],_5[2],_5[3])}else{_5=this.$831(_4);_3=_1.createRadialGradient(_5[0],_5[1],_5[2],_5[3],_5[4],_5[5])}
if(_4.startColor&&_4.endColor){_3.addColorStop(0.0,_4.startColor);_3.addColorStop(1.0,_4.endColor)}else if(_4.colorStops&&_4.colorStops.length){for(var i=0;i<_4.colorStops.length;++i){_6=_4.colorStops[i].offset;if(typeof(_6)==='string'&&_6.endsWith('%')){_6=parseFloat(_6.substring(0,_6.length-1))/100.0}
_3.addColorStop(_6,_4.colorStops[i].color)}}}
_1.fillStyle=_3;_1.globalAlpha=this.fillOpacity;_1.beginPath();var _8=this.linePattern;this.linePattern="solid";try{this.drawBitmapPath(_1)}finally{this.linePattern=_8}
_1.fill()}
if(this.$125h()){if(this.shadow&&_3){_1.shadowColor=null;_1.shadowBlur=null;_1.shadowOffsetX=0;_1.shadowOffsetY=0}
this.drawStroke(_1)}}catch(e){if(!isc.Log.supportsOnError)this.$am(e);else this.logWarn("exception during drawBitmap(): "+e)}finally{_1.restore()}},isc.A.$442=function isc_DrawItem__getSVGStartArrowID(){if(!this.$444){if(this.startArrow&&this.$44m&&this.$44m.getElementById(this.startArrow)&&(this.startArrow!="open"&&this.startArrow!="closed")){this.$444=this.startArrow}else{this.$444="isc_DrawItem_"+this.drawItemID+"$446"}}
return this.$444},isc.A.$443=function isc_DrawItem__getSVGEndArrowID(){if(!this.$448){if(this.endArrow&&this.$44m&&this.$44m.getElementById(this.endArrow)&&(this.endArrow!="open"&&this.endArrow!="closed")){this.$448=this.endArrow}else{this.$448="isc_DrawItem_"+this.drawItemID+"$45a"}}
return this.$448},isc.A.$99g=function isc_DrawItem__getArrowMarkerSvgString(_1,_2,_3,_4){return"<marker id='"+_1+"' viewBox='0 0 10 10' refY='5' refX='"+(_4?"10":"0")+"' orient='auto' markerUnits='strokeWidth' markerWidth='4' markerHeight='3'><path d='"+(_4?"M 10 0 L 0 5 L 10 10 z":"M 0 0 L 10 5 L 0 10 z")+"' fill='"+((_2&&_2!="")?_2:"none")+"' fill-opacity='"+_3+"'/></marker>"},isc.A.show=function isc_DrawItem_show(){if(!this.hidden)return;this.hidden=false;if(this.drawingVML){if(isc.isA.DrawLabel){this.$125f().style.visibility="visible"}else{this.$154s.setProperty("visibility","visible").flush()}}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"visibility","visible")}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.hide=function isc_DrawItem_hide(){if(this.hidden)return;this.hidden=true;if(this.drawingVML){if(isc.isA.DrawLabel(this)){this.$125f().style.visibility="hidden"}else{this.$154s.setProperty("visibility","hidden").flush()}}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"visibility","hidden")}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setLineWidth=function isc_DrawItem_setLineWidth(_1){if(_1!=null)this.lineWidth=_1;if(this.drawingVML){this.$44l(this.lineWidth*this.drawPane.zoomLevel)}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"stroke-width",this.lineWidth+"px");this.$44z.setAttributeNS(null,"stroke-dasharray",this.$441())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$44l=function isc_DrawItem__setLineWidthVML(_1){this.$154s.setProperty("lineWidth",_1).flush()},isc.A.setLineColor=function isc_DrawItem_setLineColor(_1){this.lineColor=_1;if(this.drawingVML){this.$154s.setProperty("lineColor",_1).setProperty("stroked",this.$125h()).flush()}else if(this.drawingSVG){var _1=this.lineColor?this.lineColor:"none";this.$44z.setAttributeNS(null,"stroke",_1);if(this.$445){this.$445.setAttributeNS(null,"stroke",_1);this.$445.setAttributeNS(null,"fill",_1)}
if(this.$449){this.$449.setAttributeNS(null,"stroke",_1);this.$449.setAttributeNS(null,"fill",_1)}}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setLineOpacity=function isc_DrawItem_setLineOpacity(_1){if(_1!=null)this.lineOpacity=_1;if(this.drawingVML){this.$154s.setProperty("lineOpacity",_1).setProperty("stroked",this.$125h()).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"stroke-opacity",this.lineOpacity);if(this.$445){this.$445.setAttributeNS(null,"stroke-opacity",this.lineOpacity);this.$445.setAttributeNS(null,"fill-opacity",this.lineOpacity)}
if(this.$449){this.$449.setAttributeNS(null,"stroke-opacity",this.lineOpacity);this.$449.setAttributeNS(null,"fill-opacity",this.lineOpacity)}}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setLinePattern=function isc_DrawItem_setLinePattern(_1){this.linePattern=_1;if(this.drawingVML){this.$154s.setProperty("linePattern",_1).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"stroke-dasharray",this.$441())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.$441=function isc_DrawItem__getSVGDashArray(){var _1=this.linePattern;if(!_1||_1=="solid"||_1=="")return"none";if(isc.isAn.Array(_1))return _1.join("px,")+"px";var _2=this.$44r[_1];var _3=this.$44s[_1];if(this.lineCap!="butt"){_2=Math.max(0.1,_2-1);_3++}
return(_2*this.lineWidth)+"px,"+(_3*this.lineWidth)+"px"},isc.A.setLineCap=function isc_DrawItem_setLineCap(_1){if(_1!=null)this.lineCap=_1;if(this.drawingVML){_1=(this.lineCap==isc.VMLRenderer.$125o?isc.VMLRenderer.$125p:this.lineCap);this.$154s.setProperty("lineCap",_1).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"stroke-linecap",this.lineCap);this.$44z.setAttributeNS(null,"stroke-dasharray",this.$441())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setShadow=function isc_DrawItem_setShadow(_1){if(_1!=null){this.shadow=_1}
if(this.drawingVML){this.$154s.setProperty("shadow",_1).flush()}else if(this.drawingSVG){}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.supportsStartArrow=function isc_DrawItem_supportsStartArrow(){return this.getClass().isMethodSupported("setStartArrow")},isc.A.setStartArrow=function isc_DrawItem_setStartArrow(_1){var _2=this.$63r();var _3;if(_1!==_3)this.startArrow=_1;else _1=this.startArrow;var _4=this.$63r();if(_2!=_4){this.setStartPoint()}
if(_4)_1=null;if(this.drawingVML){this.$154s.setProperty("startArrow",(_1?_1:isc.VMLRenderer.$27r)).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"marker-start",(_1?"url(#"+this.$442()+")":"none"))}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.supportsEndArrow=function isc_DrawItem_supportsEndArrow(){return this.getClass().isMethodSupported("setEndArrow")},isc.A.setEndArrow=function isc_DrawItem_setEndArrow(_1){var _2=this.$63s();var _3;if(_1!==_3)this.endArrow=_1;else _1=this.endArrow;var _4=this.$63s();if(_2!=_4){this.setEndPoint()}
if(_4)_1=null;if(this.drawingVML){this.$154s.setProperty("endArrow",(_1?_1:isc.VMLRenderer.$27r)).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"marker-end",(_1?"url(#"+this.$443()+")":"none"))}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.moveBy=function isc_DrawItem_moveBy(_1,_2){var _3=this.$147l(),_4=_3.cx,_5=_3.cy,_6=this.getResizeBoundingBox(this.$145i);this.$147v(_6[0],_6[1],_6[2],_6[3],_4,_5,(this.$147m?this.$147m():null),this.$1339(true),_6[0]+_1,_6[1]+_2,_6[2]+_1,_6[3]+_2)},isc.A.moveTo=function isc_DrawItem_moveTo(_1,_2){var _3=this.$147l(),_4=_3.cx,_5=_3.cy,_6=this.getResizeBoundingBox(this.$145i),_7=(_1==null?0:_1-_6[0]),_8=(_2==null?0:_2-_6[1]);if(!(_7==0&&_8==0)){this.$147v(_6[0],_6[1],_6[2],_6[3],_4,_5,(this.$147m?this.$147m():null),this.$1339(true),_6[0]+_7,_6[1]+_8,_6[2]+_7,_6[3]+_8)}},isc.A.setCenterPoint=function isc_DrawItem_setCenterPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
var _3=this.getCenter();this.$147y(_1,_2,_3[0],_3[1])},isc.A.$147y=function isc_DrawItem__movePointToPoint(_1,_2,_3,_4){var v=this.$136i(_3,_4,"local","global"),_6=isc.DrawItem.$1503(_1==null?0:_1-v.v0),_7=isc.DrawItem.$1503(_2==null?0:_2-v.v1);if(!(_6==0&&_7==0)){this.moveBy(_6,_7)}},isc.A.resizeBy=function isc_DrawItem_resizeBy(_1,_2){var _3=this.$147l(),_4=_3.cx,_5=_3.cy,_6=this.getResizeBoundingBox(this.$145i);this.$147v(_6[0],_6[1],_6[2],_6[3],_4,_5,(this.$147m?this.$147m():null),this.$1339(true),_6[0],_6[1],_6[2]+_1,_6[3]+_2)},isc.A.resizeTo=function isc_DrawItem_resizeTo(_1,_2){var _3=this.$147l(),_4=_3.cx,_5=_3.cy,_6=this.getResizeBoundingBox(this.$145i),_7=0,_8=0;if(_1!=null){_7=_1-(_6[2]-_6[0])}
if(_2!=null){_8=_2-(_6[3]-_6[1])}
this.$147v(_6[0],_6[1],_6[2],_6[3],_4,_5,(this.$147m?this.$147m():null),this.$1339(true),_6[0],_6[1],_6[2]+_7,_6[3]+_8)});isc.evalBoundary;isc.B.push(isc.A.rotateBy=function isc_DrawItem_rotateBy(_1){this.rotation=(this.rotation||0)+_1;delete this.$1348;if(this.drawingVML){this.$154s.setProperty("transform",this.$1339()).flush()}else if(this.drawingSVG){var _2=this.getCenter();this.$44z.setAttributeNS(null,"transform","translate("+_2[0]+","+_2[1]+") rotate("+this.rotation+") translate("+-_2[0]+","+-_2[1]+")")}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$1071()},isc.A.rotateTo=function isc_DrawItem_rotateTo(_1){this.rotateBy(_1-this.rotation)},isc.A.scaleBy=function isc_DrawItem_scaleBy(_1,_2){var _3=this.scale;if(_3==null){_3=this.scale=[]}
_3[0]=_1;_3[1]=_2;delete this.$1348;if(this.drawingVML){this.$154s.setProperty("transform",this.$1339()).flush()}else if(this.drawingSVG){}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$136y()},isc.A.scaleTo=function isc_DrawItem_scaleTo(_1,_2){this.scaleBy(_1,_2)},isc.A.setFillColor=function isc_DrawItem_setFillColor(_1){this.fillColor=_1;if(this.drawingVML){this.$154s.setProperty("fillColor",_1).setProperty("filled",this.$125k());this.$154s.flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"fill",(this.fillColor&&this.fillColor!="")?this.fillColor:"none")}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setFillGradient=function isc_DrawItem_setFillGradient(_1){this.fillGradient=_1;if(this.drawingVML){this.$154s.setProperty("fillGradient",_1).setProperty("filled",this.$125k()).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"fill",(this.fillColor&&this.fillColor!="")?this.fillColor:"none")}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setFillOpacity=function isc_DrawItem_setFillOpacity(_1){if(_1!=null&&_1!=this.fillOpacity){this.fillOpacity=_1;if(this.drawingVML){this.$154s.setProperty("fillOpacity",_1).setProperty("filled",this.$125k()).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"fill-opacity",_1)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}}},isc.A.bmMoveTo=function isc_DrawItem_bmMoveTo(_1,_2,_3){var _4=(this.autoOffset&&(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0);try{_3.moveTo(_1+_4,_2+_4)}catch(e){this.logWarn("error on moveTo(): left: "+_1+", top: "+_2+(this.logIsInfoEnabled()?this.getStackTrace():""))}},isc.A.bmArc=function isc_DrawItem_bmArc(_1,_2,_3,_4,_5,_6){var _7=(this.autoOffset&&(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0);try{_6.arc(_1+_7,_2+_7,_3,_4,_5,false)}catch(e){this.logWarn("error on arc(): centerPointX: "+_1+", centerPointY: , radius: "+_3+", startRadian: "+_4+", endRadian: "+_5+(this.logIsInfoEnabled()?this.getStackTrace():""))}},isc.A.bmLineTo=function isc_DrawItem_bmLineTo(_1,_2,_3){var _4=(this.autoOffset&&(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0);try{_3.lineTo(_1+_4,_2+_4)}catch(e){this.logWarn("error on lineTo(): left: "+_1+", top: "+_2+(this.logIsInfoEnabled()?this.getStackTrace():""))}},isc.A.bmQuadraticCurveTo=function isc_DrawItem_bmQuadraticCurveTo(_1,_2,_3,_4,_5){var _6=(this.autoOffset&&(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0);try{_5.quadraticCurveTo(_1+_6,_2+_6,_3+_6,_4+_6)}catch(e){this.logWarn("error on quadraticCurveTo(): x1: "+_1+", y1: "+_2+", x2: "+_3+", y2: "+_4+(this.logIsInfoEnabled()?this.getStackTrace():""))}},isc.A.bmBezierCurveTo=function isc_DrawItem_bmBezierCurveTo(_1,_2,_3,_4,_5,_6,_7){var _8=(this.autoOffset&&(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0);try{_7.bezierCurveTo(_1+_8,_2+_8,_3+_8,_4+_8,_5+_8,_6+_8)}catch(e){var _9=(this.logIsInfoEnabled()?this.getStackTrace():"");this.logWarn("error on bezierCurveTo(): cp1x: "+_1+", cp1y: "+_2+", cp2x: "+_3+", cp2x: "+_4+", p2x: "+_5+", p2y: "+_6+_9)}},isc.A.bmFillText=function isc_DrawItem_bmFillText(_1,_2,_3,_4){try{_4.fillText(_1,_2,_3)}catch(e){this.logWarn("error on fillText(): text: "+_1+", left: "+_2+", top: "+_3+(this.logIsInfoEnabled()?this.getStackTrace():""))}},isc.A.bmStrokeText=function isc_DrawItem_bmStrokeText(_1,_2,_3,_4){try{_4.strokeText(_1,_2,_3)}catch(e){this.logWarn("error on fillText(): text: "+_1+", left: "+_2+", top: "+_3+(this.logIsInfoEnabled()?this.getStackTrace():""))}});isc.B._maxIndex=isc.C+161;isc.A=isc.DrawItem;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$44q=0;isc.A.$630=["show",,"Knobs"];isc.A.$631=["hide",,"Knobs"];isc.A.$135g=["resize","move","startPoint","endPoint","controlPoint1","controlPoint2"];isc.B.push(isc.A.$632=function isc_c_DrawItem__getShowKnobsFunctionName(_1,_2){if(!this.$633){this.$633={}}
if(this.$633[_1]==null){_1=_1.substring(0,1).toUpperCase()+_1.substring(1);this.$630[1]=_1;this.$631[1]=_1;this.$633[_1]=[this.$630.join(isc.emptyString),this.$631.join(isc.emptyString)]}
return _2?this.$633[_1][1]:this.$633[_1][0]},isc.A.registerEventStringMethods=function isc_c_DrawItem_registerEventStringMethods(){var _1=isc.EH;for(var _2 in _1.eventTypes){this.registerStringMethods(_1.eventTypes[_2],_1.$i3)}},isc.A.$830=function isc_c_DrawItem__normalizeLinearGradient(_1,_2){var _3=new Array(4),_4=Math.abs(_2[2]-_2[0]),_5=Math.abs(_2[3]-_2[1]);if(_1.direction!=null){var _6=(typeof(_1.direction)==='string'?parseFloat(_1.direction):_1.direction),_7=_6*isc.Math.$125w,_8=Math.sin(_7),_9=Math.cos(_7),_10=(_2[0]+_2[2])/2,_11=(_2[1]+_2[3])/2,_12=(_8==0?_4:Math.min(_4,Math.abs(_5*_9/_8)))/2,_13=(_9==0?_5:Math.min(_5,Math.abs(_4*_8/_9)))/2;if(_8<0){_13=-_13}
if(_9<0){_12=-_12}
_3[0]=Math.round(_10-_12);_3[1]=Math.round(_11-_13);_3[2]=Math.round(_10+_12);_3[3]=Math.round(_11+_13)}else{if(typeof(_1.x1)==='string'){if(_1.x1.endsWith('%')){_3[0]=(_2[0]+parseFloat(_1.x1)*_4/100.0)}else{_3[0]=parseFloat(_1.x1)}}else if(isc.isA.Number(_1.x1)){_3[0]=_1.x1}
if(typeof(_1.y1)==='string'){if(_1.y1.endsWith('%')){_3[1]=(_2[1]+parseFloat(_1.y1)*_5/100.0)}else{_3[1]=parseFloat(_1.y1)}}else if(isc.isA.Number(_1.y1)){_3[1]=_1.y1}
if(typeof(_1.x2)==='string'){if(_1.x2.endsWith('%')){_3[2]=(_2[0]+parseFloat(_1.x2)*_4/100.0)}else{_3[2]=parseFloat(_1.x2)}}else if(isc.isA.Number(_1.x2)){_3[2]=_1.x2}
if(typeof(_1.y2)==='string'){if(_1.y2.endsWith('%')){_3[3]=(_2[1]+parseFloat(_1.y2)*_5/100.0)}else{_3[3]=parseFloat(_1.y2)}}else if(isc.isA.Number(_1.y2)){_3[3]=_1.y2}}
return _3},isc.A.$831=function isc_c_DrawItem__normalizeRadialGradient(_1,_2,_3){var _4=new Array(6);if(typeof(_1.fx)==='string'){if(_1.fx.endsWith('%')){_4[0]=(_3[0]+(parseFloat(_1.fx)/100.0))}else{_4[0]=(_3[0]+parseFloat(_1.fx))}}else if(_1.fx!=undefined){_4[0]=(_3[0]+_1.fx)}else{_4[0]=_3[0]}
if(typeof(_1.fy)==='string'){if(_1.fy.endsWith('%')){_4[1]=(_3[1]+(parseFloat(_1.fy)/100.0))}else{_4[1]=(_3[1]+parseFloat(_1.fy))}}else if(_1.fy!=undefined){_4[1]=(_3[1]+_1.fy)}else{_4[1]=_3[1]}
_4[2]=0;if(typeof(_1.cx)==='string'&&isc.isA.Number(_2[0])){if(_1.cx.endsWith('%')){_4[3]=(_2[0]-Math.round(_2[0]*parseInt(_1.cx)/100.0))}else{_4[3]=(_3[0]+parseInt(_1.cx))}}else{_4[3]=(_3[0]+_1.cx)}
if(typeof(_1.cy)==='string'&&isc.isA.Number(_2[1])){if(_1.cx.endsWith('%')){_4[4]=(_2[1]-Math.round(_2[1]*parseInt(_1.cy)/100.0))}else{_4[4]=(_3[1]+parseInt(_1.cy))}}else{_4[4]=(_3[1]+_1.cy)}
if(typeof(_1.r)==='string'&&isc.isA.Number(_2[0])&&isc.isA.Number(_2[1])){var _5=_2[2]-_2[0],_6=_2[3]-_2[1],r=isc.Math.$101k(_5,_6);if(_1.r.endsWith('%')){_4[5]=(r*parseFloat(_1.r)/100.0)}else{_4[5]=(r*parseFloat(_1.r))}}else{_4[5]=_1.r}
return _4});isc.B._maxIndex=isc.C+4;isc.DrawItem.registerEventStringMethods();isc.defineClass("DrawGroup","DrawItem");isc.A=isc.DrawGroup.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.renderGroupElement=false;isc.A.useGroupRect=false;isc.A.left=0;isc.A.top=0;isc.A.width=1;isc.A.height=1;isc.A.$154u=new isc.VMLRenderer.shapeConfig();isc.A.$44l=isc.Class.NO_OP;isc.A.isPointInPath=isc.DrawItem.getInstanceProperty("isInBounds");isc.B.push(isc.A.init=function isc_DrawGroup_init(){if(this.drawItems==null){this.drawItems=[]}else{var _1=null;for(var i=0,_3=this.drawItems.length;i<_3;++i){var _4=this.drawItems[i];if(_4.drawPane!=null){_4.drawPane.removeDrawItem(_4)}
_4.drawGroup=this;if(_4.exemptFromGlobalTransform){_1=_1||this.$1504();if(_1!=null){_1.$150v.push(_4)}}}}
this.exemptFromGlobalTransform=false;this.Super("init")},isc.A.$148s=function isc_DrawGroup__addedToDrawPane(_1){var _2=this.drawItems;for(var i=0,_4=(_2==null?0:_2.length);i<_4;++i){var _5=_2[i];_5.drawPane=_1;_5.$148r=this.$148r;if(_5.exemptFromGlobalTransform){_1.$150v.push(_5)}
if(isc.isA.DrawGroup(_5)){_5.$148s(_1)}}},isc.A.$148t=function isc_DrawGroup__removedFromDrawPane(_1){var _2=this.drawItems;for(var i=0,_4=(_2==null?0:_2.length);i<_4;++i){var _5=_2[i];delete _5.drawPane;if(_5.item!=null){_1.quadTree.remove(_5.item);delete _5.item}
if(_5.exemptFromGlobalTransform){_1.$150v.remove(_5)}
if(isc.isA.DrawGroup(_5)){_5.$148t(_1)}}},isc.A.erase=function isc_DrawGroup_erase(_1,_2){for(var i=0;i<this.drawItems.length;i++){this.drawItems[i].erase(true,_2)}
this.drawItems=[];this.Super("erase",arguments)},isc.A.removeDrawItem=function isc_DrawGroup_removeDrawItem(_1){if(_1.$if){_1.erase()}else{var _2=this.drawItems.remove(_1);if(!_2&&this.$1262!=null){_2=this.$1262.remove(_1)}
if(isc.isA.DrawGroup(_1)){var _3=this.$1504();if(_3!=null){_1.$148t(_3)}}else if(_1.exemptFromGlobalTransform){var _3=this.$1504();_3.$150v.remove(_1)}}
delete _1.drawGroup;delete _1.drawPane},isc.A.$154t=function isc_DrawGroup__renderVML(_1,_2,_3){var _4=_1.buffer,_5=this.$154u;this.$154s=_1.group(_2,_5);var _6=this.drawItems;if(_6!=null){for(var i=0,_8=_6.length;i<_8;++i){var _9=_6[i];_9.$44v(_4,"isc_DrawItem_"+_9.drawItemID,_3)}}
_1.endGroup(_2)},isc.A.getSvgString=function isc_DrawGroup_getSvgString(_1){_1=_1||isc.SVGStringConversionContext.create();var _2="<g id='isc_DrawItem_"+this.drawItemID+"'";var _3=this.getAttributesSVG();if(_3)_2+=" "+_3;if(this.drawItems&&this.drawItems.length){_2+=">";for(var i=0;i<this.drawItems.length;++i){_2+=this.drawItems[i].getSvgString(_1)}
_2+="</g>"}else _2+="/>";return _2},isc.A.draw=function isc_DrawGroup_draw(){if(this.drawItems==null)this.drawItems=[];this.Super("draw",arguments);var _1=this.drawItems;for(var i=0,_3=_1.length;i<_3;++i){var _4=_1[i];_4.drawGroup=this;_4.draw()}},isc.A.drawHandle=function isc_DrawGroup_drawHandle(){if(!this.renderGroupElement)return;return this.Super("drawHandle",arguments)},isc.A.drawBitmap=function isc_DrawGroup_drawBitmap(_1){this.drawPane.$1500(_1,this.drawItems)},isc.A.setLeft=function isc_DrawGroup_setLeft(_1){this.$147z(_1,this.top,this.width,this.height)},isc.A.setTop=function isc_DrawGroup_setTop(_1){this.$147z(this.left,_1,this.width,this.height)},isc.A.setWidth=function isc_DrawGroup_setWidth(_1){this.$147z(this.left,this.top,_1,this.height)},isc.A.setHeight=function isc_DrawGroup_setHeight(_1){this.$147z(this.left,this.top,this.width,_1)},isc.A.getGroupRect=function isc_DrawGroup_getGroupRect(){return[this.left,this.top,this.width,this.height]},isc.A.$147z=function isc_DrawGroup__setGroupRect(_1,_2,_3,_4){var _5=this.$147l(),_6=_5.cx,_7=_5.cy;this.left=_1;this.top=_2;this.width=_3;this.height=_4;var _8=this.$147l();this.$147x(_6,_7,_8.cx,_8.cy);this.$143s()},isc.A.rotateTo=function isc_DrawGroup_rotateTo(_1){for(var i=0;i<this.drawItems.length;i++){var _3=this.drawItems[i];_3.rotateTo(_1)}},isc.A.rotateBy=function isc_DrawGroup_rotateBy(_1){for(var i=0;i<this.drawItems.length;++i){var _3=this.drawItems[i];_3.rotateBy(_1)}},isc.A.scaleBy=function isc_DrawGroup_scaleBy(_1,_2){for(var i=0;i<this.drawItems.length;++i){var _4=this.drawItems[i];_4.scaleBy(_1,_2)}},isc.A.getCenter=function isc_DrawGroup_getCenter(){return[this.left+isc.DrawItem.$1503(this.width/2),this.top+isc.DrawItem.$1503(this.height/2)]},isc.A.getBoundingBox=function isc_DrawGroup_getBoundingBox(_1,_2){var _3=(_2||new Array(4));_3[0]=this.left;_3[1]=this.top;_3[2]=this.left+this.width;_3[3]=this.top+this.height;return _3},isc.A.scaleTo=function isc_DrawGroup_scaleTo(_1,_2){this.scale=this.scale||[];this.scale[0]+=(this.scale[0]||0)+_1;this.scale[1]+=(this.scale[1]||0)+_2;delete this.$1348;this.scaleBy(_1,_2)});isc.B._maxIndex=isc.C+22;isc.DrawGroup.markUnsupportedMethods("$class does not support knobs.",["showKnobs","setMoveKnobOffset"]);isc.DrawGroup.markUnsupportedMethods(null,["setLineWidth","setLineColor","setLineOpacity","setLinePattern","setLineCap","setShadow","setFillColor","setFillGradient","setFillOpacity"]);isc.DrawGroup.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawLine","DrawItem");isc.A=isc.DrawLine.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.startPoint=[0,0];isc.A.endPoint=[100,100];isc.A.svgElementName="line";isc.A.$154v=new isc.VMLRenderer.shapeConfig();isc.A.showResizeKnobs=null;isc.A.hideResizeKnobs=null;isc.B.push(isc.A.init=function isc_DrawLine_init(){this.startPoint=this.startPoint.duplicate();this.endPoint=this.endPoint.duplicate();this.startPoint[0]=this.startLeft=(this.startLeft==0?0:(this.startLeft||this.startPoint[0]));this.startPoint[1]=this.startTop=(this.startTop==0?0:(this.startTop||this.startPoint[1]));this.endPoint[0]=this.endLeft=(this.endLeft==0?0:(this.endLeft||this.endPoint[0]));this.endPoint[1]=this.endTop=(this.endTop==0?0:(this.endTop||this.endPoint[1]));this.Super("init")},isc.A.$45b=function isc_DrawLine__getArrowAdjustedPoints(){if(this.startArrow||this.endArrow){return isc.GraphMath.trimLineEnds(this.startLeft,this.startTop,this.endLeft,this.endTop,this.startArrow?this.lineWidth*3:0,this.endArrow?this.lineWidth*3:0)}else{return[this.startLeft,this.startTop,this.endLeft,this.endTop]}},isc.A.setLineWidth=function isc_DrawLine_setLineWidth(_1){this.Super("setLineWidth",arguments);if(this.drawingSVG)this.setStartPoint()},isc.A.setStartArrow=function isc_DrawLine_setStartArrow(_1){this.Super("setStartArrow",arguments);if(this.drawingSVG)this.setStartPoint()},isc.A.setEndArrow=function isc_DrawLine_setEndArrow(_1){this.Super("setEndArrow",arguments);if(this.drawingSVG)this.setEndPoint()},isc.A.$154t=function isc_DrawLine__renderVML(_1,_2,_3){var _4=this.$154v;isc.VMLRenderer.drawItemToShapeConfig(this,_4);_4.fromX=this.startPoint[0];_4.fromY=this.startPoint[1];_4.toX=this.endPoint[0];_4.toY=this.endPoint[1];this.$154s=_1.line(_2,_4)},isc.A.getAttributesSVG=function isc_DrawLine_getAttributesSVG(){var _1=this.$45b();return"x1='"+_1[0]+"' y1='"+_1[1]+"' x2='"+_1[2]+"' y2='"+_1[3]+"'"},isc.A.drawBitmapPath=function isc_DrawLine_drawBitmapPath(_1){var _2=(this.lineWidth==0||parseInt(this.lineWidth)%2)==1?0.5:0,_3=parseFloat(this.startLeft)+_2,_4=parseFloat(this.startTop)+_2,_5=parseFloat(this.endLeft)+_2,_6=parseFloat(this.endTop)+_2,_7,_8=10,_9,_10;if(this.startArrow=="open"){_1.save();_1.beginPath();_1.strokeStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_7=this.computeAngle(_3,_4,_5,_6);_9=_3;_10=_4;_1.scale(1,1);_1.translate(_9,_10);_1.rotate(_7*this.$125w);this.bmMoveTo(_8,-_8,_1);this.bmLineTo(0,0,_1);this.bmLineTo(_8,_8,_1);_1.stroke();_1.restore()}else if(this.startArrow=="block"){_1.save();_1.beginPath();_1.fillStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_7=this.computeAngle(_3,_4,_5,_6);_9=_3;_10=_4;_1.translate(_9,_10);_1.rotate(_7*this.$125w);this.bmMoveTo(_8,-_8,_1);this.bmLineTo(0,0,_1);this.bmLineTo(_8,_8,_1);_1.closePath();_1.fill();_1.stroke();_1.restore()}
if(this.endArrow=="open"){_1.save();_1.beginPath();_1.strokeStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_7=this.computeAngle(_3,_4,_5,_6);_9=_5;_10=_6;_1.translate(_9,_10);_1.rotate(_7*this.$125w);this.bmMoveTo(-_8,_8,_1);this.bmLineTo(0,0,_1);this.bmLineTo(-_8,-_8,_1);_1.stroke();_1.restore()}else if(this.endArrow=="block"){_1.save();_1.beginPath();_1.fillStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_7=this.computeAngle(_3,_4,_5,_6);_9=_5;_10=_6;_1.translate(_9,_10);_1.rotate(_7*this.$125w);this.bmMoveTo(-_8,_8,_1);this.bmLineTo(0,0,_1);this.bmLineTo(-_8,-_8,_1);_1.closePath();_1.fill();_1.restore()}
if(this.linePattern.toLowerCase()!=="solid"){this.$85x(_3,_4,_5,_6,_1)}else{this.bmMoveTo(this.startLeft,this.startTop,_1);this.bmLineTo(this.endLeft,this.endTop,_1)}},isc.A.setStartPoint=function isc_DrawLine_setStartPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.$1487(_1,_2,this.endLeft,this.endTop,null,null)},isc.A.setEndPoint=function isc_DrawLine_setEndPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.$1487(this.startLeft,this.startTop,_1,_2,null,null)},isc.A.$1487=function isc_DrawLine__setStartAndEndPoints(_1,_2,_3,_4,_5,_6){var _7=(this.startLeft!=_1||this.startTop!=_2),_8=(this.endLeft!=_3||this.endTop!=_4);if(!(_7||_8)){return}
if(_5==null||_6==null){var _9=this.$147l();_5=_9.cx;_6=_9.cy}
this.startLeft=_1;this.startTop=_2
this.endLeft=_3;this.endTop=_4;if(this.startPoint){this.startPoint[0]=_1;this.startPoint[1]=_2}
if(this.endPoint){this.endPoint[0]=_3;this.endPoint[1]=_4}
var _10=this.$147l();this.$147x(_5,_6,_10.cx,_10.cy);if(this.drawingVML){var _11=this.$154s;if(_5!=_10.cx||_6!=_10.cy){delete this.$1348;_11.setProperty("transform",this.$1339())}
if(_7){_11.setProperty("fromX",_1).setProperty("fromY",_2)}
if(_8){_11.setProperty("toX",_3).setProperty("toY",_4)}
_11.flush()}else if(this.drawingSVG){var _12=this.$44z,_13=this.$45b();if(_7||(_8&&this.startArrow))
{_12.setAttributeNS(null,"x1",_13[0]);_12.setAttributeNS(null,"y1",_13[1])}
if(_8||(_7&&this.endArrow))
{_12.setAttributeNS(null,"x2",_13[2]);_12.setAttributeNS(null,"y2",_13[3])}}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$147w=function isc_DrawLine__updateLocalTransform(_1,_2,_3,_4,_5){if(!this.resizeViaLocalTransformOnly){var _6=isc.DrawItem.$147j(_1,_2,_3,_4.startLeft,_4.startTop,(_4.endLeft-_4.startLeft),(_4.endTop-_4.startTop),(this.$125h()?(this.lineWidth/2):0));if(_6.success){this.Super("$147w",[_1,_2,_3,_4,false]);this.$1487(_6.left,_6.top,_6.left+_6.width,_6.top+_6.height,_2,_3);return}}
this.Super("$147w",[_1,_2,_3,_4,_5])},isc.A.$147m=function isc_DrawLine__saveShape(){return{startLeft:this.startLeft,startTop:this.startTop,endLeft:this.endLeft,endTop:this.endTop}},isc.A.getBoundingBox=function isc_DrawLine_getBoundingBox(_1,_2){var _3=this.startPoint[0],_4=this.startPoint[1],_5=this.endPoint[0],_6=this.endPoint[1],_7=_6-_4,_8=_5-_3;var a=Math.atan2(_7,_8)/isc.Math.$125w,l=isc.Math.$101k(_8,_7),_11=(_2||new Array(4));if(_1!=true||!this.$125h()){_11[0]=_11[1]=_11[3]=0;_11[2]=l}else{var _12=this.lineWidth/2;_11[0]=_11[1]=-_12;_11[2]=l+_12;_11[3]=_12}
var t=isc.AffineTransform.getTranslateTransform(_3,_4).rotate(a,0,0);var _14=t.transform(_11[0],_11[1]),_15=t.transform(_11[2],_11[1]),_16=t.transform(_11[2],_11[3]),_17=t.transform(_11[0],_11[3]);_11[0]=Math.min(_14.v0,_15.v0,_16.v0,_17.v0);_11[1]=Math.min(_14.v1,_15.v1,_16.v1,_17.v1);_11[2]=Math.max(_14.v0,_15.v0,_16.v0,_17.v0);_11[3]=Math.max(_14.v1,_15.v1,_16.v1,_17.v1);return _11},isc.A.$147c=function isc_DrawLine__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=(_4||new Array(4));var _6=(_2&&this.$125h()?(this.lineWidth/2):0),_7=(_3?this.hitTolerance:0),_8=_6+_7;var _9=_1.m00,_10=_1.m01,_11=_1.m02,_12=_1.m10,_13=_1.m11,_14=_1.m12;var _15=_9*this.startPoint[0]+_10*this.startPoint[1]+_11,_16=_12*this.startPoint[0]+_13*this.startPoint[1]+_14,_17=_9*this.endPoint[0]+_10*this.endPoint[1]+_11,_18=_12*this.endPoint[0]+_13*this.endPoint[1]+_14;_5[0]=Math.min(_15,_17);_5[1]=Math.min(_16,_18);_5[2]=Math.max(_15,_17);_5[3]=Math.max(_16,_18);if(_8!=0){var _19=_8*isc.Math.$101k(_9,_10),_20=_8*isc.Math.$101k(_12,_13);_5[0]-=_19;_5[1]-=_20;_5[2]+=_19;_5[3]+=_20}
return _5},isc.A.getCenter=function isc_DrawLine_getCenter(){return[this.startPoint[0]+isc.DrawItem.$1503((this.endPoint[0]-this.startPoint[0])/2),this.startPoint[1]+isc.DrawItem.$1503((this.endPoint[1]-this.startPoint[1])/2)]},isc.A.isPointInPath=function isc_DrawLine_isPointInPath(_1,_2){var _3=Math.max(this.lineWidth/2,2)+this.hitTolerance;var _4=this.$136i(_1,_2);return isc.Math.euclideanDistanceToLine(this.startLeft,this.startTop,this.endLeft,this.endTop,_4.v0,_4.v1)<_3},isc.A.showKnobs=function isc_DrawLine_showKnobs(_1){if(isc.isAn.Array(_1))return this.Super("showKnobs",arguments);var _2=this.$135f();this.Super("showKnobs",arguments);if(this.knobs.length>1&&(_1=="move"||_1=="startPoint"||_1=="endPoint")&&(this.$637!=null&&!this.$637.destroyed)&&(this.knobs.contains("startPoint")||this.knobs.contains("endPoint")))
{var _3=this.$135f();if(_3!=null){if(!_2)_2=[0,0];this.$637.moveBy(_3[0]-_2[0],_3[1]-_2[1])}}},isc.A.$636=function isc_DrawLine__getKnobPosition(_1){var _2=(_1.contains("R")?this.endPoint:this.startPoint),v=this.$136i(_2[0],_2[1],"local","global");return[v.v0,v.v1]},isc.A.$135f=function isc_DrawLine__getMoveKnobOffset(){if(this.moveKnobOffset!=null){return this.moveKnobOffset}
if(this.knobs==null||this.knobs.length==0||!this.knobs.contains("move")){return null}
var _1=this.moveKnobPoint.contains("R"),_2=this.$636(this.moveKnobPoint);if(!this.knobs.contains(_1?"endPoint":"startPoint")){return null}
return this.$135e[this.moveKnobPoint]},isc.A.showStartPointKnobs=function isc_DrawLine_showStartPointKnobs(){if(this.$639!=null&&!this.$639.destroyed)return;var v=this.$136i(this.startLeft,this.startTop,"local","global");this.$639=this.createAutoChild("startKnob",{x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.startLeft,_2.startTop,"local","global");this.setCenterPoint(v.v0,v.v1,false)},updatePoints:function(_9,_10,_11,_12,_13){var _2=this.creator,_3=(_13=="start"),_4=(_13=="move"),_5=(_13=="stop");var _6;if(_3){_6=_2.$1135=_2.endPoint.duplicate();var v=_2.$136i(_6[0],_6[1],"local","global");_6[0]=v.v0;_6[1]=v.v1}else{_6=_2.$1135}
if(_2.keepInParentRect){var _7=_2.$113u(),_8=_2.$1136(_6,[_9,_10],_7);if(_8==null){if(_5){delete _2.$1135}
return false}else{_9=_8[0];_10=_8[1]}}else if(_5){delete _2.$1135}
var v=_2.$136i(_9,_10,"global","local");_2.setStartPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1))}})},isc.A.hideStartPointKnobs=function isc_DrawLine_hideStartPointKnobs(){if(this.$639){this.$639.destroy();delete this.$639}},isc.A.showEndPointKnobs=function isc_DrawLine_showEndPointKnobs(){if(this.$64a!=null&&!this.$64a.destroyed)return;var v=this.$136i(this.endLeft,this.endTop,"local","global");this.$64a=this.createAutoChild("endKnob",{x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.endLeft,_2.endTop,"local","global");this.setCenterPoint(v.v0,v.v1,false)},updatePoints:function(_9,_10,_11,_12,_13){var _2=this.creator,_3=(_13=="start"),_4=(_13=="move"),_5=(_13=="stop"),_6;if(_3){_6=_2.$1137=_2.startPoint.duplicate();var v=_2.$136i(_6[0],_6[1],"local","global");_6[0]=v.v0;_6[1]=v.v1}else{_6=_2.$1137}
if(_2.keepInParentRect){var _7=_2.$113u(),_8=_2.$1136(_6,[_9,_10],_7);if(_8==null){if(_5){delete _2.$1137}
return false}else{_9=_8[0];_10=_8[1]}}else if(_5){delete _2.$1137}
var v=_2.$136i(_9,_10,"global","local");_2.setEndPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1))}})},isc.A.hideEndPointKnobs=function isc_DrawLine_hideEndPointKnobs(){if(this.$64a){this.$64a.destroy();delete this.$64a}},isc.A.moveStartPointTo=function isc_DrawLine_moveStartPointTo(_1,_2){this.$147y(_1,_2,this.startLeft,this.startTop)},isc.A.updateControlKnobs=function isc_DrawLine_updateControlKnobs(){this.Super("updateControlKnobs",arguments);if(this.$639){var v=this.$136i(this.startLeft,this.startTop,"local","global");this.$639.setCenterPoint(v.v0,v.v1)}
if(this.$64a){var v=this.$136i(this.endLeft,this.endTop,"local","global");this.$64a.setCenterPoint(v.v0,v.v1)}});isc.B._maxIndex=isc.C+26;isc.defineClass("DrawRect","DrawItem");isc.A=isc.DrawRect.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.left=0;isc.A.top=0;isc.A.width=100;isc.A.height=100;isc.A.rounding=0;isc.A.lineCap="butt";isc.A.svgElementName="rect";isc.A.$154w=new isc.VMLRenderer.shapeConfig();isc.A.isPointInPath=isc.DrawItem.getInstanceProperty("isInBounds");isc.B.push(isc.A.$154t=function isc_DrawRect__renderVML(_1,_2,_3){var _4=this.$154w;isc.VMLRenderer.drawItemToShapeConfig(this,_4);var _5=this.left,_6=this.top,_7=this.width,_8=this.height;if(_7<0){_5+=_7;_7=-_7}
if(_8<0){_6+=_8;_8=-_8}
_4.left=_5;_4.top=_6;_4.width=_7;_4.height=_8;_4.arcsize=(this.rounding/2);this.$154s=_1.roundrect(_2,_4)},isc.A.getAttributesSVG=function isc_DrawRect_getAttributesSVG(){var _1=this.left,_2=this.top,_3=this.width,_4=this.height;if(_3<0){_1+=_3;_3=-_3}
if(_4<0){_2+=_4;_4=-_4}
return isc.SB.concat("x='",_1,"' y='",_2,"' width='",_3,"' height='",_4,"'",(this.rounding?(" rx='"+(this.rounding*Math.min(_3,_4)/2)+"'"):""))},isc.A.drawBitmapPath=function isc_DrawRect_drawBitmapPath(_1){var _2=this.left,_3=this.top,_4=this.width,_5=this.height;if(_4<0){_2+=_4;_4=-_4}
if(_5<0){_3+=_5;_5=-_5}
var _6=_2+_4,_7=_3+_5;if(this.rounding==0){this.bmMoveTo(_2,_3,_1);if(this.linePattern.toLowerCase()!=="solid"){this.$85x(_2,_3,_6,_3,_1);this.$85x(_6,_3,_6,_7,_1);this.$85x(_6,_7,_2,_7,_1);this.$85x(_2,_7,_2,_3,_1)}else{this.bmLineTo(_6,_3,_1);this.bmLineTo(_6,_7,_1);this.bmLineTo(_2,_7,_1);this.bmLineTo(_2,_3,_1)}}else{var _8=isc.DrawItem.$147e,r=(this.rounding*Math.min(_4,_5)/2),_10=r*(1-_8);this.bmMoveTo(_2+r,_3,_1);this.bmLineTo(_6-r,_3,_1);this.bmBezierCurveTo(_6-_10,_3,_6,_3+_10,_6,_3+r,_1);this.bmLineTo(_6,_7-r,_1);this.bmBezierCurveTo(_6,_7-_10,_6-_10,_7,_6-r,_7,_1);this.bmLineTo(_2+r,_7,_1);this.bmBezierCurveTo(_2+_10,_7,_2,_7-_10,_2,_7-r,_1);this.bmLineTo(_2,_3+r,_1);this.bmBezierCurveTo(_2,_3+_10,_2+_10,_3,_2+r,_3,_1)}
_1.closePath()},isc.A.setCenter=function isc_DrawRect_setCenter(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.setRect((_1==null?this.left:_1-isc.DrawItem.$1503(this.width/2)),(_2==null?this.top:_2-isc.DrawItem.$1503(this.height/2)),this.width,this.height)},isc.A.getCenter=function isc_DrawRect_getCenter(){return[this.left+isc.DrawItem.$1503(this.width/2),this.top+isc.DrawItem.$1503(this.height/2)]},isc.A.getBoundingBox=function isc_DrawRect_getBoundingBox(_1,_2){var _3=(_2||new Array(4));_3[0]=this.left;_3[1]=this.top;_3[2]=this.left+this.width;_3[3]=this.top+this.height;return _1!=true?_3:this.$147b(true,false,_3)},isc.A.$147c=function isc_DrawRect__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=this.rounding||0;if(_5==0){return this.Super("$147c",[_1,_2,_3,_4])}
var _6=this.getBoundingBox(_2,_4);this.$147b(false,_3,_6);var _7=_6[0],_8=_6[1],_9=_6[2],_10=_6[3],_11=_9-_7,_12=_10-_8;var _13=(_5*Math.min(_11,_12)/2),_14=(_7+_9)/2,_15=(_8+_10)/2;var _16=_1.m00,_17=_1.m01,_18=_1.m02,_19=_1.m10,_20=_1.m11,_21=_1.m12,_22=_13*isc.Math.$101k(_16,_17),_23=_13*isc.Math.$101k(_19,_20),_24=(_16*_14+_17*_15+_18),_25=(_19*_14+_20*_15+_21);var _26=_11/2,_27=_12/2,_28=(_26-_13),_29=(_27-_13),_30=Math.abs(_16*_26+_17*-_29),_31=Math.abs(_19*_26+_20*-_29),_32=Math.abs(_16*_28+_17*-_27),_33=Math.abs(_19*_28+_20*-_27),_34=Math.abs(_16*-_28+_17*-_27),_35=Math.abs(_19*-_28+_20*-_27),_36=Math.abs(_16*-_26+_17*-_29),_37=Math.abs(_19*-_26+_20*-_29),_38=_24-Math.max(_30,_32,_34,_36),_39=2*_24-_38,_40=_25-Math.max(_31,_33,_33,_37),_41=2*_25-_40;var _42=Math.abs(_16*_28+_17*-_29),_43=Math.abs(_19*_28+_20*-_29),_44=Math.abs(_16*_28+_17*_29),_45=Math.abs(_19*_28+_20*_29),_46=_24-(_22+Math.max(_42,_44)),_47=2*_24-_46,_48=_25-(_23+Math.max(_43,_45)),_49=2*_25-_48;_6[0]=Math.min(_38,_46);_6[1]=Math.min(_40,_48);_6[2]=Math.max(_39,_47);_6[3]=Math.max(_41,_49);return _6},isc.A.setLeft=function isc_DrawRect_setLeft(_1){this.setRect(_1,this.top,this.width,this.height)},isc.A.setTop=function isc_DrawRect_setTop(_1){this.setRect(this.left,_1,this.width,this.height)},isc.A.setWidth=function isc_DrawRect_setWidth(_1){this.setRect(this.left,this.top,_1,this.height)},isc.A.setHeight=function isc_DrawRect_setHeight(_1){this.setRect(this.left,this.top,this.width,_1)},isc.A.setRect=function isc_DrawRect_setRect(_1,_2,_3,_4,_5,_6){if(_1==null)_1=this.left;if(_2==null)_2=this.top;if(_3==null)_3=this.width;if(_4==null)_4=this.height;if(_5==null||_6==null){var _7=this.$147l();_5=_7.cx;_6=_7.cy}
this.left=_1;this.top=_2;this.width=_3;this.height=_4;var _8=this.$147l();this.$147x(_5,_6,_8.cx,_8.cy);if(this.drawingVML){var _9=this.$154s;if(_5!=_8.cx||_6!=_8.cy){delete this.$1348;_9.setProperty("transform",this.$1339())}
_9.setProperty("left",_1).setProperty("top",_2).setProperty("width",_3).setProperty("height",_4).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"x",_1);this.$44z.setAttributeNS(null,"y",_2);this.$44z.setAttributeNS(null,"width",_3);this.$44z.setAttributeNS(null,"height",_4)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$147w=function isc_DrawRect__updateLocalTransform(_1,_2,_3,_4,_5){if(!this.resizeViaLocalTransformOnly){var _6=isc.DrawItem.$147j(_1,_2,_3,_4.left,_4.top,_4.width,_4.height,(this.$125h()?(this.lineWidth/2):0));if(_6.success){this.Super("$147w",[_1,_2,_3,_4,false]);this.setRect(_6.left,_6.top,_6.width,_6.height,_2,_3);return}}
this.Super("$147w",[_1,_2,_3,_4,_5])},isc.A.$147m=function isc_DrawRect__saveShape(){return{left:this.left,top:this.top,width:this.width,height:this.height,rounding:this.rounding}},isc.A.setRounding=function isc_DrawRect_setRounding(_1){this.rounding=_1;if(this.drawingVML){this.$154s.setProperty("arcsize",_1/2).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"rx",(this.rounding?(this.rounding*Math.min(Math.abs(this.width),Math.abs(this.height))/2):null))}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}});isc.B._maxIndex=isc.C+15;isc.DrawRect.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawOval","DrawItem");isc.A=isc.DrawOval.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.left=0;isc.A.top=0;isc.A.width=100;isc.A.height=100;isc.A.svgElementName="ellipse";isc.A.$154x=new isc.VMLRenderer.shapeConfig();isc.B.push(isc.A.init=function isc_DrawOval_init(){if(!this.radius)this.$63t();else this.$78s();this.Super("init")},isc.A.$78s=function isc_DrawOval__deriveRectFromRadius(){if(this.rx==null)this.rx=this.radius;if(this.ry==null)this.ry=this.radius;this.width=this.rx*2;this.height=this.ry*2;if(this.centerPoint!=null){this.left=this.centerPoint[0]-this.width/2;this.top=this.centerPoint[1]-this.height/2}else{this.centerPoint=new Array(2);this.centerPoint[0]=this.left+this.width/2;this.centerPoint[1]=this.top+this.height/2}},isc.A.$63t=function isc_DrawOval__deriveCenterPointFromRect(){this.centerPoint=new Array(2);var _1=(this.width/2)<<0,_2=(this.height/2)<<0;this.centerPoint[0]=this.left+_1;this.centerPoint[1]=this.top+_2;this.rx=_1;this.ry=_2},isc.A.$154t=function isc_DrawOval__renderVML(_1,_2,_3){var _4=this.$154x;isc.VMLRenderer.drawItemToShapeConfig(this,_4);this.$154s=_1.oval(_2,_4)},isc.A.getAttributesSVG=function isc_DrawOval_getAttributesSVG(){return"cx='"+this.centerPoint[0]+"' cy='"+this.centerPoint[1]+"' rx='"+this.rx+"' ry='"+this.ry+"'"},isc.A.getBoundingBox=function isc_DrawOval_getBoundingBox(_1,_2){var _3=(_2||new Array(4));_3[0]=this.left;_3[1]=this.top;_3[2]=this.left+this.width;_3[3]=this.top+this.height;return _1!=true?_3:this.$147b(true,false,_3)},isc.A.$147c=function isc_DrawOval__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=this.getBoundingBox(_2,_4);this.$147b(false,_3,_5);var _6=_5[0],_7=_5[1],_8=_5[2],_9=_5[3];var _10=(_6+_8)/2,_11=(_7+_9)/2,_12=Math.abs(_8-_6)/2,_13=Math.abs(_9-_7)/2;var _14=_1.m00,_15=_1.m01,_16=_1.m02,_17=_1.m10,_18=_1.m11,_19=_1.m12,_20=isc.Math.$101k(_12*_14,_13*_15),_21=isc.Math.$101k(_12*_17,_13*_18),_22=(_14*_10+_15*_11+_16),_23=(_17*_10+_18*_11+_19);_5[0]=_22-_20;_5[1]=_23-_21;_5[2]=_22+_20;_5[3]=_23+_21;return _5},isc.A.drawBitmapPath=function isc_DrawOval_drawBitmapPath(_1){var _2=isc.DrawItem.$147e;var _3=this.rx;var _4=this.ry;var _5=this.centerPoint[0];var _6=this.centerPoint[1];_1.moveTo(_5,_6-_4);_1.bezierCurveTo(_5+(_2*_3),_6-_4,_5+_3,_6-(_2*_4),_5+_3,_6);_1.bezierCurveTo(_5+_3,_6+(_2*_4),_5+(_2*_3),_6+_4,_5,_6+_4);_1.bezierCurveTo(_5-(_2*_3),_6+_4,_5-_3,_6+(_2*_4),_5-_3,_6);_1.bezierCurveTo(_5-_3,_6-(_2*_4),_5-(_2*_3),_6-_4,_5,_6-_4);_1.closePath()},isc.A.setLeft=function isc_DrawOval_setLeft(_1){this.setRect(_1,this.top,this.width,this.height)},isc.A.setTop=function isc_DrawOval_setTop(_1){this.setRect(this.left,_1,this.width,this.height)},isc.A.setWidth=function isc_DrawOval_setWidth(_1){this.setRect(this.left,this.top,_1,this.height)},isc.A.setHeight=function isc_DrawOval_setHeight(_1){this.setRect(this.left,this.top,this.width,_1)},isc.A.setRect=function isc_DrawOval_setRect(_1,_2,_3,_4,_5,_6){if(_1==null)_1=this.left;if(_2==null)_2=this.top;if(_3==null)_3=this.width;if(_4==null)_4=this.height;var _7=(_3/2)<<0,_8=(_4/2)<<0,_9=_1+_7,_10=_2+_8;if(_5==null||_6==null){var _11=this.$147l();_5=_11.cx;_6=_11.cy}
this.left=_1;this.top=_2;this.width=_3;this.height=_4;this.centerPoint[0]=_9;this.centerPoint[1]=_10;this.rx=_7;this.ry=_8;var _12=this.$147l();this.$147x(_5,_6,_12.cx,_12.cy);if(this.drawingVML){var _13=this.$154s;if(_5!=_12.cx||_6!=_12.cy){delete this.$1348;_13.setProperty("transform",this.$1339())}
_13.setProperty("left",_1).setProperty("top",_2).setProperty("width",_3).setProperty("height",_4).flush()}else if(this.drawingSVG){var _14=this.$44z;_14.setAttributeNS(null,"rx",_7);_14.setAttributeNS(null,"ry",_8);_14.setAttributeNS(null,"cx",_9);_14.setAttributeNS(null,"cy",_10)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$147w=function isc_DrawOval__updateLocalTransform(_1,_2,_3,_4,_5){if(!this.resizeViaLocalTransformOnly){var _6=isc.DrawItem.$147j(_1,_2,_3,_4.left,_4.top,_4.width,_4.height,(this.$125h()?(this.lineWidth/2):0));if(_6.success){this.Super("$147w",[_1,_2,_3,_4,false]);this.setRect(_6.left,_6.top,_6.width,_6.height,_2,_3);return}}
this.Super("$147w",[_1,_2,_3,_4,_5])},isc.A.$147m=function isc_DrawOval__saveShape(){return{left:this.left,top:this.top,width:this.width,height:this.height}},isc.A.getRadiusX=function isc_DrawOval_getRadiusX(){return this.rx},isc.A.getRadiusY=function isc_DrawOval_getRadiusY(){return this.ry},isc.A.setRadii=function isc_DrawOval_setRadii(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.setOval(this.centerPoint[0],this.centerPoint[1],_1,_2)},isc.A.setRadius=function isc_DrawOval_setRadius(_1){this.setRadii(_1,_1)},isc.A.setOval=function isc_DrawOval_setOval(_1,_2,_3,_4){if(_1==null)_1=this.centerPoint[0];if(_2==null)_2=this.centerPoint[1];if(_3==null)_3=this.rx;if(_4==null)_4=this.ry;this.setRect(_1-_3,_2-_4,2*_3,2*_4)},isc.A.getCenter=function isc_DrawOval_getCenter(){return this.centerPoint.duplicate()});isc.B._maxIndex=isc.C+21;isc.DrawOval.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawSector","DrawItem");isc.A=isc.DrawSector;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.getArcMidpoint=function isc_c_DrawSector_getArcMidpoint(_1,_2,_3,_4,_5){var _6=(_3+_4)/2;return[_1+_5*isc.Math.cosdeg(_6),_2+_5*isc.Math.sindeg(_6)]});isc.B._maxIndex=isc.C+1;isc.A=isc.DrawSector.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.centerPoint=[0,0];isc.A.startAngle=0.0;isc.A.endAngle=20.0;isc.A.radius=100;isc.A.$150e=false;isc.A.svgElementName="path";isc.A.showResizeKnobs=null;isc.A.hideResizeKnobs=null;isc.A.$154y=new isc.VMLRenderer.shapeConfig();isc.B.push(isc.A.init=function isc_DrawSector_init(){this.Super("init");this.centerPoint=this.centerPoint.duplicate()},isc.A.getBoundingBox=function isc_DrawSector_getBoundingBox(_1,_2){var _3=this.$125w,_4=this.centerPoint,_5=this.radius,_6=this.startAngle,_7=this.endAngle,_8=(_7-_6),_9=(_8>=360||(_8!=0&&Math.round(_8)%360==0)),_10=0,_11=0,_12=0,_13=0;if(_9){_10=_12=-1;_11=_13=1}else{if(!(0<=_6&&_6<360)){_6=(360+(_6%360))%360}
if(!(0<=_7&&_7<360)){_7=(360+(_7%360))%360}
var _14=(_6>_7);if(_14?(_6<270||270<_7):(_6<270&&270<_7)){_10=-1}else{_10=Math.min(0,Math.sin(_3*_6),Math.sin(_3*_7))}
if(_14?(_6<90||90<_7):(_6<90&&90<_7)){_11=1}else{_11=Math.max(0,Math.sin(_3*_6),Math.sin(_3*_7))}
if(_14?(_6<180||180<_7):(_6<180&&180<_7)){_12=-1}else{_12=Math.min(0,Math.cos(_3*_6),Math.cos(_3*_7))}
if(_14){_13=1}else{_13=Math.max(0,Math.cos(_3*_6),Math.cos(_3*_7))}}
var _15=(_2||new Array(4));_15[0]=_4[0]+_5*_12;_15[1]=_4[1]+_5*_10;_15[2]=_4[0]+_5*_13;_15[3]=_4[1]+_5*_11;return _1!=true?_15:this.$147b(true,false,_15)},isc.A.$147c=function isc_DrawSector__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=this.$125w,_6=this.centerPoint,_7=this.radius,_8=this.startAngle,_9=this.endAngle,_10=(_9-_8),_11=(_10>=360||(_10!=0&&Math.round(_10)%360==0));var _12=_6[0],_13=_6[1];var _14=_1.m00,_15=_1.m01,_16=_1.m02,_17=_1.m10,_18=_1.m11,_19=_1.m12,_20=isc.Math.$101k(_14,_15),_21=_7*_20,_22=isc.Math.$101k(_17,_18),_23=_7*_22,_24=(_14*_12+_15*_13+_16),_25=(_17*_12+_18*_13+_19),_26=_24-_21,_27=_25-_23,_28=_24+_21,_29=_25+_23;var _30=_4||new Array(4);if(_11){_30[0]=_26;_30[1]=_27;_30[2]=_28;_30[3]=_29}else{var _31=_12+_7*Math.cos(_8*_5),_32=_13+_7*Math.sin(_8*_5),_33=_12+_7*Math.cos(_9*_5),_34=_13+_7*Math.sin(_9*_5),_35=_14*_31+_15*_32+_16,_36=_17*_31+_18*_32+_19,_37=_14*_33+_15*_34+_16,_38=_17*_33+_18*_34+_19,_39=Math.atan2(_36-_25,_35-_24),_40=Math.atan2(_38-_25,_37-_24),_41=Math.min(_35,_37,_24),_42=Math.min(_36,_38,_25),_43=Math.max(_35,_37,_24),_44=Math.max(_36,_38,_25);var _45=_7*(_14*_17+_15*_18),_46=(_20<=0?0:(_45/_20)),_47=(_22<=0?0:(_45/_22)),_48=(_25-_46),_49=(_24-_47),_50=(_25+_46),_51=(_24+_47),_52=Math.atan2(_48-_25,_26-_24),_53=Math.atan2(_27-_25,_49-_24),_54=Math.atan2(_50-_25,_28-_24),_55=Math.atan2(_29-_25,_51-_24);var _56=(_39>_40);if(_56?(_39<_52||_52<_40):(_39<_52&&_52<_40))
{_30[0]=_26}else{_30[0]=_41}
if(_56?(_39<_53||_53<_40):(_39<_53&&_53<_40))
{_30[1]=_27}else{_30[1]=_42}
if(_56?(_39<_54||_54<_40):(_39<_54&&_54<_40))
{_30[2]=_28}else{_30[2]=_43}
if(_56?(_39<_55||_55<_40):(_39<_55&&_55<_40))
{_30[3]=_29}else{_30[3]=_44}}
var _57=(_2&&this.$125h()?(this.lineWidth/2):0),_58=(_3?this.hitTolerance:0),_59=_57+_58,_60=_20*_59,_61=_22*_59;_30[0]-=_60;_30[1]-=_61;_30[2]+=_60;_30[3]+=_61;return _30},isc.A.$830=function isc_DrawSector__normalizeLinearGradient(_1){var _2=this.centerPoint,_3=this.radius,_4=[_2[0],_2[1],_2[0]+_3,_2[1]+_3];return isc.DrawItem.$830(_1,_4)},isc.A.$831=function isc_DrawSector__normalizeRadialGradient(_1){var _2=this.getCenter(),_3=this.radius,_4=[_2[0],_2[1],_2[0]+_3,_2[1]+_3];return isc.DrawItem.$831(_1,_4,_2)},isc.A.getCenter=function isc_DrawSector_getCenter(){return this.centerPoint.duplicate()},isc.A.getArcMidpoint=function isc_DrawSector_getArcMidpoint(){return isc.DrawSector.getArcMidpoint(this.centerPoint[0],this.centerPoint[1],this.startAngle,this.endAngle,this.radius)},isc.A.$154t=function isc_DrawSector__renderVML(_1,_2,_3){var _4=this.$154y;isc.VMLRenderer.drawItemToShapeConfig(this,_4);this.$154s=_1.shape(_2,_4)},isc.A.$126a=function isc_DrawSector__getPathVML(_1){var _2=this.centerPoint,_3=_2[0],_4=_2[1],r=this.radius,_6=this.startAngle,_7=(this.endAngle-_6),_8=(_7>=360||(_7!=0&&Math.round(_7)%360==0));if(_8){_7=360}else{_7=(360+(_7%360))%360;if(_7<0){_6=-_6;_7=360-_7}}
if(_8&&this.$150e){_1.al(_3,_4,r,r,0,360)}else{_1.m(_3,_4);_1.ae(_3,_4,r,r,-_6,-_7);_1.x()}},isc.A.getAttributesSVG=function isc_DrawSector_getAttributesSVG(){return"d='"+this.getPathSVG()+"'"},isc.A.getPathSVG=function isc_DrawSector_getPathSVG(){var _1=this.startAngle*this.$125w,_2=this.endAngle*this.$125w,_3=(this.endAngle-this.startAngle),_4=this.radius,_5=this.centerPoint[0],_6=this.centerPoint[1],_7=((360+(_3%360))%360>180?"1":"0"),_8=(_3>=360||(_3!=0&&Math.round(_3)%360==0)),c=Math.cos(_1),s=Math.sin(_1),_11=_5+_4*c,_12=_6+_4*s;if(_8){var _13=_5-_4*c,_14=_6-_4*s,_15=isc.StringBuffer.create();if(this.$150e){_15.append("M",_11," ",_12)}else{_15.append("M",_5," ",_6," L",_11," ",_12)}
_15.append(" A",_4," ",_4," 0 ",_7," 1 ",_13," ",_14," A",_4," ",_4," 0 ",_7," 1 ",_11," ",_12," Z");return _15.release(false)}else{var _13=_5+_4*Math.cos(_2),_14=_6+_4*Math.sin(_2);return isc.SB.concat("M",_5," ",_6," L",_11," ",_12," A",_4," ",_4," 0 ",_7," 1 ",_13," ",_14," Z")}},isc.A.drawBitmapPath=function isc_DrawSector_drawBitmapPath(_1){var _2=this.startAngle*this.$125w,_3=this.endAngle*this.$125w,_4=this.radius,x=this.centerPoint[0],y=this.centerPoint[1];var _7=this.$150e;if(_7){var _8=(this.endAngle-this.startAngle);_7=(_8>=360||(_8!=0&&Math.round(_8)%360==0))}
if(_7){this.bmMoveTo(x+_4,y,_1);this.bmArc(x,y,_4,0,Math.PI,_1);this.bmArc(x,y,_4,Math.PI,2*Math.PI,_1)}else{this.bmMoveTo(x,y,_1);this.bmArc(x,y,_4,_2,_3,_1)}
_1.closePath()});isc.B._maxIndex=isc.C+12;isc.DrawSector.markUnsupportedMethods("$class does not support knobs.",["showKnobs","setMoveKnobOffset"]);isc.DrawSector.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawLabel","DrawItem");isc.A=isc.DrawLabel;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.suppressArbitraryRotationWarning=false;isc.B.push(isc.A.$140f=function isc_c_DrawLabel__checkRotation(_1){if(!this.suppressArbitraryRotationWarning&&_1){_1=((_1%360)+360)%360;if(_1!=0&&_1!=90){this.logWarn("Arbitrary rotation is not supported in IE8 and earlier. Only rotation by 0 or 90 degrees is supported.");this.suppressArbitraryRotationWarning=true}}});isc.B._maxIndex=isc.C+1;isc.A=isc.DrawLabel.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.left=0;isc.A.top=0;isc.A.alignment='start';isc.A.fontFamily="Tahoma";isc.A.fontSize=18;isc.A.fontWeight="bold";isc.A.fontStyle="normal";isc.A.isPointInPath=isc.DrawItem.getInstanceProperty("isInBounds");isc.A.showResizeKnobs=null;isc.A.hideResizeKnobs=null;isc.A.$95="NOBR";isc.A.$142k=/\r\n|\r|\n/g;isc.A.$154z={width:0,height:0};isc.A.$44l=isc.Class.NO_OP;isc.B.push(isc.A.init=function isc_DrawLabel_init(){this.$142l();this.$142m();this.exemptFromGlobalTransform=false;this.Super("init",arguments);if(this.suppressArbitraryRotationWarning!=true)isc.DrawLabel.$140f(this.rotation)},isc.A.setCursor=function isc_DrawLabel_setCursor(_1){this.Super("setCursor",arguments);if(this.$45c!=null){this.$45c.setCursor(_1)}},isc.A.setCanDrag=function isc_DrawLabel_setCanDrag(_1){this.Super("setCanDrag",arguments);if(this.$45c!=null){this.$45c.setProperty("canDragReposition",_1)}},isc.A.setDragRepositionCursor=function isc_DrawLabel_setDragRepositionCursor(_1){this.Super("setDragRepositionCursor",arguments);if(this.$45c!=null){this.$45c.setProperty("dragRepositionCursor",_1)}},isc.A.$44v=function isc_DrawLabel__getElementVML(_1,_2,_3){if(this.synchTextMove){_1.append(this.drawPane.startTagVML("RECT")," ID='",_2,"' STYLE='position:absolute;left:",this.left*this.drawPane.$1259,"px; top:",this.top*this.drawPane.$1259,(this.alignment?"px; text-align:"+(this.alignment=="start"?"left":"right"):"px"),";'>",this.drawPane.startTagVML("TEXTBOX")," INSET='0px, 0px, 0px, 0px' STYLE='overflow:visible","; font-family:",this.fontFamily,"; font-size:",this.fontSize*this.drawPane.zoomLevel,"px; font-weight:",this.fontWeight,"; font-style:",this.fontStyle,";'><NOBR style='color:",this.lineColor,"'>",this.contents==null?null:String(this.contents).asHTML(),"</NOBR>",this.drawPane.endTagVML("TEXTBOX"),this.drawPane.endTagVML("RECT"))}else if(_3==null){var _4=this.drawPane.drawing2screen([this.left,this.top,0,0]),_5=_4[0],_6=_4[1],_7=this.drawPane.measureLabel(this.contents,this),_8=(((this.rotation==null?0:this.rotation)%360)+360)%360,_9=_8!=0;if(_9){if(isc.Browser.isIE&&isc.Browser.version>=7&&isc.Browser.isStrict){if(_8>180)_5+=_7.height}else{if(_8<=180)_5-=_7.height}
if(_8>180){_6-=_7.width}}
_1.append("<DIV ID='",_2,"' STYLE='position:absolute; overflow:visible; width:1px; height:1px","; left:",_5,"px; top:",_6,"px",(_9?";writing-mode: tb-rl":""),"; font-family:",this.fontFamily,"; font-size:",(this.fontSize*this.drawPane.zoomLevel),"px; font-weight:",this.fontWeight,"; font-style:",this.fontStyle,";'><NOBR style='color:",this.lineColor,"'>",this.contents==null?null:String(this.contents).asHTML(),"</NOBR></DIV>")}else{_3.drawLabelsAccumulator.add(this)}},isc.A.$125u=function isc_DrawLabel__getVMLTextHandle(){var _1=this.$44j;if(_1!=null)return _1;var _2=this.$125f();if(_2==null)return null;if(this.synchTextMove){_1=_2.firstChild.style}else{_1=_2.style}
return(this.$44j=_1)},isc.A.getSvgString=function isc_DrawLabel_getSvgString(_1){_1=_1||isc.SVGStringConversionContext.create();var _2=this.left,_3=this.top,_4=this.rotation,_5,y=(_1.printForExport!==false?_3+this.fontSize:_3),_7=isc.SB.create();_7.append("<text id='isc_DrawItem_",this.drawItemID,"' x='",_2,"' y='",y,"' dominant-baseline='text-before-edge","' font-family='",this.fontFamily,"' font-size='",this.fontSize,"px","' font-weight='",this.fontWeight,"' font-style='",this.fontStyle,"' fill='",this.lineColor);if(_4&&(_5=this.getCenter())&&_5.length===2){_7.append("' transform='rotate(",_4," ",_2," ",_3,")")}
_7.append("'");var _8=this.getAttributesSVG();if(_8)_7.append(" ",_8);if(this.alignment=="start"){_7.append(" text-anchor='start'")}else if(this.alignment=="center"){_7.append(" text-anchor='middle'")}else if(this.alignment=="end"){_7.append(" text-anchor='end'")}
if(this.contents!=null){_7.append(">");var _9=String(this.contents);if(this.$142n!=null){var _10=this.$142o;for(var i=0,j=1,_13=this.$142n.length;i<_13;++i){var _14=this.$142n[i];if(_14==""){++j}else{_7.append("<tspan x='",_2,"' dy='",_10*j,"'>",isc.makeXMLSafe(_14),"</tspan>");j=1}}}else{_7.append(isc.makeXMLSafe(_9))}
_7.append("</text>")}else _7.append("/>");return _7.release(false)},isc.A.moveBy=function isc_DrawLabel_moveBy(_1,_2){if(this.drawingVML){this.top+=_2;this.left+=_1;var _3=this.$125f().style;if(this.synchTextMove){_3.left=(this.left*this.drawPane.$1259)+isc.px;_3.top=(this.top*this.drawPane.$1259)+isc.px}else{_3.left=this.left+isc.px;_3.top=this.top+isc.px}
if(_1!=0||_2!=0){this.$105u(_1,_2)}}else{return this.Super("moveBy",arguments)}},isc.A.moveTo=function isc_DrawLabel_moveTo(_1,_2){if(this.drawingVML){this.moveBy(_1-this.left,_2-this.top)}else{return this.Super("moveTo",arguments)}},isc.A.$147w=function isc_DrawLabel__updateLocalTransform(_1,_2,_3,_4,_5){if(this.resizeViaLocalTransformOnly){this.Super("$147w",[_1,_2,_3,_4,_5]);return}
var _6=1e-9,_7=this.$1339(),_8=_7.getDeterminant();if(Math.abs(_8)>_6){var _9=(this.left==Math.floor(this.left)&&this.top==Math.floor(this.top)),_10=_1.m02-_7.m02,_11=_1.m12-_7.m12,_12=(_10*_7.m11-_11*_7.m01)/_8,_13=(-_10*_7.m10+_11*_7.m00)/_8,_14=(_9?Math.round(_12):_12),_15=(_9?Math.round(_13):_13);if(_9&&(_12!=_14||_13!=_15)){_1.m02-=_14*_7.m00+_15*_7.m01;_1.m12-=_14*_7.m10+_15*_7.m11;this.Super("$147w",[_1,_2,_3,_4,false])}
this.left+=_14;this.top+=_15;var _16=this.$147l();this.$147x(_2,_3,_16.cx,_16.cy);if(this.drawingVML){var _17=this.$125f().style;if(this.synchTextMove){_17.left=(this.left*this.drawPane.$1259)+isc.px;_17.top=(this.top*this.drawPane.$1259)+isc.px}else{_17.left=this.left+isc.px;_17.top=this.top+isc.px}}else if(this.drawingSVG){if(this.$44z){this.$44z.setAttributeNS(null,"x",this.left);this.$44z.setAttributeNS(null,"y",this.top)}}else if(this.drawingBitmap){if(this.$129x()){delete this.$1348;if(this.$45c!=null){isc.Element.$136r(this.$45c,this.$45c.$136u())}}else{this.drawPane.redrawBitmap()}}
if(_5){this.$143s()}}else{this.Super("$147w",[_1,_2,_3,_4,_5])}},isc.A.rotateBy=function isc_DrawLabel_rotateBy(_1){isc.DrawLabel.$140f(+this.rotation+_1);this.Super("rotateBy",arguments)},isc.A.getCenter=function isc_DrawLabel_getCenter(){var m=this.$1540(true,true),_2=m.width,_3=m.height;return[this.left+isc.DrawItem.$1503(_2/2),this.top+isc.DrawItem.$1503(_3/2)]},isc.A.getBoundingBox=function isc_DrawLabel_getBoundingBox(_1,_2){var m=this.$1540(true,true),_4=m.width,_5=m.height,_6=(_2||new Array(4));_6[0]=this.left;_6[1]=this.top;_6[2]=this.left+_4;_6[3]=this.top+_5;return _6},isc.A.$129y=function isc_DrawLabel__getHtmlTextContents(){var _1;if(this.contents!=null){_1=String(this.contents).replace(isc.DrawPane.$156w,"\u0020").asHTML()}
return isc.SB.concat("<span style='font-family:",this.fontFamily,";font-weight:",this.fontWeight,";font-size:",this.fontSize,"px;font-style:",this.fontStyle,";white-space:pre'>",_1,"</span>")},isc.A.makeHTMLText=function isc_DrawLabel_makeHTMLText(){var _1=this.$45c=isc.HTMLFlow.create({creator:this,left:0,top:0,width:1,height:1,cursor:this.cursor,canDragReposition:this.canDrag,dragAppearance:"target",dragRepositionCursor:this.dragRepositionCursor,contents:this.$129y(),canSelectText:false,textColor:this.lineColor,autoDraw:false,$136u:function(){var _2=this.creator,_3=_2.drawPane;var _4=" translate("+_2.left+"px, "+_2.top+"px)";var t=_2.$1339();var _6=(_3==null?3:_3.precision);_4=" matrix("+t.m00.toFixed(_6)+", "+t.m10.toFixed(_6)+", "+t.m01.toFixed(_6)+", "+t.m11.toFixed(_6)+", "+t.m02.toFixed(_6)+", "+t.m12.toFixed(_6)+")"+_4;t=_3.$1338();_4=" matrix("+t.m00.toFixed(_6)+", "+t.m10.toFixed(_6)+", "+t.m01.toFixed(_6)+", "+t.m11.toFixed(_6)+", "+t.m02.toFixed(_6)+", "+t.m12.toFixed(_6)+")"+_4;_4="translate("+_3.getLeftPadding()+"px, "+_3.getTopPadding()+"px)"+_4;return _4},getTransformCSS:function(){var _4=this.$136u();return(";"+isc.Element.$1387+":"+_4+";"+isc.Element.$1388+":0 0;")},dragRepositionStop:function(){var _2=this.creator,_3=_2.drawPane;var t=(_3.$147h().translate(this.getLeft(),this.getTop()).rightMultiply(_3.$1338()));_2.moveBy(t.m02,t.m12);this.moveTo(0,0)}});this.drawPane.addChild(_1)},isc.A.$129x=function isc_DrawLabel__useHTML(){return this.drawingBitmap&&(this.useHTML!=null?this.useHTML:isc.Browser.isIPhone)},isc.A.drawBitmap=function isc_DrawLabel_drawBitmap(_1){if(this.$129x()){if(this.$45c==null){this.makeHTMLText()}else{isc.Element.$136r(this.$45c,this.$45c.$136u())}}else{this.Super("drawBitmap",arguments)}},isc.A.erase=function isc_DrawLabel_erase(){if(this.$45c!=null)this.$45c.destroy();this.Super("erase",arguments)},isc.A.destroy=function isc_DrawLabel_destroy(){if(this.$45c!=null)this.$45c.destroy();this.Super("destroy",arguments)},isc.A.getFontString=function isc_DrawLabel_getFontString(){return(this.fontStyle!="normal"?this.fontStyle+" ":"")+(this.fontWeight!="normal"?this.fontWeight+" ":"")+this.fontSize+"px "+this.fontFamily},isc.A.$104w=function isc_DrawLabel__calculateAlignMiddleCorrection(){if(!(isc.Browser.isFirefox&&isc.Browser.hasCANVAS&&this.$104x)){return 0}else{var _1=this.drawPane.$104y;if(_1==null){_1=this.drawPane.$104y={}}
var _2=this.getFontString();if(_1.hasOwnProperty(_2)){return _1[_2]}
var _3=isc.DrawPane.$104v();_3.setContents("<CANVAS></CANVAS>");_3.redraw();var _4=_3.getHandle().getElementsByTagName("canvas")[0];var _5=_4.getContext("2d");_5.font=_2;var _6="The quick, brown fox",_7=_5.measureText(_6),_8=_7.width,_9=_7.height||this.fontSize;var _10=_5.canvas.width=Math.round(_8);var _11=_5.canvas.height=Math.round(3*_9);_5.textBaseline="middle";_5.font=_2;_5.fillText(_6,_9,0);var _12=_5.getImageData(0,0,_10,_11),_13=_12.data;var _14=0;for(var i=_13.length-4;i>0;i-=4){if(_13[i+3]){_14=Math.floor(i/(4*_10))-_9;break}}
_5.clearRect(0,0,_10,_11);_5.textBaseline="hanging";_5.font=_2;_5.fillText(_6,_9,0);_12=_5.getImageData(0,0,_10,_11);_13=_12.data;var _16=0;for(var i=_13.length-4;i>0;i-=4){if(_13[i+3]){_16=Math.floor(i/(4*_10))-_9;break}};var _17=0;for(var i=0,_18=_13.length;i<_18;i+=4){if(_13[i+3]){_17=Math.floor(i/(4*_10))-_9}}
var _19=_16-_17;return(_1[_2]=-Math.round((_19-(_16-_14))/2))}},isc.A.drawBitmapPath=function isc_DrawLabel_drawBitmapPath(_1){_1.textBaseline="top";_1.font=this.getFontString();_1.fillStyle=this.lineColor;_1.textAlign=this.alignment;var _2=this.left,_3=this.top+this.$104w();if(this.alignment=="center"){_2+=this.getTextWidth()/2}else if(this.alignment=="end"){_2+=this.getTextWidth()}
if(this.$142n==null){this.bmFillText(this.contents,_2,_3,_1)}else{var _4=this.$142o;for(var i=this.$142n.length;i--;){this.bmFillText(this.$142n[i],_2,_3+i*_4,_1)}}},isc.A.$142m=function isc_DrawLabel__setLineHeight(){if(!this.drawingVML&&(this.drawingBitmap||this.drawingSVG||(this.drawPane&&(this.drawPane.drawingType=="bitmap"||this.drawPane.drawingType=="svg")))&&!this.$129x())
{this.$142o=(this.drawPane.measureLabel("Xy\nXy",this).height-
this.drawPane.measureLabel("Xy",this).height)}},isc.A.setLineColor=function isc_DrawLabel_setLineColor(_1){this.lineColor=_1;if(this.drawingVML){var _2=this.$125f().firstChild;while(_2!=null&&_2.tagName!=this.$95){_2=_2.firstChild}
if(_2!=null)_2.style.color=_1}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"fill",_1)}else if(this.drawingBitmap){if(this.$129x()){if(this.$45c!=null){this.$45c.setTextColor(_1)}}else{this.drawPane.redrawBitmap()}}},isc.A.setContents=function isc_DrawLabel_setContents(_1){this.contents=_1;this.$142l();if(this.drawingVML){var _2=this.$125f().firstChild;while(_2!=null&&_2.tagName!=this.$95){_2=_2.firstChild}
if(_2!=null)_2.innerText=_1}else if(this.drawingSVG){this.$44z.textContent=_1}else if(this.drawingBitmap){if(this.$129x()){if(this.$45c!=null){this.$45c.setContents(this.$129y())}}else{this.drawPane.redrawBitmap()}}
this.$143s()},isc.A.$142l=function isc_DrawLabel__setContentLines(){delete this.$142n;var _1=this.contents;if(!isc.isA.String(_1)){return}
if(!this.drawingVML&&(this.drawingBitmap||this.drawingSVG||(this.drawPane&&(this.drawPane.drawingType=="bitmap"||this.drawPane.drawingType=="svg")))&&!this.$129x()&&_1.search(this.$142k)!=-1)
{this.$142n=_1.split(this.$142k)}},isc.A.$1540=function isc_DrawLabel__getTextMeasurements(_1,_2){if(!(this.drawingVML||this.drawingSVG||this.drawingBitmap)){this.drawHandle()}
var _3=this.$154z;if(this.drawingVML){var _4=this.$125f();if(this.synchTextMove){var _5=_4.firstChild;if(_1)_3.width=_5.scrollWidth;if(_2)_3.height=_5.scrollHeight}else{if(_1)_3.width=_4.scrollWidth;if(_2)_3.height=_4.scrollHeight}}else if(this.drawingSVG){if(this.$44z){if(_1&&!_2){_3.width=this.$44z.getComputedTextLength()}else{var _6=this.$44z.getBBox();if(_1)_3.width=_6.width;if(_2)_3.height=_6.height}}else{var m=this.drawPane.measureLabel(this.contents,this);if(_1)_3.width=m.width;if(_2)_3.height=m.height}}else if(this.drawingBitmap){if(this.$129x()){if(this.$45c==null)this.makeHTMLText();if(_1)_3.width=this.$45c.getScrollWidth();if(_2)_3.height=this.$45c.getScrollHeight()}else{var _8=this.drawPane.getBitmapContext(),_9=_8.font,_10=this.getFontString()||_9,_11=(_10!=_9);if(_11){_8.save();_8.font=_10}
var _12=this.$142n,_13=0,_14=0;if(_12==null){var m=_8.measureText(this.contents);_13=m.width;_14=m.height}else{var _15=this.$142o,_16=_12.length;if(_1){for(var i=0;i<_16;++i){var m=_8.measureText(_12[i]),_18=m.width,_19=m.height;if(i==0||_18>_13){_13=_18}}}
_14=_16*_15}
if(_11){_8.restore()}
_3.width=_13;_3.height=_14||this.fontSize}}
return _3},isc.A.getTextWidth=function isc_DrawLabel_getTextWidth(){return this.$1540(true,false).width},isc.A.getTextHeight=function isc_DrawLabel_getTextHeight(){return this.$1540(false,true).height},isc.A.setFontSize=function isc_DrawLabel_setFontSize(_1){if(_1!=null){this.fontSize=_1;this.$142m()}
if(this.drawingVML){this.$125u().fontSize=(_1*this.drawPane.zoomLevel)+"px"}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"font-size",_1+"px")}else if(this.drawingBitmap){if(this.$129x()){if(this.$45c!=null){this.$45c.setContents(this.$129y())}}else{this.drawPane.redrawBitmap()}}
this.$143s()});isc.B._maxIndex=isc.C+30;isc.DrawLabel.markUnsupportedMethods(null,["setLineWidth","setLineOpacity","setLinePattern","setLineCap","setFillColor","setFillGradient","setFillOpacity"]);isc.DrawLabel.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawImage","DrawItem");isc.A=isc.DrawImage.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.left=0;isc.A.top=0;isc.A.width=16;isc.A.height=16;isc.A.src="blank.png";isc.A.isPointInPath=isc.DrawItem.getInstanceProperty("isInBounds");isc.A.$1541=new isc.VMLRenderer.shapeConfig();isc.A.$44l=isc.Class.NO_OP;isc.B.push(isc.A.$1558=function isc_DrawImage__getUseMatrixFilter(){return(this.useMatrixFilter===true||(this.useMatrixFilter!==false&&(this.$1559=!isc.Canvas.neverUseFilters)))},isc.A.$156a=function isc_DrawImage__checkUseMatrixFilter(){if(!(this.useMatrixFilter===true||this.useMatrixFilter===false)){var _1=this.$1559;if(_1!=this.$1558()){this.$154s.setProperty("useMatrixFilter",!_1)}}},isc.A.getBoundingBox=function isc_DrawImage_getBoundingBox(_1,_2){var _3=(_2||new Array(4));_3[0]=this.left;_3[1]=this.top;_3[2]=this.left+this.width;_3[3]=this.top+this.height;return _3},isc.A.init=function isc_DrawImage_init(){this.exemptFromGlobalTransform=false;this.Super("init");this.initImage(this.src)},isc.A.initImage=function isc_DrawImage_initImage(_1){if(_1){_1=this.getSrcURL(_1);var _2=this.image;if(_2==null){_2=this.image=new Image();var _3=this;_2.onload=function(){if(_3.drawingBitmap){_3.drawPane.redrawBitmap()}}}
_2.src=_1}},isc.A.getSrcURL=function isc_DrawImage_getSrcURL(_1){var _2=isc.Canvas.getImgURL(_1);return _2},isc.A.$154t=function isc_DrawImage__renderVML(_1,_2,_3){var _4=this.$1541;isc.VMLRenderer.drawItemToShapeConfig(this,_4);_4.alt=this.title;_4.useMatrixFilter=this.$1558();this.$154s=_1.image(_2,_4)},isc.A.getSvgString=function isc_DrawImage_getSvgString(_1){var _2;var _3="<image id='isc_DrawItem_"+this.drawItemID;if(this.rotation&&(_2=this.getCenter())&&_2.length===2){_3+="' transform='rotate("+this.rotation+" "+_2[0]+" "+_2[1]+")"}
_3+="' x='"+this.left+"' y='"+this.top+"' width='"+this.width+"px' height='"+this.height+"px' "+(_1?_1.xlinkPrefix||isc.SVGStringConversionContext.$99a:isc.SVGStringConversionContext.$99a)+":href='"+this.getSrcURL(this.src)+"'";var _4=this.getAttributesSVG();if(_4)_3+=" "+_4;if(this.title){_3+="><title>"+isc.makeXMLSafe(this.title)+"</title></image>"}else _3+="/>";return _3},isc.A.drawBitmapPath=function isc_DrawImage_drawBitmapPath(_1){_1.drawImage(this.image,this.left,this.top,this.width,this.height)},isc.A.getCenter=function isc_DrawImage_getCenter(){return[this.left+isc.DrawItem.$1503(this.width/2),this.top+isc.DrawItem.$1503(this.height/2)]},isc.A.setSrc=function isc_DrawImage_setSrc(_1){this.initImage(_1);if(this.drawingVML){this.$154s.setProperty("src",this.src);this.$156a();this.$154s.flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(isc.$100f,"href",this.src)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.setLeft=function isc_DrawImage_setLeft(_1){this.setRect(_1,this.top,this.width,this.height)},isc.A.setTop=function isc_DrawImage_setTop(_1){this.setRect(this.left,_1,this.width,this.height)},isc.A.setWidth=function isc_DrawImage_setWidth(_1){this.setRect(this.left,this.top,_1,this.height)},isc.A.setHeight=function isc_DrawImage_setHeight(_1){this.setRect(this.left,this.top,this.width,_1)},isc.A.setRect=function isc_DrawImage_setRect(_1,_2,_3,_4,_5,_6){if(_1==null)_1=this.left;if(_2==null)_2=this.top;if(_3==null)_3=this.width;if(_4==null)_4=this.height;if(_5==null||_6==null){var _7=this.$147l();_5=_7.cx;_6=_7.cy}
this.left=_1;this.top=_2;this.width=_3;this.height=_4;var _8=this.$147l();this.$147x(_5,_6,_8.cx,_8.cy);if(this.drawingVML){var _9=this.$154s;if(_5!=_8.cx||_6!=_8.cy){delete this.$1348;_9.setProperty("transform",this.$1339())}
_9.setProperty("left",_1).setProperty("top",_2).setProperty("width",_3).setProperty("height",_4);this.$156a();_9.flush()}else if(this.drawingSVG){var _10=this.$44z;_10.setAttributeNS(null,"x",_1);_10.setAttributeNS(null,"y",_2);_10.setAttributeNS(null,"width",_3);_10.setAttributeNS(null,"height",_4)}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$147w=function isc_DrawImage__updateLocalTransform(_1,_2,_3,_4,_5){if(!this.resizeViaLocalTransformOnly){var _6=isc.DrawItem.$147j(_1,_2,_3,_4.left,_4.top,_4.width,_4.height,0);if(_6.success){this.Super("$147w",[_1,_2,_3,_4,false]);this.setRect(_6.left,_6.top,_6.width,_6.height,_2,_3);return}}
this.Super("$147w",[_1,_2,_3,_4,_5])},isc.A.$147m=function isc_DrawImage__saveShape(){return{left:this.left,top:this.top,width:this.width,height:this.height}});isc.B._maxIndex=isc.C+18;isc.DrawImage.markUnsupportedMethods(null,["setLineWidth","setLineColor","setLineOpacity","setLinePattern","setLineCap","setFillColor","setFillGradient","setFillOpacity"]);isc.DrawImage.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawCurve","DrawItem");isc.A=isc.DrawCurve.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.startPoint=[0,0];isc.A.endPoint=[100,100];isc.A.controlPoint1=[100,0];isc.A.controlPoint2=[0,100];isc.A.svgElementName="path";isc.A.lineCap="butt";isc.A.$1542=new isc.VMLRenderer.shapeConfig();isc.A.showResizeKnobs=null;isc.A.hideResizeKnobs=null;isc.A.showMoveKnobs=null;isc.A.hideMoveKnobs=null;isc.A.c1KnobDefaults={cursor:"move",knobShapeProperties:{fillColor:"#0000ff"}};isc.A.c1KnobConstructor="DrawKnob";isc.A.c2KnobDefaults={cursor:"move",knobShapeProperties:{fillColor:"#0000ff"}};isc.A.c2KnobConstructor="DrawKnob";isc.B.push(isc.A.init=function isc_DrawCurve_init(){this.Super("init");this.startPoint=this.startPoint.duplicate();this.endPoint=this.endPoint.duplicate();this.controlPoint1=this.controlPoint1.duplicate();this.controlPoint2=this.controlPoint2.duplicate();if(!isc.Browser.$141c){this.$1420()}},isc.A.getCenter=function isc_DrawCurve_getCenter(){return[this.startPoint[0]+isc.DrawItem.$1503((this.endPoint[0]-this.startPoint[0])/2),this.startPoint[1]+isc.DrawItem.$1503((this.endPoint[1]-this.startPoint[1])/2)]},isc.A.$154t=function isc_DrawCurve__renderVML(_1,_2,_3){var _4=this.$1542;isc.VMLRenderer.drawItemToShapeConfig(this,_4);_4.fromX=this.startPoint[0];_4.fromY=this.startPoint[1];_4.control1X=this.controlPoint1[0];_4.control1Y=this.controlPoint1[1];_4.control2X=this.controlPoint2[0];_4.control2Y=this.controlPoint2[1];_4.toX=this.endPoint[0];_4.toY=this.endPoint[1];this.$154s=_1.curve(_2,_4)},isc.A.getAttributesSVG=function isc_DrawCurve_getAttributesSVG(){return"d='"+this.getPathSVG()+"'"},isc.A.getPathSVG=function isc_DrawCurve_getPathSVG(){return"M"+this.startPoint[0]+" "+this.startPoint[1]+"C"+this.controlPoint1[0]+" "+this.controlPoint1[1]+" "+this.controlPoint2[0]+" "+this.controlPoint2[1]+" "+this.endPoint[0]+" "+this.endPoint[1]},isc.A.computeBezierPoint=function isc_DrawCurve_computeBezierPoint(_1){var x=isc.DrawPane.bezier(this.startPoint[0],this.controlPoint1[0],this.controlPoint2[0],this.endPoint[0],_1);var y=isc.DrawPane.bezier(this.startPoint[1],this.controlPoint1[1],this.controlPoint2[1],this.endPoint[1],_1);return[x,y]},isc.A.drawBitmapPath=function isc_DrawCurve_drawBitmapPath(_1,_2){var _3=false;if(this.startArrow=="open"||this.startArrow=="block"){_3=true;_1.save();this.$144s(_1,this.lineWidth,(_2!==false));_1.restore()}
if(this.endArrow=="open"||this.endArrow=="block"){_3=true;_1.save();this.$144t(_1,this.lineWidth,(_2!==false));_1.restore()}
if(_3){_1.beginPath()}
_1.moveTo(this.startPoint[0],this.startPoint[1]);_1.bezierCurveTo(this.controlPoint1[0],this.controlPoint1[1],this.controlPoint2[0],this.controlPoint2[1],this.endPoint[0],this.endPoint[1])},isc.A.$144s=function isc_DrawCurve__drawBitmapStartArrow(_1,_2,_3){var _4=10,_5=this.startPoint[0],_6=this.startPoint[1],_7=this.computeBezierPoint(0.01),_8=this.computeAngle(_5,_6,_7[0],_7[1]);_1.beginPath();if(_3){_1.fillStyle=this.lineColor;_1.strokeStyle=this.lineColor}
_1.lineWidth=_2;_1.lineCap="round";_1.translate(_5,_6);_1.rotate(_8*this.$125w);this.bmMoveTo(_4,-_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(_4,_4,_1);if(this.startArrow=="block"){_1.closePath()}
if(_3){if(this.startArrow=="block"){_1.fill()}
_1.stroke()}},isc.A.$144t=function isc_DrawCurve__drawBitmapEndArrow(_1,_2,_3){var _4=10,_5=this.endPoint[0],_6=this.endPoint[1],_7=this.computeBezierPoint(0.99),_8=this.computeAngle(_7[0],_7[1],_5,_6);_1.beginPath();if(_3){_1.fillStyle=this.lineColor;_1.strokeStyle=this.lineColor}
_1.lineWidth=_2;_1.lineCap="round";_1.translate(_5,_6);_1.rotate(_8*this.$125w);this.bmMoveTo(-_4,_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(-_4,-_4,_1);if(this.endArrow=="block"){_1.closePath()}
if(_3){if(this.endArrow=="block"){_1.fill()}
_1.stroke()}},isc.A.$1421=function isc_DrawCurve__bezierCurve(_1,_2,_3,_4,_5,_6,_7,_8){this.p1x=_1;this.p1y=_2;this.cp1x=_3;this.cp1y=_4;this.cp2x=_5;this.cp2y=_6;this.p2x=_7;this.p2y=_8},isc.A.$1422=function isc_DrawCurve__bezierCurveZero(){return new this.$1421(0,0,0,0,0,0,0,0)},isc.A.$1423=function isc_DrawCurve__bezierCurveCopy(_1,_2){_2.p1x=_1.p1x;_2.p1y=_1.p1y;_2.cp1x=_1.cp1x;_2.cp1y=_1.cp1y;_2.cp2x=_1.cp2x;_2.cp2y=_1.cp2y;_2.p2x=_1.p2x;_2.p2y=_1.p2y;return _2},isc.A.$1424=function isc_DrawCurve__drawCurveToBezierCurve(_1){return new this.$1421(_1.startPoint[0],_1.startPoint[1],_1.controlPoint1[0],_1.controlPoint1[1],_1.controlPoint2[0],_1.controlPoint2[1],_1.endPoint[0],_1.endPoint[1])},isc.A.$1425=function isc_DrawCurve__bezierCurveReverse(_1,_2){var _3=_1.p1x;_2.p1x=_1.p2x;_2.p2x=_3;_3=_1.p1y;_2.p1y=_1.p2y;_2.p2y=_3;_3=_1.cp1x;_2.cp1x=_1.cp2x;_2.cp2x=_3;_3=_1.cp1y;_2.cp1y=_1.cp2y;_2.cp2y=_3;return _2},isc.A.$1426=function isc_DrawCurve__bezierCurveDeCasteljau(_1,_2,_3,_4){var w=1-_2,_6=_1.p1x,_7=_1.p1y,_8=_1.p2x,_9=_1.p2y,_10=w*_6+_2*_1.cp1x,_11=w*_7+_2*_1.cp1y,_12=w*_1.cp1x+_2*_1.cp2x,_13=w*_1.cp1y+_2*_1.cp2y,_14=w*_1.cp2x+_2*_8,_15=w*_1.cp2y+_2*_9,_16=w*_10+_2*_12,_17=w*_11+_2*_13,_18=w*_12+_2*_14,_19=w*_13+_2*_15,_20=w*_16+_2*_18,_21=w*_17+_2*_19;if(_3!=null){_3.p1x=_6;_3.p1y=_7;_3.cp1x=_10;_3.cp1y=_11;_3.cp2x=_16;_3.cp2y=_17;_3.p2x=_20;_3.p2y=_21}
if(_4!=null){_4.p1x=_20;_4.p1y=_21;_4.cp1x=_18;_4.cp1y=_19;_4.cp2x=_14;_4.cp2y=_15;_4.p2x=_8;_4.p2y=_9}},isc.A.$1420=function isc_DrawCurve__calculateOffsetCurvePath(){var _1=1e-6,_2=0.01,_3=0.001,_4=((this.lineWidth==null?1:Math.max(1,this.lineWidth))+2*this.hitTolerance),_5=this.$1424(this);var _6=_5.p1x,_7=_5.p1y,_8=_5.cp1x,_9=_5.cp1y,_10=_5.cp2x,_11=_5.cp2y,_12=_5.p2x,_13=_5.p2y;var _14=2*Math.PI,_15=(Math.abs(_6-_8)<_1&&Math.abs(_7-_9)<_1),_16=(Math.abs(_12-_10)<_1&&Math.abs(_13-_11)<_1),_17=(_6+_8+_10+_12)/4,_18=(_7+_9+_11+_13)/4,_19=(_6+_8+_10+_12)/4,_20=(_7+_9+_11+_13)/4,_21=0,_22=0,_23=0,_24=true;for(var i=4;i--;){var x=0,y=0;if(i==3){x=_6;y=_7}else if(i==2){x=_8;y=_9}else if(i==1){x=_10;y=_11}else{x=_12;y=_13}
var _28=x-_19,_29=y-_20;_21+=_28*_28;_22+=_28*_29;_23+=_29*_29;if(isc.Math.$101k(x-_17,y-_18)>=_1){_24=false}}
var _30=!_24,_31=0;if(_30){var _32=(_23-_21+isc.Math.$101k(_23-_21,2*_22)),_33=2*_22;_31=Math.atan2(_32,_33);var c=Math.cos(_31),s=Math.sin(_31),_36=_19*s-_20*c;for(var i=0;_30&&i<4;++i){var x=0,y=0;if(i==3){x=_6;y=_7}else if(i==2){x=_8;y=_9}else if(i==1){x=_10;y=_11}else{x=_12;y=_13}
var _37=x*c+y*s,_28=_36*s+_37*c-x,_29=_36*-c+_37*s-y,_38=isc.Math.$101k(_28,_29);_30=(_38<2*Math.SQRT2)}}
var _39=_4/2;if(_24){var _40=0,_41=0;if(!(_6==_8&&_7==_9)){_40=Math.atan2(_9-_7,_8-_6)}else if(!(_6==_10&&_7==_11)){_40=Math.atan2(_11-_7,_10-_6)}else if(!(_6==_12&&_7==_13)){_40=Math.atan2(_13-_7,_12-_6)}
if(!(_12==_10&&_13==_11)){_41=Math.atan2(_11-_13,_10-_12)}else if(!(_12==_8&&_13==_9)){_41=Math.atan2(_9-_13,_8-_12)}else if(!(_12==_6&&_13==_7)){_41=Math.atan2(_7-_13,_6-_12)}
this.$143a={halfLineWidth:_39,singlePoint:true,collinear:false,midpointX:_17,midpointY:_18,angle1:_40,angle2:_41};return}
_30=_30||(_15&&_16);if(_30){var _42=isc.DrawPane.bezierExtrema(_6,_8,_10,_12),_43=_42[0],_44=_42[1],_45=isc.DrawPane.bezierExtrema(_7,_9,_11,_13),_46=_45[0],_47=_45[1];var _48=Math.cos(_31),_49=-Math.sin(_31),_50=0,_51=0,_52=0,_53=0;if(Math.abs(_48*(_47-_46)+_49*(_44-_43))
<Math.abs(_48*(_46-_47)+_49*(_44-_43)))
{_50=_43;_51=_46;_52=_44;_53=_47}else{_50=_43;_51=_47;_52=_44;_53=_46}
var _14=2*Math.PI,_54=(_14+Math.atan2(_53-_51,_52-_50))%_14;this.$143a={halfLineWidth:_39,singlePoint:false,collinear:true,roundPoint1:!(_50==_6&&_51==_7)&&!(_50==_12&&_51==_13),roundPoint2:!(_52==_6&&_53==_7)&&!(_52==_12&&_53==_13),x1:_50,y1:_51,x1Left:_50-_39*Math.cos(Math.PI/2-_54),y1Left:_51+_39*Math.sin(Math.PI/2-_54),x1Right:_50+_39*Math.cos(Math.PI/2-_54),y1Right:_51-_39*Math.sin(Math.PI/2-_54),startAngle1:_54+Math.PI/2,endAngle1:_54+3*Math.PI/2,x2:_52,y2:_53,x2Left:_52-_39*Math.cos(Math.PI/2-_54),y2Left:_53+_39*Math.sin(Math.PI/2-_54),x2Right:_52+_39*Math.cos(Math.PI/2-_54),y2Right:_53-_39*Math.sin(Math.PI/2-_54),startAngle2:_54+Math.PI/2,endAngle2:_54-Math.PI/2,angle:3*Math.PI/4-_54};return}
var _55=-_6+3*(_8-_10)+_12,_56=-_7+3*(_9-_11)+_13,_57=3*(_6-_8-_8+_10),_58=3*(_7-_9-_9+_11),_59=3*(-_6+_8),_60=3*(-_7+_9),_28=_6,_29=_7;var _61=isc.Math.$1439([3*_55,2*_57,_59],2).zeros,_62=(_61.length>0&&Math.abs(_61[0].imag)<_1),_63=(_61.length>1&&Math.abs(_61[1].imag)<_1),_64=null,_65=false,_66=false;if(_62||_63){_64=isc.Math.$1439([3*_56,2*_58,_60],2).zeros;_65=(_64.length>0&&Math.abs(_64[0].imag)<_1&&_1<_64[0].real&&_64[0].real<1-_1);_66=(_64.length>1&&Math.abs(_64[1].imag)<_1&&_1<_64[1].real&&_64[1].real<1-_1)}
var _67=[];if(_62&&_65&&Math.abs(_61[0].real,_64[0].real)<_1){_67.push((_61[0].real+_64[0].real)/2)}
if(_62&&_66&&Math.abs(_61[0].real,_64[1].real)<_1){_67.push((_61[0].real+_64[1].real)/2)}
if(_63&&_65&&Math.abs(_61[1].real,_64[0].real)<_1){_67.push((_61[1].real+_64[0].real)/2)}
if(_63&&_66&&Math.abs(_61[1].real,_64[1].real)<_1){_67.push((_61[1].real+_64[1].real)/2)}
for(var i=_67.length;i--;){var _68=_67[i];if(_68<-_1||_68>1+_1){_67.splice(i,1)}else if(_68<_1){_15=true;_67.splice(i,1)}else if(_68>1-_1){_16=true;_67.splice(i,1)}}
for(var i=1;i<_67.length;++i){for(var j=i;_67[j-1]>_67[j];--j){var _70=_67[j-1];_67[j-1]=_67[j];_67[j]=_70}}
var _71=[],_72=[];var _39=_4/2,_73=_8-_6,_74=_9-_7,_75=isc.Math.$101k(_73,_74),_48=_74/_75,_49=-_73/_75;_71.push(_6+_39*_48,_7+_39*_49);var _76=_10-_12,_77=_11-_13,z=isc.Math.$101k(_76,_77),_79=_77/z,_80=-_76/z;var _81=this.$1422(),_82=this.$1422(),_83=this.$1422(),_84=this.$1422();_67.unshift(0);_67.push(1);var _85=_67.length;for(var i=1;i<_85;++i){var _86=_67[i-1],_87=_67[i];if(_85==2){this.$1423(_5,_84)}else{if(1<i){this.$1426(_5,_86,null,_84)}
if(i<_85-1){this.$1426((1<i?_84:_5),(_87-_86)/(1-_86),_84,null)}}
var _88=((1<i&&isc.Math.$101k(_84.cp1x-_84.p1x,_84.cp2x-_84.p2x)<_1)||_15),_89=((i<_85-1&&isc.Math.$101k(_84.cp2x-_84.p2x,_84.cp2y-_84.p2y)<_1)||_16);if(_88&&_89){this.$1429(_4,_84,_71,_72)}else{this.$1428(_4,_2,_3,_84,_88,_89,_71,_72,_81,_82,_83)}}
_72.push(_13+_39*_80,_12+_39*_79);_72=_72.reverse();var _14=2*Math.PI,_90=_71[0],_91=_71[1],_92=_72[_72.length-2],_93=_72[_72.length-1],_94=_71[_71.length-2],_95=_71[_71.length-1],_96=_72[0],_97=_72[1],_98=(Math.PI+Math.atan2(_91-_93,_90-_92))%_14,_99=_98+Math.PI,_100=(_14+Math.PI+Math.atan2(_95-_97,_94-_96))%_14,_101=_100-Math.PI,_102=3*Math.PI/2-_98,_103=_92+_39*Math.cos(_102),_104=_93-_39*Math.sin(_102),_105=_90+_39*Math.cos(_102),_106=_91-_39*Math.sin(_102),_107=3*Math.PI/2-_101,_108=_94+_39*Math.cos(_107),_109=_95-_39*Math.sin(_107),_110=_96+_39*Math.cos(_107),_111=_97-_39*Math.sin(_107);this.$143a={halfLineWidth:_39,singlePoint:false,collinear:false,leftPath:_71,rightPath:_72,x1:(_90+_92)/2,y1:(_91+_93)/2,radius1:isc.Math.$101k(_90-_92,_91-_93)/2,startAngle1:_98,endAngle1:_99,leftCorner1x:_103,leftCorner1y:_104,rightCorner1x:_105,rightCorner1y:_106,x2:(_94+_96)/2,y2:(_95+_97)/2,radius2:isc.Math.$101k(_94-_96,_95-_97)/2,startAngle2:_101,endAngle2:_100,leftCorner2x:_108,leftCorner2y:_109,rightCorner2x:_110,rightCorner2y:_111}},isc.A.$1428=function isc_DrawCurve__addOffsetCurveToPath(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10,_11){var _12=1e-6,_13=_4.p1x,_14=_4.p1y,_15=_4.cp1x,_16=_4.cp1y,_17=_4.cp2x,_18=_4.cp2y,_19=_4.p2x,_20=_4.p2y,_21=-_13+3*(_15-_17)+_19,_22=-_14+3*(_16-_18)+_20,_23=3*(_13-_15-_15+_17),_24=3*(_14-_16-_16+_18),_25=3*(-_13+_15),_26=3*(-_14+_16),_27=_13,_28=_14;var _29=(_22*_23-_21*_24),_30=0,_31=0,_32=0,_33=false;if(Math.abs(_29)<_12){var _34=(_22*_25-_21*_26);if(Math.abs(_34)<_12){_30=_31=_32=-1;_33=true}else{_30=_31=_32=-(_24*_25-_23*_26)/(3*_34)}}else{_30=-(_22*_25-_21*_26)/(2*_29);var _35=_30*_30-(_24*_25-_23*_26)/(3*_29);if(_35<=0){_31=_32=_30}else{var _36=Math.sqrt(_35);_31=_30-_36;_32=_30+_36}}
if(_32-_31<_12){_30=_31=_32=(_31+_32)/2}
var _37=0;if(-_12<_31&&_31<1+_12){if(_31>0.5){this.$1426(_4,_31,_10,null);this.$1425(_10,_10)}else{this.$1426(_4,_31,null,_10)}
var _38=this.$1427(_10);if(_38==null){_31=-1}else{_37=Math.pow(Math.abs(_3/_38.s3),1/3)}}
var _39=0;if(_31==_32){_39=_37}else if(_32<1+_12){if(_32>0.5){this.$1426(_4,_32,_10,null);this.$1425(_10,_10)}else{this.$1426(_4,_32,null,_10)}
var _38=this.$1427(_10);if(_38==null){_32=_31}else{_39=Math.pow(Math.abs(_3/_38.s3),1/3)}}
var _40=1000*_12,_41=Math.min(_31-_40,_31-_37*(1-_31)),_42=Math.max(_31+_40,_31+_37*(1-_31)),_43=Math.min(_32-_40,_32-_39*(1-_32)),_44=Math.max(_32+_40,_32+_39*(1-_32)),_45=(_31==_32?[_31]:[_31,_32]),_46=(_31==_32?[_41]:[_41,_43]),_47=(_31==_32?[_42]:[_42,_44]),_48=0,_49=(_31==_32?_48:1);var _50=_21*_21,_51=_21*_50,_52=_22*_22,_53=_22*_52,_54=_23*_23,_55=_23*_54,_56=_24*_24,_57=_24*_56,_58=_25*_25,_59=_25*_58,_60=_26*_26,_61=_26*_60;var _62=36*(_50+_52)*(_21*_24-_23*_22),_63=15*(3*(_50+_52)*(_21*_26-_25*_22)-2*_21*_22*(_54-_56)+2*(_50-_52)*_23*_24),_64=4*(3*(4*_21*_22*_24+_52*_23+5*_50*_23)*_26-
3*(5*_52*_24+_50*_24+4*_21*_22*_23)*_25+(_21*_24-_23*_22)*(_54+_56)),_65=2*(-6*_21*_22*(_58-_60)+6*(_50-_52)*_25*_26+(3*_21*_56+10*_22*_23*_24+13*_21*_54)*_26-
(13*_22*_56+10*_21*_23*_24+3*_22*_54)*_25),_66=4*(2*(_21*_25+_22*_26)+_54+_56)*(_23*_26-_25*_24),_67=(-_21*_61+_22*_59+_25*_26*(_22*_26-_21*_25)+2*(_54-_56)*_25*_26-
2*_23*_24*(_58-_60));var _68=10*_40,_69=isc.Math.$1439([_62,_63,_64,_65,_66,_67],5).zeros;for(var i=_69.length;i--;){var z=_69[i];if(-_12<_69[i].real&&_69[i].real<1+_12&&Math.abs(z.imag)<_12){var _72=_69[i].real,_73=true;for(var j=_45.length;_73&&j--;){_73=(Math.abs(_72-_45[j])>=_12)}
if(!_73){continue}
_45.push(_72);this.$1426(_4,_72,null,_11);var _38=this.$1427(_11),_75=_38.r1,_76=_38.s2,_77=Math.abs(_76),_78=_1*_76/(3*_75*_75),_79=0;if(_78<1+_12){_79=_2/(3*_77*(1-_78))}
if(_78>-1+_12){_79=Math.max(_79,_2/(3*_77*(1+_78)))}
var t=2*Math.sqrt(_79);_46.push(Math.min(_72-_68,_72-t*(1-_72)));_47.push(Math.max(_72+_68,_72+t*(1-_72)))}}
for(var i=1;false&&i<_45.length;++i){for(var j=i;_45[j-1]>_45[j];--j){var _81=_45[j-1];_45[j-1]=_45[j];_45[j]=_81;_81=_46[j-1];_46[j-1]=_46[j];_46[j]=_81;_81=_47[j-1];_47[j-1]=_47[j];_47[j]=_81;if(j==_48){_48=j-1}else if(j-1==_48){_48=j}else if(j==_49){_49=j-1}else if(j-1==_49){_49=j}}}
var _82=0,_83=1,_84=2,_85=(_31!=_32&&_43<=_42),_86=[0],_87=[];for(var t=0;t<1;){var _88=(_41<=t&&t<_42),_89=(_31!=_32&&_43<=t&&t<_44),_90=_83,_91=t,_92=false;for(var i=0;!_92&&i<_45.length;++i){_92=(i!=_48&&i!=_49&&_46[i]<=t&&t<_47[i])}
if(_88||_89){_90=_82}else if(_92){_90=_84}else{_90=_83}
if(_85&&_41<=t&&t<_30){_91=_30}else if(_85&&_30<=t&&t<_44){_91=_44}else if(_88){_91=_42}else if(_89){_91=_44}else if(_92){_91=2;for(var i=0;i<_45.length;++i){if(i!=_48&&i!=_49&&t<_45[i]){_91=Math.min(_91,_45[i])}
if(_46[i]<=t&&t<_47[i]){_91=Math.min(_91,_47[i])}}}else{_91=2;for(var i=0;i<_45.length;++i){if(t<_46[i]){_91=Math.min(_91,_46[i])}}}
_91=Math.min(_91,1);_86.push(_91);_87.push(_90);t=_91}
for(var i=0;i<_87.length;++i){var _93=_86[i],_94=_86[i+1],_90=_87[i],_95=(i==_87.length-1);if(_95){_9=_4}else{this.$1426(_4,(_94-_93)/(1-_93),_9,_4)}
if(_90==_82){this.$1429(_1,_9,_7,_8)}else{var f=(_90==_83?_2:_3);this.$144o(f,_1,_9,_7,_8,_11)}}},isc.A.$1427=function isc_DrawCurve__xyToRS(_1){var _2=1e-6,_3=_1.cp1x-_1.p1x,_4=_1.cp1y-_1.p1y,_5=isc.Math.$101k(_3,_4);var _6=0,_7=0,_8=0;if(_5<_2){var _9=_1.cp2x-_1.cp1x,_10=_1.cp2y-_1.cp1y,_11=isc.Math.$101k(_9,_10);if(_11<_2){var _12=_1.p2x-_1.p1x,_13=_1.p2y-_1.p1y,_14=isc.Math.$101k(_12,_13);if(_14<_2){return null}else{_6=_12;_7=_13;_8=_14}}else{_6=_9;_7=_10;_8=_11}}else{_6=_3;_7=_4;_8=_5}
var _15=_1.p1x,_16=_1.p1y,_17=_1.p1x-_15,_18=_1.p1y-_16,_19=_1.cp1x-_15,_20=_1.cp1y-_16,_21=_1.cp2x-_15,_22=_1.cp2y-_16,_23=_1.p2x-_15,_24=_1.p2y-_16;return{r0:(_17*_6+_18*_7)/_8,s0:(_17*_7-_18*_6)/_8,r1:(_19*_6+_20*_7)/_8,s1:(_19*_7-_20*_6)/_8,r2:(_21*_6+_22*_7)/_8,s2:(_21*_6-_22*_6)/_8,r3:(_23*_6+_24*_7)/_8,s3:(_23*_7-_24*_6)/_8}},isc.A.$1429=function isc_DrawCurve__addOffsetLineToPath(_1,_2,_3,_4){var _5=1e-6,_6=_2.p1x,_7=_2.p1y,_8=_2.p2x,_9=_2.p2y,_10=_8-_6,_11=_9-_7,_12=isc.Math.$101k(_10,_11);if(!(_12<_5)){var _13=_1/(2*_12),_14=_11*_13,_15=-_10*_13;_3.push(_8+_14,_9+_15);_4.push(_7-_15,_6-_14)}},isc.A.$144o=function isc_DrawCurve__addOffsetSimpleCurveToPath(_1,_2,_3,_4,_5,_6){var _7=1e-6,_8=_3;for(var _9=0;_9<2;++_9){var _10=true,_11=0;if(_9==0){_10=true}else if(_9==1){_10=false;this.$1425(_8,_8);_11=_5.length}
_3=this.$1423(_8,_6);var _12=0;for(var _13=true;_13;){var _14=_3.p1x,_15=_3.p1y,_16=_3.cp1x,_17=_3.cp1y,_18=_3.cp2x,_19=_3.cp2y,_20=_3.p2x,_21=_3.p2y;var _22=_16-_14,_23=_17-_15,_24=isc.Math.$101k(_22,_23),_25=((_16-_14)*_22+(_17-_15)*_23)/_24,_26=((_18-_14)*_23-(_19-_15)*_22)/_24,_27=3*_25*_25/2/_26,_28=2*_27,_29=_2/_28,_30=(_28>=(_10?_2:-_2)),_31=Math.abs(_26),_32=3*_31*(_10?(1-_29):(1+_29)),_33=(_32>0);if(!_10){var _34=this.$1427(_3)}
if(!_33){_32=-_32}
var t=2*Math.sqrt(_1/_32);_12=_12+t*(1-_12);_13=(_12<1-_7);if(_13){this.$1426(_8,_12,null,_3)}else{t=_12=1}
if(_13){var _36=3*(-_3.cp1x+_3.p1x),_37=3*(-_3.cp1y+_3.p1y),_38=_2/(2*isc.Math.$101k(_36,_37)),_39=-_37*_38,_40=_36*_38;if(_10){_4.push(_3.p1x+_39,_3.p1y+_40)}else{_5.push(_3.p1y+_40,_3.p1x+_39)}}else{var _36=-3*(-_18+_3.p2x),_37=-3*(-_19+_21),_38=_2/(2*isc.Math.$101k(_36,_37)),_39=-_37*_38,_40=_36*_38;if(_10){_4.push(_3.p2x+_39,_3.p2y+_40)}else{_5.push(_3.p2y+_40,_3.p2x+_39)}}}
if(!_10){var _41=_5.length;for(var i=_11,j=_41-2;i<j;i+=2,j-=2){var _44=_5[i];_5[i]=_5[j];_5[j]=_44;_44=_5[i+1];_5[i+1]=_5[j+1];_5[j+1]=_44}}}
this.$1425(_8,_8)},isc.A.$142z=function isc_DrawCurve__isPointInStroke(_1,_2,_3){if(!(isc.isA.Number(_2)&&isc.isA.Number(_3))){return false}
_1.save();var _4=this.$143a,_5=_4.halfLineWidth;var _6=false;if(_4.singlePoint){var _7=_4.midpointX,_8=_4.midpointY;if(this.lineCap=="square"){var _9=_5*Math.SQRT2,c=Math.cos(_4.angle1),s=Math.sin(_4.angle1),_12=_7+_9*c,_13=_8-_9*s;_1.beginPath();_1.moveTo(_12,_13);_1.lineTo(_7+_9*s,_8+_9*c);_1.lineTo(_7-_9*c,_8+_9*s);_1.lineTo(_7-_9*s,_8-_9*c);_1.lineTo(_12,_13);_1.closePath();_6=_1.isPointInPath(_2,_3);if(!_6&&_4.angle2!=_4.angle1){c=Math.cos(_4.angle2);s=Math.sin(_4.angle2);_1.beginPath();_1.moveTo(_7+_9*c,_8-_9*s);_1.lineTo(_7+_9*s,_8+_9*c);_1.lineTo(_7-_9*c,_8+_9*s);_1.lineTo(_7-_9*s,_8-_9*c);_1.lineTo(_7+_9*c,_8-_9*s);_1.moveTo(_12,_13);_1.closePath()}
_1.closePath()}else if(this.lineCap=="round"){_1.beginPath();_1.moveTo(_7+_5,_8);_1.arc(_7,_8,_5,0,360,false);_1.closePath();_6=_1.isPointInPath(_2,_3)}}else if(_4.collinear){_1.beginPath();_1.moveTo(_4.x1Left,_4.y1Left);_1.lineTo(_4.x2Left,_4.y2Left);if(_4.roundPoint2||this.lineCap=="round"){_1.arc(_4.x2,_4.y2,_5,_4.startAngle2,_4.endAngle2)}else{_1.lineTo(_4.x2Right,_4.y2Right)}
_1.lineTo(_4.x1Right,_4.y1Right);if(_4.roundPoint1||this.lineCap=="round"){_1.arc(_4.x1,_4.y1,_5,_4.startAngle1,_4.endAngle1)}
_1.lineTo(_4.x1Left,_4.y1Left);_1.closePath();_6=_1.isPointInPath(_2,_3);if(!_6&&this.lineCap=="square"){var _9=_5*Math.SQRT2,c=Math.cos(_4.angle),s=Math.sin(_4.angle);if(!_4.roundPoint1){var _7=_4.x1,_8=_4.y1;_1.beginPath();_1.moveTo(_7+_9*c,_8-_9*s);_1.lineTo(_7+_9*s,_8+_9*c);_1.lineTo(_7-_9*c,_8+_9*s);_1.lineTo(_7-_9*s,_8-_9*c);_1.lineTo(_7+_9*c,_8-_9*s);_1.closePath();_6=_1.isPointInPath(_2,_3)}
if(!_6&&!_4.roundPoint2){var _7=_4.x2,_8=_4.y2;_1.beginPath();_1.moveTo(_7+_9*c,_8-_9*s);_1.lineTo(_7+_9*s,_8+_9*c);_1.lineTo(_7-_9*c,_8+_9*s);_1.lineTo(_7-_9*s,_8-_9*c);_1.lineTo(_7+_9*c,_8-_9*s);_1.closePath();_6=_1.isPointInPath(_2,_3)}}}else{var _14=_4.leftPath,_15=_4.rightPath;_1.beginPath();_1.moveTo(_14[0],_14[1]);for(var i=2,_17=_14.length;i<_17;i+=2){_1.lineTo(_14[i],_14[i+1])}
if(this.lineCap=="round"){_1.arc(_4.x2,_4.y2,_4.radius2,_4.startAngle2,_4.endAngle2,false)}else if(this.lineCap=="square"){_1.lineTo(_4.leftCorner2x,_4.leftCorner2y);_1.lineTo(_4.rightCorner2x,_4.rightCorner2y)}else{_1.lineTo(_15[0],_15[1])}
for(var i=2,_18=_15.length;i<_18;i+=2){_1.lineTo(_15[i],_15[i+1])}
if(this.lineCap=="round"){_1.arc(_4.x1,_4.y1,_4.radius1,_4.startAngle1,_4.endAngle1,false)}else if(this.lineCap=="square"){_1.lineTo(_4.leftCorner1x,_4.leftCorner1y);_1.lineTo(_4.rightCorner1x,_4.rightCorner1y)}
_1.closePath();_6=_1.isPointInPath(_2,_3)}
var _19=10,_20=2*_5;if(!_6&&(this.startArrow=="open"||this.startArrow=="block")){var _21=this.startPoint[0],_22=this.startPoint[1],_23=this.computeBezierPoint(0.01),_24=this.computeAngle(_21,_22,_23[0],_23[1])*this.$125w,c=Math.cos(-_24),s=Math.sin(-_24),_25=_21,_26=_22,_7=(c-s)*_19+_25,_8=-(s+c)*_19+_26,_27=(c+s)*_19+_25,_28=(-s+c)*_19+_26;_6=(isc.Math.euclideanDistanceToLine(_7,_8,_25,_26,_2,_3)<=_20||isc.Math.euclideanDistanceToLine(_25,_26,_27,_28,_2,_3)<=_20||(this.startArrow=="block"&&isc.Math.euclideanDistanceToLine(_27,_28,_7,_8,_2,_3)<=_20))}
if(!_6&&(this.endArrow=="open"||this.endArrow=="block")){var _21=this.endPoint[0],_22=this.endPoint[1],_23=this.computeBezierPoint(0.99),_24=this.computeAngle(_23[0],_23[1],_21,_22)*this.$125w,c=Math.cos(-_24),s=Math.sin(-_24),_25=_21,_26=_22,_7=(-c+s)*_19+_25,_8=(s+c)*_19+_26,_27=-(c+s)*_19+_25,_28=(s-c)*_19+_26;_6=(isc.Math.euclideanDistanceToLine(_7,_8,_25,_26,_2,_3)<=_20||isc.Math.euclideanDistanceToLine(_25,_26,_27,_28,_2,_3)<=_20||(this.endArrow=="block"&&isc.Math.euclideanDistanceToLine(_27,_28,_7,_8,_2,_3)<=_20))}
_1.restore();return _6},isc.A.setStartPoint=function isc_DrawCurve_setStartPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.startPoint[0]=_1;this.startPoint[1]=_2;if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){this.$154s.setProperty("fromX",_1).setProperty("fromY",_2).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.setEndPoint=function isc_DrawCurve_setEndPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.endPoint[0]=_1;this.endPoint[1]=_2;if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){this.$154s.setProperty("toX",_1).setProperty("toY",_2).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.setControlPoint1=function isc_DrawCurve_setControlPoint1(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.controlPoint1[0]=_1;this.controlPoint1[1]=_2;if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){this.$154s.setProperty("control1X",_1).setProperty("control1Y",_2).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.setControlPoint2=function isc_DrawCurve_setControlPoint2(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.controlPoint2[0]=_1;this.controlPoint2[1]=_2;if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){this.$154s.setProperty("control2X",_1).setProperty("control2Y",_2).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.$156y=function isc_DrawCurve__setCurve(_1,_2,_3,_4,_5,_6,_7,_8,_9,_10){var _11=((this.startPoint[0]!=_1?0x1:0)|(this.startPoint[1]!=_2?0x2:0)|(this.controlPoint1[0]!=_3?0x4:0)|(this.controlPoint1[1]!=_4?0x8:0)|(this.controlPoint2[0]!=_5?0x10:0)|(this.controlPoint2[1]!=_6?0x20:0)|(this.endPoint[0]!=_7?0x40:0)|(this.endPoint[1]!=_8?0x80:0));if(_11==0){return}
if(_9==null||_10==null){var _12=this.$147l();_9=_12.cx;_10=_12.cy}
this.startPoint[0]=_1;this.startPoint[1]=_2;this.controlPoint1[0]=_3;this.controlPoint1[1]=_4;this.controlPoint2[0]=_5;this.controlPoint2[1]=_6;this.endPoint[0]=_7;this.endPoint[1]=_8;var _13=this.$147l();this.$147x(_9,_10,_13.cx,_13.cy);if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){var _14=this.$154s;if(_9!=_13.cx||_10!=_13.cy){delete this.$1348;_14.setProperty("transform",this.$1339())}
if(_11&0x1)_14.setProperty("fromX",_1);if(_11&0x2)_14.setProperty("fromY",_2);if(_11&0x4)_14.setProperty("control1X",_3);if(_11&0x8)_14.setProperty("control1Y",_4);if(_11&0x10)_14.setProperty("control2X",_5);if(_11&0x20)_14.setProperty("control2Y",_6);if(_11&0x40)_14.setProperty("toX",_7);if(_11&0x80)_14.setProperty("toY",_8);_14.flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()},isc.A.setLineWidth=function isc_DrawCurve_setLineWidth(_1){if(_1!=null){var _2=(this.lineWidth==null?1:Math.max(1,this.lineWidth));this.lineWidth=_1;if(!isc.Browser.$141c){var _3=(this.lineWidth==null?1:Math.max(1,this.lineWidth));if(_2!=_3){this.$1420()}}}
return this.Super("setLineWidth",arguments)},isc.A.getBoundingBox=function isc_DrawCurve_getBoundingBox(_1,_2){var _3=1e-6,_4=(_2||new Array(4));for(var k=0;k<2;++k){var x=this.startPoint[k],y=this.controlPoint1[k],z=this.controlPoint2[k],w=this.endPoint[k],_10=isc.DrawPane.bezierExtrema(x,y,z,w);_4[k]=_10[0];_4[k+2]=_10[1]}
return _1!=true?_4:this.$147b(true,false,_4)},isc.A.$147c=function isc_DrawCurve__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=(_4||new Array(4));var _6=(_2&&this.$125h()?(this.lineWidth/2):0),_7=(_3?this.hitTolerance:0),_8=_6+_7;var _9=this.startPoint[0],_10=this.startPoint[1],_11=this.controlPoint1[0],_12=this.controlPoint1[1],_13=this.controlPoint2[0],_14=this.controlPoint2[1],_15=this.endPoint[0],_16=this.endPoint[1];var _17=_1.m00,_18=_1.m01,_19=_1.m02,_20=_1.m10,_21=_1.m11,_22=_1.m12;var _23=isc.DrawPane.bezierExtrema(_17*_9+_18*_10+_19,_17*_11+_18*_12+_19,_17*_13+_18*_14+_19,_17*_15+_18*_16+_19),_24=_23[0],_25=_23[1],_26=isc.DrawPane.bezierExtrema(_20*_9+_21*_10+_22,_20*_11+_21*_12+_22,_20*_13+_21*_14+_22,_20*_15+_21*_16+_22),_27=_26[0],_28=_26[1];if(_8==0){_5[0]=_24;_5[1]=_27;_5[2]=_25;_5[3]=_28}else{var _29=_8*isc.Math.$101k(_17,_18),_30=_8*isc.Math.$101k(_20,_21);_5[0]=_24-_29;_5[1]=_27-_30;_5[2]=_25+_29;_5[3]=_28+_30}
return _5},isc.A.showStartPointKnobs=function isc_DrawCurve_showStartPointKnobs(){if(this.$639!=null&&!this.$639.destroyed)return;var v=this.$136i(this.startPoint[0],this.startPoint[1],"local","global");this.$639=this.createAutoChild("startKnob",{_constructor:"DrawKnob",x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.startPoint[0],_2.startPoint[1],"local","global");this.setCenterPoint(v.v0,v.v1)},updatePoints:function(_10,_11,_12,_13,_14){var _2=this.creator;if(_14=="start"){_2.$114b=_2.controlPoint1.duplicate();_2.$114c=_2.controlPoint2.duplicate()}
var _3=_2.$114b,_4=_2.$114c;if(_2.keepInParentRect){var _5=_2.$113u(),_6={startPoint:[0,0],controlPoint1:_3.duplicate(),controlPoint2:_4.duplicate(),endPoint:_2.endPoint};_2.$156z(_6,"local","global");_6.startPoint[0]=_10;_6.startPoint[1]=_11;_2.$114d(_6.endPoint,_6,_5);_2.$156z(_6,"global","local");var _7=_6.startPoint,_8=_6.controlPoint1,_9=_6.controlPoint2;_2.$156y(isc.DrawItem.$1503(_7[0]),isc.DrawItem.$1503(_7[1]),isc.DrawItem.$1503(_8[0]),isc.DrawItem.$1503(_8[1]),isc.DrawItem.$1503(_9[0]),isc.DrawItem.$1503(_9[1]),_2.endPoint[0],_2.endPoint[1],null,null)}else{var v=_2.$136i(_10,_11,"global","local");_2.$156y(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1),_3[0],_3[1],_4[0],_4[1],_2.endPoint[0],_2.endPoint[1],null,null)}
if(_14=="stop"){delete _2.$114b;delete _2.$114c}}})});isc.evalBoundary;isc.B.push(isc.A.$156z=function isc_DrawCurve__normalizeCurve(_1,_2,_3){var _4=_1.startPoint,v=this.$136i(_4[0],_4[1],_2,_3);_4[0]=v.v0;_4[1]=v.v1;var _6=_1.controlPoint1;v=this.$136i(_6[0],_6[1],_2,_3);_6[0]=v.v0;_6[1]=v.v1;var _7=_1.controlPoint2;v=this.$136i(_7[0],_7[1],_2,_3);_7[0]=v.v0;_7[1]=v.v1;var _8=_1.endPoint;v=this.$136i(_8[0],_8[1],_2,_3);_8[0]=v.v0;_8[1]=v.v1},isc.A.$114d=function isc_DrawCurve__intersectCurveBox(_1,_2,_3){var _4=Math.min(_3[0],_3[2]),_5=Math.min(_3[1],_3[3]),_6=Math.max(_3[0],_3[2]),_7=Math.max(_3[1],_3[3]);_3[0]=_4;_3[1]=_5;_3[2]=_6;_3[3]=_7;var _8=(_1==_2.endPoint);if(_8){this.$114e(_2)}
var _9=1e-6,_10=_2.startPoint,_11=_2.endPoint,_12=(_3[0]<=_10[0]&&_10[0]<=_3[2]&&_3[1]<=_10[1]&&_10[1]<=_3[3]),_13=(_3[0]<=_11[0]&&_11[0]<=_3[2]&&_3[1]<=_11[1]&&_11[1]<=_3[3]),_14=_12,_15=!_14&&_13,_16=!_14&&!_15,_17=null;for(var m=0;m<4;++m){var k=m%2,l=(k+1)%2,s=(m<2?-1:1),_22=_3[s+1+k];var x=_10[k],y=_2.controlPoint1[k],z=_2.controlPoint2[k],w=_11[k],a=(-x+3*(y-z)+w),b=3*(x-y-y+z),c=3*(-x+y),d=x-_22;var _31=(Math.abs(a)<_9),_32=(Math.abs(b)<_9),_33=(Math.abs(c)<_9);if(!(_31&&_32&&_33)){var _34;if(_31&&_32){_34=[-d/c]}else if(_31){var _35=(c*c-4*b*d);if(_35<0){_34=[]}else if(_35>0){var _36=Math.sqrt(_35);_34=[(-c+_36)/(2*b),(-c-_36)/(2*b)]}else{_34=[-c/(2*b)]}}else{var _37=a*a,_38=a*_37,_39=b*b,_40=b*_39,_41=-b/(3*a),p=(3*a*c-_39)/(3*_37),q=(2*_40-9*a*b*c+27*_37*d)/(27*_38),_35=(q*q/4+p*p*p/27);if(_35>0){var _36=Math.sqrt(_35),_44=(-q/2+_36),_45=(-q/2-_36),u=(_44>0?1:-1)*Math.pow(Math.abs(_44),1/3),v=(_45>0?1:-1)*Math.pow(Math.abs(_45),1/3);_34=[u+v+_41]}else{var r=Math.sqrt(-4*p/3),_49=-4*q/(r*r*r),_50=Math.acos(Math.max(-1,Math.min(1,_49)))/3;_34=[_41+r*Math.cos(_50),_41+r*Math.cos(_50+2*Math.PI/3),_41+r*Math.cos(_50-2*Math.PI/3)]}}
for(var i=_34.length;i--;){var r=_34[i],_52=3*a*r*r+2*b*r+c;if(_9<r&&r<1-_9&&_52!=0){var _53=(m+3)%4,_54=(m+1)%4,_55=(_53<2?-1:1),_56=(_54<2?-1:1),_57=l,_58=l,_59=_3[_55+1+_57],_60=_3[_56+1+_58],_61=isc.DrawPane.bezier(_10[l],_2.controlPoint1[l],_2.controlPoint2[l],_11[l],r);if(!(_55*_61>_55*_59)&&!(_56*_61>_56*_60)&&(_15?(s==(_52>0?-1:1)&&(_17==null||r<_17)):(_17==null||(_14?(r<_17):(r>_17)))))
{_17=r}}}}}
if(_17!=null){this.$114f(_2,_17,true)}
if(_8){this.$114e(_2)}},isc.A.$114e=function isc_DrawCurve__backward(_1){var _2=_1.startPoint;_1.startPoint=_1.endPoint;_1.endPoint=_2;_2=_1.controlPoint1;_1.controlPoint1=_1.controlPoint2;_1.controlPoint2=_2},isc.A.$114f=function isc_DrawCurve__decasteljau(_1,_2,_3){var w=1-_2;for(var k=0;k<2;++k){var a=w*_1.startPoint[k]+_2*_1.controlPoint1[k],b=w*_1.controlPoint1[k]+_2*_1.controlPoint2[k],c=w*_1.controlPoint2[k]+_2*_1.endPoint[k],d=w*a+_2*b,e=w*b+_2*c,f=w*d+_2*e;if(_3){_1.controlPoint1[k]=a;_1.controlPoint2[k]=d;_1.endPoint[k]=f}else{_1.startPoint[k]=f;_1.controlPoint1[k]=e;_1.controlPoint2[k]=c}}
return _1},isc.A.hideStartPointKnobs=function isc_DrawCurve_hideStartPointKnobs(){if(this.$639){this.$639.destroy();delete this.$639}},isc.A.showEndPointKnobs=function isc_DrawCurve_showEndPointKnobs(){if(this.$64a!=null&&!this.$64a.destroyed)return;var v=this.$136i(this.endPoint[0],this.endPoint[1],"local","global");this.$64a=this.createAutoChild("endKnob",{_constructor:"DrawKnob",x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.endPoint[0],_2.endPoint[1],"local","global");this.setCenterPoint(v.v0,v.v1,false)},updatePoints:function(_10,_11,_12,_13,_14){var _2=this.creator;if(_14=="start"){_2.$114g=_2.controlPoint1.duplicate();_2.$114h=_2.controlPoint2.duplicate()}
var _3=_2.$114g,_4=_2.$114h;if(_2.keepInParentRect){var _5=_2.$113u(),_6={startPoint:_2.startPoint,controlPoint1:_3.duplicate(),controlPoint2:_4.duplicate(),endPoint:[0,0]};_2.$156z(_6,"local","global");_6.endPoint[0]=_10;_6.endPoint[1]=_11;_2.$114d(_6.startPoint,_6,_5);_2.$156z(_6,"global","local");var _7=_6.endPoint,_8=_6.controlPoint2,_9=_6.controlPoint1;_2.$156y(_2.startPoint[0],_2.startPoint[1],isc.DrawItem.$1503(_9[0]),isc.DrawItem.$1503(_9[1]),isc.DrawItem.$1503(_8[0]),isc.DrawItem.$1503(_8[1]),isc.DrawItem.$1503(_7[0]),isc.DrawItem.$1503(_7[1]),null,null)}else{var v=_2.$136i(_10,_11,"global","local");_2.$156y(_2.startPoint[0],_2.startPoint[1],_3[0],_3[1],_4[0],_4[1],isc.DrawItem.$1503(v.v1),isc.DrawItem.$1503(v.v1),null,null)}
if(_14=="stop"){delete _2.$114g,delete _2.$114h}}})},isc.A.hideEndPointKnobs=function isc_DrawCurve_hideEndPointKnobs(){if(this.$64a){this.$64a.destroy();delete this.$64a}},isc.A.showControlPoint1Knobs=function isc_DrawCurve_showControlPoint1Knobs(){if(this.$64b==null||this.$64b.destroyed){var v=this.$136i(this.controlPoint1[0],this.controlPoint1[1],"local","global");this.$64b=this.createAutoChild("c1Knob",{x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.controlPoint1[0],_2.controlPoint1[1],"local","global");this.setCenterPoint(v.v0,v.v1,false)},updatePoints:function(_12,_13,_14,_15,_16){var _2=this.creator;if(_16=="start"){_2.$114i=_2.startPoint.duplicate();_2.$114j=_2.controlPoint2.duplicate();_2.$114k=_2.endPoint.duplicate()}
var _3=_2.$114i,_4=_2.$114j,_5=_2.$114k;if(_2.keepInParentRect){var _6=_2.$113u(),_7={startPoint:_3.duplicate(),controlPoint1:[0,0],controlPoint2:_4.duplicate(),endPoint:_5.duplicate()};_2.$156z(_7,"local","global");_7.controlPoint1[0]=_12;_7.controlPoint1[1]=_13;_2.$114d(_7.endPoint,_7,_6);_2.$156z(_7,"global","local");var _8=_7.startPoint,_9=_7.controlPoint1,_10=_7.controlPoint2;_2.$156y(isc.DrawItem.$1503(_8[0]),isc.DrawItem.$1503(_8[1]),isc.DrawItem.$1503(_9[0]),isc.DrawItem.$1503(_9[1]),isc.DrawItem.$1503(_10[0]),isc.DrawItem.$1503(_10[1]),_2.endPoint[0],_2.endPoint[1],null,null)}else{var v=_2.$136i(_12,_13,"global","local");_2.$156y(_3[0],_3[1],isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1),_4[0],_4[1],_5[0],_5[1],null,null)}
if(_16=="stop"){delete _2.$114i;delete _2.$114j;delete _2.$114k}}})}
if(this.$64c==null||this.$64c.destroyed){var w=this.$136i(this.startPoint[0],this.startPoint[1],"local","global");this.$64c=this.createAutoChild("c1Line",{_constructor:"DrawLine",startLeft:w.v0,startTop:w.v1,endLeft:v.v0,endTop:v.v1,drawPane:this.drawPane,autoDraw:true,$145w:true,exemptFromGlobalTransform:true,$1502:function(){var _2=this.creator,v=_2.$136i(_2.startPoint[0],_2.startPoint[1],"local","global"),w=_2.$136i(_2.controlPoint1[0],_2.controlPoint1[1],"local","global");this.$1487(v.v0,v.v1,w.v0,w.v1,null,null)}})}},isc.A.hideControlPoint1Knobs=function isc_DrawCurve_hideControlPoint1Knobs(){if(this.$64b){this.$64b.destroy();delete this.$64b}
if(this.$64c){this.$64c.erase();delete this.$64c}},isc.A.showControlPoint2Knobs=function isc_DrawCurve_showControlPoint2Knobs(){if(this.$64d==null||this.$64d.destroyed){var v=this.$136i(this.controlPoint2[0],this.controlPoint2[1],"local","global");this.$64d=this.createAutoChild("c2Knob",{x:v.v0,y:v.v1,drawPane:this.drawPane,resetKnobPosition:function(){var _2=this.creator,v=_2.$136i(_2.controlPoint2[0],_2.controlPoint2[1],"local","global");this.setCenterPoint(v.v0,v.v1,false)},updatePoints:function(_12,_13,_14,_15,_16){var _2=this.creator;if(_16=="start"){_2.$114l=_2.startPoint.duplicate();_2.$114m=_2.controlPoint1.duplicate();_2.$114n=_2.endPoint.duplicate()}
var _3=_2.$114l,_4=_2.$114m,_5=_2.$114n;if(_2.keepInParentRect){var _6=_2.$113u(),_7={startPoint:_3.duplicate(),controlPoint1:_4.duplicate(),controlPoint2:[0,0],endPoint:_5.duplicate()};_2.$156z(_7,"local","global");_7.controlPoint2[0]=_12;_7.controlPoint2[1]=_13;_2.$114d(_7.startPoint,_7,_6);_2.$156z(_7,"global","local");var _8=_7.controlPoint1,_9=_7.controlPoint2,_10=_7.endPoint;_2.$156y(_2.startPoint[0],_2.startPoint[1],isc.DrawItem.$1503(_8[0]),isc.DrawItem.$1503(_8[1]),isc.DrawItem.$1503(_9[0]),isc.DrawItem.$1503(_9[1]),isc.DrawItem.$1503(_10[0]),isc.DrawItem.$1503(_10[1]),null,null)}else{var v=_2.$136i(_12,_13,"global","local");_2.$156y(_3[0],_3[1],_4[0],_4[1],isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1),_5[0],_5[1],null,null)}
if(_16=="stop"){delete _2.$114l;delete _2.$114m;delete _2.$114n}}})}
if(this.$64e==null||this.$64e.destroyed){this.$64e=this.createAutoChild("c2Line",{_constructor:"DrawLine",startLeft:this.endPoint[0],startTop:this.endPoint[1],endLeft:this.controlPoint2[0],endTop:this.controlPoint2[1],drawPane:this.drawPane,autoDraw:true,$145w:true,exemptFromGlobalTransform:true,$1502:function(){var _2=this.creator,v=_2.$136i(_2.endPoint[0],_2.endPoint[1],"local","global"),w=_2.$136i(_2.controlPoint2[0],_2.controlPoint2[1],"local","global");this.$1487(v.v0,v.v1,w.v0,w.v1,null,null)}})}},isc.A.hideControlPoint2Knobs=function isc_DrawCurve_hideControlPoint2Knobs(){if(this.$64d){this.$64d.destroy();delete this.$64d}
if(this.$64e){this.$64e.erase();delete this.$64e}},isc.A.updateControlKnobs=function isc_DrawCurve_updateControlKnobs(){this.Super("updateControlKnobs",arguments);if(this.$639||this.$64c){var v=this.$136i(this.startPoint[0],this.startPoint[1],"local","global");if(this.$64c){this.$64c.setStartPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1))}
if(this.$639){this.$639.setCenterPoint(v.v0,v.v1)}}
if(this.$64a||this.$64e){var v=this.$136i(this.endPoint[0],this.endPoint[1],"local","global");if(this.$64e){this.$64e.setStartPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1))}
if(this.$64a){this.$64a.setCenterPoint(v.v0,v.v1)}}
if(this.$64b){var v=this.$136i(this.controlPoint1[0],this.controlPoint1[1],"local","global");this.$64c.setEndPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1));this.$64b.setCenterPoint(v.v0,v.v1)}
if(this.$64d){var v=this.$136i(this.controlPoint2[0],this.controlPoint2[1],"local","global");this.$64e.setEndPoint(isc.DrawItem.$1503(v.v0),isc.DrawItem.$1503(v.v1));this.$64d.setCenterPoint(v.v0,v.v1)}},isc.A.moveStartPointTo=function isc_DrawCurve_moveStartPointTo(_1,_2){this.$147y(_1,_2,this.startPoint[0],this.startPoint[1])},isc.A.$147w=function isc_DrawCurve__updateLocalTransform(_1,_2,_3,_4,_5){if(this.resizeViaLocalTransformOnly){this.Super("$147w",[_1,_2,_3,_4,_5]);return}
var _6=1e-9;if(Math.abs(_1.getDeterminant())>_6){var _7=_4.invLocalTransform;if(_7==null){this.Super("$147w",[isc.AffineTransform.$147g(),_2,_3,_4,false])}else{_1.leftMultiply(_7);var _8=this.translate=(this.translate||new Array(2)),_9=this.scale=(this.scale||new Array(2));_8[0]=_4.translateX;_8[1]=_4.translateY;_9[0]=_4.scaleX;_9[1]=_4.scaleY;this.xShearFactor=_4.xShearFactor;this.yShearFactor=_4.yShearFactor;this.rotation=_4.rotation}
var _10=_1.transform(_4.startLeft,_4.startTop);this.startPoint[0]=_10.v0;this.startPoint[1]=_10.v1;var _11=_1.transform(_4.control1Left,_4.control1Top);this.controlPoint1[0]=_11.v0;this.controlPoint1[1]=_11.v1;var _12=_1.transform(_4.control2Left,_4.control2Top);this.controlPoint2[0]=_12.v0;this.controlPoint2[1]=_12.v1;var _13=_1.transform(_4.endLeft,_4.endTop);this.endPoint[0]=_13.v0;this.endPoint[1]=_13.v1;var _14=this.$147l();this.$147x(_2,_3,_14.cx,_14.cy);if(!isc.Browser.$141c){this.$1420()}
if(this.drawingVML){var _15=this.$154s;if(_2!=_14.cx||_3!=_14.cy){delete this.$1348;_15.setProperty("transform",this.$1339())}
_15.setProperty("fromX",this.startPoint[0]).setProperty("fromY",this.startPoint[1]).setProperty("control1X",this.controlPoint1[0]).setProperty("control1Y",this.controlPoint1[1]).setProperty("control2X",this.controlPoint2[0]).setProperty("control2Y",this.controlPoint2[1]).setProperty("toX",this.endPoint[0]).setProperty("toY",this.endPoint[1]).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s()}else{this.Super("$147w",[_1,_2,_3,_4,_5])}},isc.A.$147m=function isc_DrawCurve__saveShape(){var _1=0,_2=0,_3=1,_4=1,_5=this.xShearFactor||0,_6=this.yShearFactor||0,_7=this.rotation||0;if(this.translate){_1=this.translate[0];_2=this.translate[1]}
if(this.scale&&this.scale.length===2){_3=this.scale[0];_4=this.scale[1]}
return{startLeft:this.startPoint[0],startTop:this.startPoint[1],control1Left:this.controlPoint1[0],control1Top:this.controlPoint1[1],control2Left:this.controlPoint2[0],control2Top:this.controlPoint2[1],endLeft:this.endPoint[0],endTop:this.endPoint[1],invLocalTransform:this.$1476(),translateX:_1,translateY:_2,scaleX:_3,scaleY:_4,xShearFactor:_5,yShearFactor:_6,rotation:_7}});isc.B._maxIndex=isc.C+45;isc.defineClass("DrawBlockConnector","DrawCurve");isc.defineClass("DrawPath","DrawItem");isc.A=isc.DrawPath.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.points=[[0,0],[100,100]];isc.A.svgElementName="polyline";isc.A.$1543=new isc.VMLRenderer.shapeConfig();isc.B.push(isc.A.init=function isc_DrawPath_init(){this.points=isc.clone(this.points);this.$1433();this.Super("init",arguments)},isc.A.getBoundingBox=function isc_DrawPath_getBoundingBox(_1,_2){var _3=(_2||new Array(4));_3[0]=this._left;_3[1]=this._top;_3[2]=this._right;_3[3]=this._bottom;return _1!=true?_3:this.$147b(true,false,_3)},isc.A.$147c=function isc_DrawPath__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=(_4||new Array(4));var _6=(_2&&this.$125h()?(this.lineWidth/2):0),_7=(_3?this.hitTolerance:0),_8=_6+_7;var _9=this.points,_10=this.$149u,_11=0,_12=0,_13=0,_14=0;if(_10==null){_11=this._left;_12=this._top;_13=this._right;_14=this._bottom}else{var _15=_1.m00,_16=_1.m01,_17=_1.m02,_18=_1.m10,_19=_1.m11,_20=_1.m12;for(var i=0,h=_10.length;i<h;++i){var _23=_9[_10[i]],u=_23[0],v=_23[1],x=_15*u+_16*v+_17,y=_18*u+_19*v+_20;if(i==0){_11=_13=x;_12=_14=y}else{if(x<_11)_11=x;else if(_13<x)_13=x;if(y<_12)_12=y;else if(_14<y)_14=y}}}
_5[0]=_11;_5[1]=_12;_5[2]=_13;_5[3]=_14;if(_8!=0){var _28=_8*isc.Math.$101k(_15,_16),_29=_8*isc.Math.$101k(_18,_19);_5[0]-=_28;_5[1]-=_29;_5[2]+=_28;_5[3]+=_29}
return _5},isc.A.getPathSVG=function isc_DrawPath_getPathSVG(){if(this.points==null||this.points.length==0)return"";var _1="M ",i,_3=this.points[0];_1+=_3[0]+" "+_3[1]+" ";for(i=1;i<this.points.length;++i){_3=this.points[i];_1+=" L "+_3[0]+" "+_3[1]}
return _1},isc.A.getAttributesSVG=function isc_DrawPath_getAttributesSVG(){var _1=this.getPointsText();return"points='"+_1+"'"},isc.A.getPointsText=function isc_DrawPath_getPointsText(){var _1=isc.StringBuffer.create();this.$149n(_1);return _1.release(false)},isc.A.$149n=function isc_DrawPath__getPointsText(_1){var _2=this.points;if(_2==null)return;for(var i=0,_4=_2.length;i<_4;++i){if(i>0){_1.append(" ")}
_1.append(_2[i][0]," ",_2[i][1])}},isc.A.$154t=function isc_DrawPath__renderVML(_1,_2,_3){var _4=this.$1543;isc.VMLRenderer.drawItemToShapeConfig(this,_4);this.$154s=_1.polyline(_2,_4)},isc.A.drawBitmapPath=function isc_DrawPath_drawBitmapPath(_1){var _2=this.points;if(_2==null||_2.length==0)return;var _3,_4=10,_5=_2.length-1,_6,_7;if(this.startArrow=="open"){_1.save();_1.beginPath();_1.strokeStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_3=this.computeAngle(_2[0][0],_2[0][1],_2[1][0],_2[1][1]);_6=_2[0][0];_7=_2[0][1];_1.scale(1,1);_1.translate(_6,_7);_1.rotate(_3*this.$125w);this.bmMoveTo(_4,-_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(_4,_4,_1);_1.stroke();_1.restore()}else if(this.startArrow=="block"){_1.save();_1.beginPath();_1.fillStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_3=this.computeAngle(_2[0][0],_2[0][1],_2[1][0],_2[1][1]);_6=_2[0][0];_7=_2[0][1];_1.translate(_6,_7);_1.rotate(_3*this.$125w);this.bmMoveTo(_4,-_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(_4,_4,_1);_1.closePath();_1.fill();_1.stroke();_1.restore()}
if(this.endArrow=="open"){_1.save();_1.beginPath();_1.strokeStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_3=this.computeAngle(_2[_5-1][0],_2[_5-1][1],_2[_5][0],_2[_5][1]);_6=_2[_5][0];_7=_2[_5][1];_1.translate(_6,_7);_1.rotate(_3*this.$125w);this.bmMoveTo(-_4,_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(-_4,-_4,_1);_1.stroke();_1.restore()}else if(this.endArrow=="block"){_1.save();_1.beginPath();_1.fillStyle=this.lineColor;_1.lineWidth=this.lineWidth;_1.lineCap="round";_3=this.computeAngle(_2[_5-1][0],_2[_5-1][1],_2[_5][0],_2[_5][1]);_6=_2[_5][0];_7=_2[_5][1];_1.translate(_6,_7);_1.rotate(_3*this.$125w);this.bmMoveTo(-_4,_4,_1);this.bmLineTo(0,0,_1);this.bmLineTo(-_4,-_4,_1);_1.closePath();_1.fill();_1.restore()}
this.bmMoveTo(_2[0][0],_2[0][1],_1);for(var i=1;i<_2.length;i++){var _9=_2[i];if(this.linePattern.toLowerCase()!=="solid"){this.$85x(_2[i-1][0],_2[i-1][1],_2[i][0],_2[i][1],_1)}else{this.bmLineTo(_9[0],_9[1],_1)}}},isc.A.getCenter=function isc_DrawPath_getCenter(){return[isc.DrawItem.$1503(this.$149v),isc.DrawItem.$1503(this.$149w)]},isc.A.setPoints=function isc_DrawPath_setPoints(_1){this.points=_1;this.$1433();this.$152a(false);this.$143s()},isc.A.$152a=function isc_DrawPath__redrawAfterSetPoints(_1){if(this.drawingVML){if(_1){delete this.$1348;this.$154s.setProperty("transform",this.$1339())}
this.$154s.setProperty("points",this.points).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.getPathSVG())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}},isc.A.$1433=function isc_DrawPath__initBoundingParams(){var _1=this.points,_2=_1[0];if(_2==null){this._left=this.$126i[0],this._top=this.$126i[1],this._right=this.$126i[2],this._bottom=this.$126i[3];if(isc.isA.DrawDiamond(this)){this.left=isc.DrawItem.$1503(this._left);this.top=isc.DrawItem.$1503(this._top);this.width=isc.DrawItem.$1503(this._right)-this.left;this.height=isc.DrawItem.$1503(this._bottom)-this.top}
this.$149v=0;this.$149w=0;this.$149u=null;return}
var n=_1.length,_4=new Array(n);for(var i=n;i--;){_4[i]=i}
for(var i=1;i<n;++i){var j=i,p=_1[_4[j-1]],q=_1[_4[j]];while(p[0]>q[0]||(p[0]==q[0]&&p[1]>q[1])){var _9=_4[j-1];_4[j-1]=_4[j];_4[j]=_9;--j;if(j>0){p=_1[_4[j-1]];q=_1[_4[j]]}else{break}}}
var _10=_1[_4[0]][0],_11=_1[_4[_4.length-1]][0],_12=_1[0][1],_13=_12,_14=[],k=0;for(var i=0;i<n;++i){var j=_4[i],p=_1[j],_16=p[0],_17=p[1];if(_17<_12){_12=_17}else if(_13<_17){_13=_17}
while(k>1){var q=_1[_14[k-2]],r=_1[_14[k-1]],_19=(r[0]-q[0])*(_17-r[1])-(_16-r[0])*(r[1]-q[1]);if(_19<=0){--k}else{break}}
_14[k++]=j}
--k;var l=1,_21=0,_22=0;for(var i=n;i--;){var j=_4[i],p=_1[j],_16=p[0],_17=p[1];while(l>1){var m=k+l,q=_1[_14[m-2]],r=_1[_14[m-1]],_19=(r[0]-q[0])*(_17-r[1])-(_16-r[0])*(r[1]-q[1]);if(_19<=0){--l}else{break}}
_14[k+(l++)]=j;_21+=_16;_22+=_17}
_14.length=k+l-1;this._left=_10;this._top=_12;this._right=_11;this._bottom=_13;if(isc.isA.DrawDiamond(this)){this.left=isc.DrawItem.$1503(this._left);this.top=isc.DrawItem.$1503(this._top);this.width=isc.DrawItem.$1503(this._right)-this.left;this.height=isc.DrawItem.$1503(this._bottom)-this.top}
this.$149v=(n>0?(_21/n):0);this.$149w=(n>0?(_22/n):0);this.$149u=_14},isc.A.moveFirstPointTo=function isc_DrawPath_moveFirstPointTo(_1,_2){var _3=this.points[0];this.$147y(_1,_2,_3[0],_3[1])},isc.A.$147w=function isc_DrawPath__updateLocalTransform(_1,_2,_3,_4,_5){if(this.resizeViaLocalTransformOnly){this.Super("$147w",[_1,_2,_3,_4,_5]);return}
var _6=1e-9,_7=this.points,_8=_7.length,_9=this.$149u;if(_8>0&&_9!=null&&Math.abs(_1.getDeterminant())>_6&&this.getClass().getClassName()!=="DrawLinePath")
{var _10=_4.invLocalTransform;if(_10==null){this.Super("$147w",[isc.AffineTransform.$147g(),_2,_3,_4,false])}else{var _11=this.translate=(this.translate||new Array(2)),_12=this.scale=(this.scale||new Array(2));_11[0]=_4.translateX;_11[1]=_4.translateY;_12[0]=_4.scaleX;_12[1]=_4.scaleY;this.xShearFactor=_4.xShearFactor;this.yShearFactor=_4.yShearFactor;this.rotation=_4.rotation}
var _13=_4.points,_14=_1.m00,_15=_1.m01,_16=_1.m02,_17=_1.m10,_18=_1.m11,_19=_1.m12,_20=isc.Math.$101k(_14,_15),_21=isc.Math.$101k(_17,_18),_22=_14,_23=_15,_24=_16,_25=_17,_26=_18,_27=_19;if(_10!=null){_1.leftMultiply(_10);_22=_1.m00;_23=_1.m01;_24=_1.m02;_25=_1.m10;_26=_1.m11;_27=_1.m12}
var _28=(this.$125h()?(this.lineWidth/2):0);if(!(_28==0||(_22==1&&_23==0&&_25==0&&_26==1))){var _29=2*_28;var _30=0,_31=0,_32=0,_33=0;for(var i=0,h=_9.length;i<h;++i){var j=2*_9[i],u=_13[j],v=_13[j+1],x=_14*u+_15*v+_16,y=_17*u+_18*v+_19;if(i==0){_30=_31=x;_32=_33=y}else{if(x<_30)_30=x;else if(_31<x)_31=x;if(y<_32)_32=y;else if(_33<y)_33=y}}
var _41=_31-_30,_42=_33-_32;var _43=1,_44=1;if(_10!=null){var _45=_4.localTransform;_43=isc.Math.$101k(_45.m00,_45.m01);_44=isc.Math.$101k(_45.m10,_45.m11)}
var _46=(_41+_43*_29)/(_41+_20*_29),_47=(_42+_44*_29)/(_42+_21*_29);var _48=_29*_29,_49=_43*_29,_50=_44*_29,_51=((_20-_43)*(_20+_43)*_48+_41*(2*_49-_41)),_52=_41*(_41-_49),_53=(_41<=_49?-1:1),_54=_20*_29*_41,_55=((_21-_44)*(_21+_44)*_48+_42*(2*_50-_42)),_56=_42*(_42-_50),_57=(_42<=_50?-1:1),_58=_21*_29*_42;if(_51!=0){var _59=-(_52+_53*_54)/_51,_60=-(2*_52/_51+_59);if(_59>0&&(_60<=0||Math.abs(_46-_59)<Math.abs(_46-_60)))
{_46=_59}else if(_60>0){_46=_60}}else if(_53==1){_46=_41/(2*(_41-_49))}
if(_55!=0){var _61=-(_56+_57*_58)/_55,_62=-(2*_56/_55+_61);if(_61>0&&(_62<=0||Math.abs(_47-_61)<Math.abs(_47-_62)))
{_47=_61}else if(_62>0){_47=_62}}else if(_57==1){_47=_42/(2*(_42-_44*_29))}
var _63=(1-_46)*(_30+_31)/2,_64=(1-_47)*(_32+_33)/2;_1.m00=_14/_46;_1.m01=_15/_46;_1.m02=(_16-_63)/_46;_1.m10=_17/_47;_1.m11=_18/_47;_1.m12=(_19-_64)/_47;if(_10!=null){_1.leftMultiply(_10)}
_22=_1.m00;_23=_1.m01;_24=_1.m02;_25=_1.m10;_26=_1.m11;_27=_1.m12}
var _65=0,_66=0,_67=0,_68=0;for(var i=0,h=_9.length;i<h;++i){var j=2*_9[i],u=_13[j],v=_13[j+1],x=_22*u+_23*v+_24,y=_25*u+_26*v+_27;if(i==0){_65=_66=x;_67=_68=y}else{if(x<_65)_65=x;else if(_66<x)_66=x;if(y<_67)_67=y;else if(_68<y)_68=y}}
this._left=_65;this._top=_67;this._right=_66;this._bottom=_68;var _69=isc.isA.DrawDiamond(this);if(_69){this.left=isc.DrawItem.$1503(this._left);this.top=isc.DrawItem.$1503(this._top);this.width=isc.DrawItem.$1503(this._right)-this.left;this.height=isc.DrawItem.$1503(this._bottom)-this.top}
this.$149v=_22*_4.centerX+_23*_4.centerY+_24;this.$149w=_25*_4.centerX+_26*_4.centerY+_27;for(var i=0,j=0;i<_8;++i,j+=2){var _70=_7[i],u=_13[j],v=_13[j+1];_70[0]=_22*u+_23*v+_24;_70[1]=_25*u+_26*v+_27;if(_69){_70[0]=isc.DrawItem.$1503(_70[0]);_70[1]=isc.DrawItem.$1503(_70[1])}}
var _71=this.$147l();this.$147x(_2,_3,_71.cx,_71.cy);this.$152a(this.drawingVML&&(_2!=_71.cx||_3!=_71.cy));if(_5){this.$143s()}}else{this.Super("$147w",[_1,_2,_3,_4,_5])}},isc.A.$147m=function isc_DrawPath__saveShape(){var _1=this.points,n=_1.length,_3=new Array(n*2);for(var i=0,j=0;i<n;++i,j+=2){var _6=_1[i];_3[j]=_6[0];_3[j+1]=_6[1]}
var _7=0,_8=0,_9=1,_10=1,_11=this.xShearFactor||0,_12=this.yShearFactor||0,_13=this.rotation||0;if(this.translate){_7=this.translate[0];_8=this.translate[1]}
if(this.scale&&this.scale.length===2){_9=this.scale[0];_10=this.scale[1]}
return{points:_3,centerX:this.$149v,centerY:this.$149w,localTransform:this.$1339(),invLocalTransform:this.$1476(),translateX:_7,translateY:_8,scaleX:_9,scaleY:_10,xShearFactor:_11,yShearFactor:_12,rotation:_13}});isc.B._maxIndex=isc.C+16;isc.defineClass("DrawPolygon","DrawPath");isc.A=isc.DrawPolygon.getPrototype();isc.A.points=[[0,0],[50,50],[100,0]];isc.A.lineCap="butt";isc.A.svgElementName="path";isc.A=isc.DrawPolygon.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.$1544=new isc.VMLRenderer.shapeConfig();isc.B.push(isc.A.$149n=function isc_DrawPolygon__getPointsText(_1){var _2=this.points;for(var i=0,_4=_2.length;i<_4;++i){_1.append(_2[i][0]," ",_2[i][1]," ")}
_1.append(_2[0][0]," ",_2[0][1])},isc.A.getPathSVG=function isc_DrawPolygon_getPathSVG(){return this.Super("getPathSVG",arguments)+" Z"},isc.A.getAttributesSVG=function isc_DrawPolygon_getAttributesSVG(){return"d='"+this.getPathSVG()+"'"},isc.A.$154t=function isc_DrawPolygon__renderVML(_1,_2,_3){var _4=this.$1544;isc.VMLRenderer.drawItemToShapeConfig(this,_4);_4.closePolyline=true;this.$154s=_1.polyline(_2,_4)},isc.A.drawBitmapPath=function isc_DrawPolygon_drawBitmapPath(_1){var _2=this.points;this.bmMoveTo(_2[0][0],_2[0][1],_1);for(var i=1;i<_2.length;i++){var _4=_2[i];this.bmLineTo(_4[0],_4[1],_1)}
_1.closePath()});isc.B._maxIndex=isc.C+5;isc.DrawPolygon.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.defineClass("DrawTriangle","DrawPolygon");isc.A=isc.DrawTriangle.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.getCenter=function isc_DrawTriangle_getCenter(){var a=isc.Math.euclideanDistance(this.points[1],this.points[2]),b=isc.Math.euclideanDistance(this.points[0],this.points[2]),c=isc.Math.euclideanDistance(this.points[0],this.points[1]),P=a+b+c,u=[a,b,c],_6=[this.points[0][0],this.points[1][0],this.points[2][0]],_7=[this.points[0][1],this.points[1][1],this.points[2][1]],_8=[isc.Math.$fr(u,_6)/P,isc.Math.$fr(u,_7)/P];return _8});isc.B._maxIndex=isc.C+1;isc.defineClass("DrawDiamond","DrawPolygon");isc.A=isc.DrawDiamond;isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.$1509=function isc_c_DrawDiamond__getPoints(_1,_2,_3,_4){var _5=isc.DrawItem.$1503(_1+_3/2),_6=isc.DrawItem.$1503(_2+_4/2);return[[_5,_2],[_1+_3,_6],[_5,_2+_4],[_1,_6]]});isc.B._maxIndex=isc.C+1;isc.A=isc.DrawDiamond.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.left=0;isc.A.top=0;isc.A.width=100;isc.A.height=100;isc.B.push(isc.A.init=function isc_DrawDiamond_init(){this.points=isc.DrawDiamond.$1509(this.left,this.top,this.width,this.height);this.Super("init")},isc.A.setLeft=function isc_DrawDiamond_setLeft(_1){this.$151a(_1,this.top,this.width,this.height)},isc.A.setTop=function isc_DrawDiamond_setTop(_1){this.$151a(this.left,_1,this.width,this.height)},isc.A.setWidth=function isc_DrawDiamond_setWidth(_1){this.$151a(this.left,this.top,_1,this.height)},isc.A.setHeight=function isc_DrawDiamond_setHeight(_1){this.$151a(this.left,this.top,this.width,_1)},isc.A.$151a=function isc_DrawDiamond__setRect(_1,_2,_3,_4){this.left=_1;this.top=_2;this.width=_3;this.height=_4;this.setPoints(isc.DrawDiamond.$1509(_1,_2,_3,_4))});isc.B._maxIndex=isc.C+6;isc.defineClass("DrawLinePath","DrawPath");isc.A=isc.DrawLinePath.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.connectorStyle="diagonal";isc.A.connectorOrientation="auto";isc.A.startPoint=[0,0];isc.A.endPoint=[100,100];isc.A.controlPoint1=null;isc.A.controlPoint2=null;isc.A.tailSize=30;isc.A.startArrow=null;isc.A.endArrow="open";isc.A.showResizeKnobs=null;isc.A.hideResizeKnobs=null;isc.A.showMoveKnobs=null;isc.A.hideMoveKnobs=null;isc.A.showStartPointKnobs=isc.DrawLine.getPrototype().showStartPointKnobs;isc.A.hideStartPointKnobs=isc.DrawLine.getPrototype().hideStartPointKnobs;isc.A.showEndPointKnobs=isc.DrawLine.getPrototype().showEndPointKnobs;isc.A.hideEndPointKnobs=isc.DrawLine.getPrototype().hideEndPointKnobs;isc.B.push(isc.A.init=function isc_DrawLinePath_init(){this.startPoint=this.startPoint.duplicate();this.endPoint=this.endPoint.duplicate();this.startLeft=(this.startLeft==0?0:(this.startLeft||this.startPoint[0]));this.startTop=(this.startTop==0?0:(this.startTop||this.startPoint[1]));this.endLeft=(this.endLeft==0?0:(this.endLeft||this.endPoint[0]));this.endTop=(this.endTop==0?0:(this.endTop||this.endPoint[1]));this.points=this.$45e(this.controlPoint1,this.controlPoint2);this.Super("init")},isc.A.getConnectorOrientationState=function isc_DrawLinePath_getConnectorOrientationState(){var _1=this.connectorOrientation;if(_1==="auto"){var _2=Math.abs(this.endLeft-this.startLeft),_3=Math.abs(this.endTop-this.startTop);_1=(_2>=_3?"horizontal":"vertical")}
return _1},isc.A.$45e=function isc_DrawLinePath__getSegmentPoints(_1,_2){var _3=[this.startLeft,this.startTop];var _4=[this.endLeft,this.endTop];var _5=this.getConnectorOrientationState();var _6=this.connectorStyle;var _7=this.tailSize;if(_5==="horizontal"){if(_6==="rightAngle"){if(this.controlPoint1==null){_7=this.startLeft<=this.endLeft?-this.tailSize:this.tailSize}else{_7=this.startLeft-this.controlPoint1[0]}
_1=[this.startLeft-_7,this.startTop];_2=[this.startLeft-_7,this.endTop]}else{if(this.startLeft<=this.endLeft){_7=-_7}
_1=_1||[this.startLeft-_7,this.startTop];_2=_2||[this.endLeft+_7,this.endTop]}}
if(_5==="vertical"){if(_6==="rightAngle"){if(this.controlPoint1==null){_7=this.startTop<=this.endTop?-this.tailSize:this.tailSize}else{_7=this.startTop-this.controlPoint1[1]}
_1=[this.startLeft,this.startTop-_7];_2=[this.endLeft,this.startTop-_7]}else{if(this.startTop<=this.endTop){_7=-_7}
_1=_1||[this.startLeft,this.startTop-_7];_2=_2||[this.endLeft,this.endTop+_7]}}
if(_6==="rightAngle"){this.controlPoint1=this.getCenter(_1,_2)}else{this.controlPoint1=_1;this.controlPoint2=_2}
this.$45f=[_3,_1,_2,_4];return this.$45f},isc.A.$63r=function isc_DrawLinePath__drawLineStartArrow(){return this.startArrow=="open"},isc.A.$63s=function isc_DrawLinePath__drawLineEndArrow(){return this.endArrow=="open"},isc.A.getCenter=function isc_DrawLinePath_getCenter(_1,_2){var _3=_1||this.startPoint;var _4=_2||this.endPoint;return[_3[0]+isc.DrawItem.$1503((_4[0]-_3[0])/2),_3[1]+isc.DrawItem.$1503((_4[1]-_3[1])/2)]},isc.A.setStartPoint=function isc_DrawLinePath_setStartPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.startLeft=this.startPoint[0]=_1;this.startTop=this.startPoint[1]=_2;this.setPoints(this.$45e(null,this.controlPoint2))},isc.A.setEndPoint=function isc_DrawLinePath_setEndPoint(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.endLeft=this.endPoint[0]=_1;this.endTop=this.endPoint[1]=_2;this.setPoints(this.$45e(this.controlPoint1,null))},isc.A.setControlPoint1=function isc_DrawLinePath_setControlPoint1(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.controlPoint1[0]=_1;this.controlPoint1[1]=_2;this.setPoints(this.$45e(this.controlPoint1,this.controlPoint2))},isc.A.setControlPoint2=function isc_DrawLinePath_setControlPoint2(_1,_2){if(isc.isAn.Array(_1)){_2=_1[1];_1=_1[0]}
this.controlPoint2[0]=_1;this.controlPoint2[1]=_2;this.setPoints(this.$45e(this.controlPoint1,this.controlPoint2))},isc.A.getBoundingBox=function isc_DrawLinePath_getBoundingBox(_1,_2){var _3=this.startPoint[0],_4=this.startPoint[1],_5=this.endPoint[0],_6=this.endPoint[1],_7=(_2||new Array(4));_7[0]=Math.min(_3,_5);_7[1]=Math.min(_4,_6);_7[2]=Math.max(_3,_5);_7[3]=Math.max(_4,_6);return _1!=true?_7:this.$147b(true,false,_7)},isc.A.showControlPoint1Knobs=function isc_DrawLinePath_showControlPoint1Knobs(){if(this.$64b==null||this.$64b.destroyed){this.$64b=this.createAutoChild("c1Knob",{_constructor:"DrawKnob",x:this.controlPoint1[0],y:this.controlPoint1[1],drawPane:this.drawPane,resetKnobPosition:function(){var _1=this.creator;this.setCenterPoint(_1.controlPoint1[0],_1.controlPoint1[1],false)},updatePoints:function(_3,_4,_5,_6,_7){var _1=this.creator,_2=_1.getConnectorOrientationState();if(_2==="horizontal"){_4-=_6}else{_3-=_5}
_1.setControlPoint1(isc.DrawItem.$1503(_3),isc.DrawItem.$1503(_4))}})}},isc.A.hideControlPoint1Knobs=function isc_DrawLinePath_hideControlPoint1Knobs(){if(this.$64b){this.$64b.destroy();delete this.$64b}},isc.A.showControlPoint2Knobs=function isc_DrawLinePath_showControlPoint2Knobs(){if(this.connectorStyle==="diagonal"&&(this.$64d==null||this.$64d.destroyed)){this.$64d=this.createAutoChild("c2Knob",{_constructor:"DrawKnob",x:this.controlPoint2[0],y:this.controlPoint2[1],drawPane:this.drawPane,resetKnobPosition:function(){var _1=this.creator;this.setCenterPoint(_1.controlPoint2[0],_1.controlPoint2[1],false)},updatePoints:function(_3,_4,_5,_6,_7){var _1=this.creator,_2=_1.getConnectorOrientationState();if(_2==="horizontal"){_4-=_6}else{_3-=_5}
_1.setControlPoint2(isc.DrawItem.$1503(_3),isc.DrawItem.$1503(_4))}})}},isc.A.hideControlPoint2Knobs=function isc_DrawLinePath_hideControlPoint2Knobs(){if(this.$64d){this.$64d.destroy();delete this.$64d}},isc.A.updateStartPointKnob=function isc_DrawLinePath_updateStartPointKnob(){if(this.$639){var _1=this.startLeft,_2=this.startTop,_3=this.drawPane.drawing2screen([_1,_2,0,0]);this.$639.setCenterPoint(_3[0],_3[1])}},isc.A.updateEndPointKnob=function isc_DrawLinePath_updateEndPointKnob(){if(this.$64a){var _1=this.endLeft,_2=this.endTop,_3=this.drawPane.drawing2screen([_1,_2,0,0]);this.$64a.setCenterPoint(_3[0],_3[1])}},isc.A.updateControlPoint1Knob=function isc_DrawLinePath_updateControlPoint1Knob(){if(this.$64b){var _1=this.controlPoint1[0],_2=this.controlPoint1[1];var _3=this.drawPane.drawing2screen([_1,_2,0,0]);this.$64b.setCenterPoint(_3[0],_3[1])}},isc.A.updateControlPoint2Knob=function isc_DrawLinePath_updateControlPoint2Knob(){if(this.$64d){var _1=this.controlPoint2[0],_2=this.controlPoint2[1];var _3=this.drawPane.drawing2screen([_1,_2,0,0]);this.$64d.setCenterPoint(_3[0],_3[1])}},isc.A.updateControlKnobs=function isc_DrawLinePath_updateControlKnobs(){this.Super("updateControlKnobs",arguments);this.updateStartPointKnob();this.updateEndPointKnob();this.updateControlPoint1Knob();this.updateControlPoint2Knob()},isc.A.moveStartPointTo=function isc_DrawLinePath_moveStartPointTo(_1,_2){this.$147y(_1,_2,this.startLeft,this.startTop)},isc.A.$147w=function isc_DrawLinePath__updateLocalTransform(_1,_2,_3,_4,_5){if(this.resizeViaLocalTransformOnly){this.Super("$147w",[_1,_2,_3,_4,_5]);return}
var _6=1e-9,_7=_1.getDeterminant();if(Math.abs(_7)>_6){var _8=isc.DrawItem.$1503(_1.m02*_1.m11-_1.m12*_1.m01),_9=isc.DrawItem.$1503(_1.m12*_1.m00-_1.m02*_1.m10);this.Super("$147w",[_1.rightMultiply(isc.AffineTransform.getTranslateTransform(-_8,-_9)),_2,_3,_4,false]);this.startLeft+=_8;this.startPoint[0]+=_8;this.startTop+=_9;this.startPoint[1]+=_9;this.endLeft+=_8;this.endPoint[0]+=_8;this.endTop+=_9;this.endPoint[1]+=_9;this.controlPoint1[0]+=_8;this.controlPoint1[1]+=_9;this.controlPoint2[0]+=_8;this.controlPoint2[1]+=_9;var _10=this.$147l();this.$147x(_2,_3,_10.cx,_10.cy);if(this.drawingVML&&(_2!=_10.cx||_3!=_10.cy)){delete this.$1348;this.$154s.setProperty("transform",this.$1339())}
this.setPoints(this.$45e(this.controlPoint1,this.controlPoint2))}else{this.Super("$147w",[_1,_2,_3,_4,_5])}});isc.B._maxIndex=isc.C+22;isc.defineClass("DrawShape","DrawItem");isc.A=isc.DrawShape;isc.A.$1252="close";isc.A.$1253="moveto";isc.A.$1254="lineto";isc.A.$1255="circleto";isc.A=isc.DrawShape.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.svgElementName="path";isc.A.$1252=isc.DrawShape.$1252;isc.A.$1253=isc.DrawShape.$1253;isc.A.$1254=isc.DrawShape.$1254;isc.A.$1255=isc.DrawShape.$1255;isc.A.$1545=new isc.VMLRenderer.shapeConfig();isc.A.$1258=["d='"];isc.B.push(isc.A.setCommands=function isc_DrawShape_setCommands(_1){this.commands=_1;if(this.drawingVML){this.$154s.setProperty("$126a",undefined).flush()}else if(this.drawingSVG){this.$44z.setAttributeNS(null,"d",this.$126b())}else if(this.drawingBitmap){this.drawPane.redrawBitmap()}
this.$143s();this.$1433()},isc.A.$1433=function isc_DrawShape__initBoundingParams(_1){var _2=this.getBoundingBox(false,this.$145i);this.left=_2[0];this.top=_2[1];this.width=_2[2]-_2[0];this.height=_2[3]-_2[1]},isc.A.getBoundingBox=function isc_DrawShape_getBoundingBox(_1,_2){var _3=(_2||new Array(4)),_4=this.commands,_5=this.drawPane,_6=_5.getInnerContentWidth(),_7=_5.getInnerContentHeight(),_8=_6,_9=_7,_10=0,_11=0,_12=true,_13=true,_14=null;if(!_4||_4.length==0){_3[0]=_3[1]=_3[2]=_3[3]=0;return _3}
for(var i=0,_16=_4.length;i<_16;++i){var _17=_4[i],_18=_17.type,_19=_17.args;if(_18=="moveto"){_14=_19}else if(_18=="lineto"){_13=false;if(_14!=null){if(_12){_8=_10=_14[0];_9=_11=_14[1];_12=false}else{if(_14[0]<_8)_8=_14[0];else if(_10<_14[0])_10=_14[0];if(_14[1]<_9)_9=_14[1];else if(_11<_14[1])_11=_14[1]}
_14=null}
for(var j=_19.length;j--;){var _21=_19[j];if(_21[0]<_8)_8=_21[0];else if(_10<_21[0])_10=_21[0];if(_21[1]<_9)_9=_21[1];else if(_11<_21[1])_11=_21[1]}}else if(_18=="circleto"){_13=false;var _22=_19[0],_23=_22[0],_24=_22[1],_25=_19[1],_26=_19[2],_27=_19[3],_28=(_26>_27);if(_14!=null){if(_12){_8=_10=_14[0];_9=_11=_14[1];_12=false}else{if(_14[0]<_8)_8=_14[0];else if(_10<_14[0])_10=_14[0];if(_14[1]<_9)_9=_14[1];else if(_11<_14[1])_11=_14[1]}
_14=null}
var _29=_23+_25*Math.cos(_26*Math.PI/180),_30=_24+_25*Math.sin(_26*Math.PI/180),_31=_23+_25*Math.cos(_27*Math.PI/180),_32=_24+_25*Math.sin(_27*Math.PI/180);if(_29<_8)_8=_29;else if(_10<_29)_10=_29;if(_30<_9)_9=_30;else if(_11<_30)_11=_30;if(_31<_8)_8=_31;else if(_10<_31)_10=_31;if(_32<_9)_9=_32;else if(_11<_32)_11=_32;if(_28?(_26<270||270<_27):(_26<270&&270<_27)){var _33=_24+_25;if(_11<_33)_11=_33}
if(_28?(_26<90||90<_27):(_26<90&&90<_27)){var _34=_24-_25;if(_34<_9)_9=_34}
if(_28?(_26<180||180<_27):(_26<180&&180<_27)){var _35=_23-_25;if(_35<_8)_8=_35}
if(_28?(_26<0||0<_27):(_26<0&&0<_27)){var _36=_23+_25;if(_10<_36)_10=_36}}}
if(_13){if(_14==null){_8=_10=_9=_11=0}else{_8=_10=_14[0];_9=_11=_14[1]}}
_3[0]=_8;_3[1]=_9;_3[2]=_10;_3[3]=_11;return _3},isc.A.$147c=function isc_DrawShape__getBoundingBoxOfTransformedShape(_1,_2,_3,_4){var _5=this.$125w,_6=_4||new Array(4);var _7=this.commands,_8=this.drawPane.getInnerContentWidth(),_9=this.drawPane.getInnerContentHeight(),_10=0,_11=0,_12=true,_13=true,_14=null;if(!_7||_7.length==0){_6[0]=_6[1]=_6[2]=_6[3]=0;return _6}
var _15=_1.m00,_16=_1.m01,_17=_1.m02,_18=_1.m10,_19=_1.m11,_20=_1.m12,_21=isc.Math.$101k(_15,_16),_22=isc.Math.$101k(_18,_19),_23=_15*_18+_16*_19;for(var i=0,_25=_7.length;i<_25;++i){var _26=_7[i],_27=_26.type,_28=_26.args;if(_27=="moveto"){_14=_28}else if(_27=="lineto"||_27=="circleto"){_13=false;if(_14!=null){var _29=_15*_14[0]+_16*_14[1]+_17,_30=_18*_14[0]+_19*_14[1]+_20;if(_12){_8=_10=_29;_9=_11=_30;_12=false}else{if(_29<_8)_8=_29;else if(_10<_29)_10=_29;if(_30<_9)_9=_30;else if(_11<_30)_11=_30}
_14=null}
if(_27=="lineto"){for(var j=_28.length;j--;){var _32=_28[j],x=_15*_32[0]+_16*_32[1]+_17,y=_18*_32[0]+_19*_32[1]+_20;if(x<_8)_8=x;else if(_10<x)_10=x;if(y<_9)_9=y;else if(_11<y)_11=y}}else{var _35=_28[0],_36=_35[0],_37=_35[1],_38=_28[1],_39=_28[2],_40=_28[3],_41=(_40<_39),_42=_40-_39,_43=(_42>=360||(_42!=0&&Math.round(_42)%360==0));var _44=_36+_38*Math.cos(_39*Math.PI/180),_45=_37+_38*Math.sin(_39*Math.PI/180),_46=_36+_38*Math.cos(_40*Math.PI/180),_47=_37+_38*Math.sin(_40*Math.PI/180),_48=_15*_44+_16*_45+_17,_49=_18*_44+_19*_45+_20,_50=_15*_46+_16*_47+_17,_51=_18*_46+_19*_47+_20;if(_48<_8)_8=_48;else if(_10<_48)_10=_48;if(_49<_9)_9=_49;else if(_11<_49)_11=_49;if(_50<_8)_8=_50;else if(_10<_50)_10=_50;if(_51<_9)_9=_51;else if(_11<_51)_11=_51;var _52=_15*_36+_16*_37+_17,_53=_18*_36+_19*_37+_20,_54=_21*_38,_55=_22*_38,_56=_52-_54,_57=_53-_55,_58=_52+_54,_59=_53+_55,_60=Math.atan2(_49-_53,_48-_52),_61=Math.atan2(_51-_53,_50-_52),_62=_23*_38,_63=(_21<=0?0:(_62/_21)),_64=(_22<=0?0:(_62/_22)),_65=(_53-_63),_66=(_52-_64),_67=(_53+_63),_68=(_52+_64),_69=Math.atan2(_65-_53,_56-_52),_70=Math.atan2(_57-_53,_66-_52),_71=Math.atan2(_67-_53,_58-_52),_72=Math.atan2(_59-_53,_68-_52);if(_41){var _73=_60;_60=_61;_61=_73}
var _74=(_60>_61);if(_56<_8&&(_74?(_60<_69||_69<_61):(_60<_69&&_69<_61)))
{_8=_56}
if(_57<_9&&(_74?(_60<_70||_70<_61):(_60<_70&&_70<_61)))
{_9=_57}
if(_10<_58&&(_74?(_60<_71||_71<_61):(_60<_71&&_71<_61)))
{_10=_58}
if(_11<_59&&(_74?(_60<_72||_72<_61):(_60<_72&&_72<_61)))
{_11=_59}}}}
if(_13){if(_14==null){_8=_10=_9=_11=0}else{_8=_10=_14[0];_9=_11=_14[1]}}else{var _75=(_2&&this.$125h()?(this.lineWidth/2):0),_76=(_3?this.hitTolerance:0),_77=_75+_76,_78=_21*_77,_79=_22*_77;_8-=_78;_10+=_78;_9-=_79;_11+=_79}
_6[0]=_8;_6[1]=_9;_6[2]=_10;_6[3]=_11;return _6},isc.A.$147w=function isc_DrawShape__updateLocalTransform(_1,_2,_3,_4,_5){if(this.resizeViaLocalTransformOnly){this.Super("$147w",[_1,_2,_3,_4,_5]);return}
var _6=1e-9,_7=this.commands;if(isc.isAn.Array(_7)&&_7.length>0&&Math.abs(_1.getDeterminant())>_6)
{var _8=this.$1252,_9=this.$1253,_10=this.$1254,_11=this.$1255,_12=_7.length;if(_7.containsProperty("type",_11)){var _13=2*Math.PI,_14=isc.DrawItem.$125w,_15=isc.DrawItem.$145r(_1,_2,_3),_16=_15.theta,_17=Math.sin(_16),_18=Math.cos(_16),_19=(_15.kx*_15.ky+1)*_15.sx,_20=_15.sy,_21=(Math.abs(_19)<Math.abs(_20)?_19:_20),t=isc.AffineTransform.create();if(_21==0){_21=1}
var _23=_21/(_15.sx*_15.sy),_24=_23*(_15.dx*_15.sy-_15.dy*_15.kx*_15.sx),_25=-_23*(_15.dx*_15.ky*_15.sy-
_15.dy*(1+_15.kx*_15.ky)*_15.sx);t.translate(_24,_25);if(_21!=1){t.scale(_21,_21)}
t.rotate(_16/_14,_2,_3);for(var i=_12;i--;){var _27=_7[i],_28=_27.type,_29=_27.args;if(_28==_9){var v=t.transform(_29[0],_29[1]);_29[0]=v.v0;_29[1]=v.v1}else if(_28==_10){for(var j=_29.length;j--;){var _32=_29[j],v=t.transform(_32[0],_32[1]);_32[0]=v.v0;_32[1]=v.v1}}else if(_28==_11){var _33=_29[0],_34=_29[1],_35=_29[2]*_14,_36=_29[3]*_14,_37=(_29[2]<_29[3]),_38=_33[0],_39=_33[1],_40=_38+_34*Math.cos(_35),_41=_39+_34*Math.sin(_35),_42=_38+_34*Math.cos(_36),_43=_39+_34*Math.sin(_36);var u=t.transform(_38,_39),_45=_33[0]=u.v0,_46=_33[1]=u.v1;_29[1]=_21*_34;var v=t.transform(_40,_41),_47=Math.atan2(v.v1-_46,v.v0-_45),w=t.transform(_42,_43),_49=Math.atan2(w.v1-_46,w.v0-_45);_47=(_13+(_47%_13))%_13;_49=(_13+(_49%_13))%_13;if(_37){if(_47>=_49){_49+=_13}}else{if(_47<_49){_47+=_13}}
_29[2]=_47/_14;_29[3]=_49/_14}}
_1.rightMultiply(t.getInverse())}else{for(var i=_12;i--;){var _27=_7[i],_28=_27.type,_29=_27.args;if(_28==_9){var v=_1.transform(_29[0],_29[1]);_29[0]=v.v0;_29[1]=v.v1}else if(_28==_10){for(var j=_29.length;j--;){var _32=_29[j],v=_1.transform(_32[0],_32[1]);_32[0]=v.v0;_32[1]=v.v1}}}
_1=isc.AffineTransform.$147g()}
this.Super("$147w",[_1,_2,_3,_4,false]);var _50=this.$147l();this.$147x(_2,_3,_50.cx,_50.cy);if(this.drawingVML&&(_2!=_50.cx||_3!=_50.cy)){delete this.$1348;this.$154s.setProperty("transform",this.$1339())}
this.setCommands(_7)}else{this.Super("$147w",[_1,_2,_3,_4,_5])}},isc.A.$154t=function isc_DrawShape__renderVML(_1,_2,_3){var _4=this.$1545;isc.VMLRenderer.drawItemToShapeConfig(this,_4);this.$154s=_1.shape(_2,_4)},isc.A.$126a=function isc_DrawShape__getPathVML(_1){var _2=this.commands,_3=(_2!=null?_2.length:0);for(var i=0;i<_3;++i){var _5=_2[i],_6=_5.type,_7=_5.args;if(_6==this.$1252){_1.x()}else if(_6==this.$1253){var _8=_7;_1.m(_8[0],_8[1])}else if(_6==this.$1254){var _9=_7;_1.ls(_9,0,_9.length)}else if(_6==this.$1255){var _10=_7[0],_11=_10[0],_12=_10[1],r=_7[1],_14=_7[2],_15=_7[3],_16=_15-_14;_16=Math.min(_16,360);_1.ae(_11,_12,r,r,-_14,-_16)}}},isc.A.$126b=function isc_DrawShape__getPathDataSVG(_1){var _2=_1||[];var _3=this.commands;if(_3!=null&&_3.length>0){var _4=isc.DrawShape.$125w;for(var i=0;i<_3.length;++i){var _6=_3[i],_7=_6.type,_8=_6.args;if(_7=="close"){_2.push(" Z")}else if(_7=="moveto"){var _9=_8;_2.push(" M ",_9[0]," ",_9[1])}else if(_7=="lineto"){var _10=_8,_9=_10[0];_2.push(" L ",_9[0]," ",_9[1]);for(var n=1;n<_10.length;++n){_9=_10[n];_2.push(" ",_9[0]," ",_9[1])}}else if(_7=="circleto"){var _12=_8[0],_13=_12[0],_14=_12[1],_15=_8[1],_16=_8[2],_17=_8[3],_18=Math.abs(_17-_16)>180?"1":"0",_19;if(_16<=_17){_19="1";_17=Math.min(_17,_16+359.9)}else{_19="0";_17=Math.max(_16-359.9,_17)}
var _20=_13+_15*Math.cos(_16*_4),_21=_14-_15*Math.sin(-_16*_4);_2.push(" L ",_20," ",_21);var x=_13+_15*Math.cos(_17*_4),y=_14-_15*Math.sin(-_17*_4);_2.push(" A ",_15," ",_15," ",_16<=_17?-_16:-_17," ",_18," ",_19," ",x," ",y)}}}
if(_1==null)return _2.join("")},isc.A.getAttributesSVG=function isc_DrawShape_getAttributesSVG(){var _1=this.$1258,_2=_1.length;this.$126b(_1);_1.push("'");var _3=_1.join("");_1.setLength(_2);return _3},isc.A.drawBitmapPath=function isc_DrawShape_drawBitmapPath(_1){var _2=this.commands;if(_2!=null&&_2.length>0){if(this.lineWidth==0){_1.strokeStyle=this.fillColor;_1.globalAlpha=this.fillOpacity}
_1.beginPath();for(var i=0;i<_2.length;++i){var _4=_2[i],_5=_4.type,_6=_4.args;if(_5=="close"){_1.closePath()}else if(_5=="moveto"){var _7=_6;_1.moveTo(_7[0],_7[1])}else if(_5=="lineto"){var _8=_6,_7=_8[0];_1.lineTo(_7[0],_7[1]);for(var n=1;n<_8.length;++n){_7=_8[n];_1.lineTo(_7[0],_7[1])}}else if(_5=="circleto"){var _10=_6[0],_11=_10[0],_12=_10[1],_13=_6[1],_14=_6[2],_15=_6[3];_1.arc(_11,_12,_13,_14*isc.DrawShape.$125w,_15*isc.DrawShape.$125w,_15<_14)}}}});isc.B._maxIndex=isc.C+10;isc.DrawShape.markUnsupportedMethods(null,["setStartArrow","setEndArrow"]);isc.GraphMath={zeroPoint:[0,0],polar2screen:function(_1,_2,_3,_4){_3=_3||this.zeroPoint;var _5=Math.PI-((_1+450)%360)/180*Math.PI;var _6=[_3[0]+(_2*Math.cos(_5)),_3[1]+(-_2*Math.sin(_5))]
if(_4){_6[0]=Math.round(_6[0]);_6[1]=Math.round(_6[1])}
return _6},screen2polar:function(_1,_2){return[((Math.PI-Math.atan2(-_2,_1))/Math.PI*180+270)%360,isc.Math.$101k(_1,_2)]},angleDifference:function(_1,_2){var _3=Math.max(_1,_2),_4=Math.min(_1,_2),_5=_3-_4,_6=_4+360-_3;if(_6<_5){var _7=_3==_1?1:-1;return _7*_6}else{var _7=_3==_1?-1:1;return _7*_5}},straightDistance:function(_1,_2){return isc.Math.$101k(_1[0]-_2[0],_1[1]-_2[1])},trimLineEnds:function(_1,_2,_3,_4,_5,_6){var _7=isc.Math.$101k(_3-_1,_4-_2);if(_5+_6>_7){var _8=_5/(_5+_6)*(_3-_1)+_1;var _9=_5/(_5+_6)*(_4-_2)+_2;return[_8+(_1==_3?0:_1>_3?0.01:-0.01),_9+(_2==_4?0:_2>_4?0.01:-0.01),_8+(_1==_3?0:_1>_3?-0.01:0.01),_9+(_2==_4?0:_2>_4?-0.01:0.01)]}
var _10=Math.atan2(_2-_4,_3-_1);return[_1+(_5*Math.cos(_10)),_2-(_5*Math.sin(_10)),_3-(_6*Math.cos(_10)),_4+(_6*Math.sin(_10))]}}
isc.A=isc.Canvas.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.setCenter=function isc_Canvas_setCenter(_1,_2){this.moveTo(_1-this.getVisibleWidth()/2,_2-this.getVisibleHeight()/2)},isc.A.getCenter=function isc_Canvas_getCenter(){return[this.getLeft()+this.getVisibleWidth()/2,this.getTop()+this.getVisibleHeight()/2]});isc.B._maxIndex=isc.C+2;isc.defineClass("LinkedList","Class");isc.A=isc.LinkedList.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.length=0;isc.B.push(isc.A.init=function isc_LinkedList_init(){this.head=null},isc.A.add=function isc_LinkedList_add(_1){var _2={next:null,data:_1};if(!this.head){this.head=_2}else{var _3=this.head;while(_3.next){_3=_3.next}
_3.next=_2}
this.length++},isc.A.get=function isc_LinkedList_get(_1){var _2=null;if(_1>=0&&_1<this.length){var _3=this.head,i=0;while(i++<_1){_3=_3&&_3.next}
_2=_3.data}
return _2},isc.A.remove=function isc_LinkedList_remove(_1){var _2=null;if(_1>=0&&_1<this.length){var _3=this.head,i=0;if(_1===0){this.head=_3.next}else{var _5;while(i++<_1){_5=_3;_3=_3&&_3.next}
_5.next=_3.next}
_2=_3.data;this.length--}
return _2},isc.A.toArray=function isc_LinkedList_toArray(){var _1=[],_2=this.head;while(_2){_1.push(_2.data);_2=_2.next}
return _1});isc.B._maxIndex=isc.C+5;isc.defineClass("QuadTree").addClassProperties({$148u:function(_1){var _2=[_1];for(;_1;_1=_1.drawGroup){_2.unshift(_1)}
return _2},$148q:function(_1,_2){if(_1.addOrder!=_2.addOrder){return(_1.addOrder-_2.addOrder)}
_1=_1.shape;_2=_2.shape;var _3=isc.QuadTree.$148u(_1),_4=isc.QuadTree.$148u(_2);for(var i=0;i<_3.length;++i){if(_3[i]!=_4[i]){var _6=_3[i-1];if(_6===_1)return-1;if(_6===_2)return 1;var _7=_6.drawItems.indexOf(_3[i]);var _8=_6.drawItems.indexOf(_4[i]);return(_7-_8)}}
return 0}});isc.A=isc.QuadTree.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.depth=0;isc.A.maxDepth=0;isc.A.maxChildren=0;isc.B.push(isc.A.init=function isc_QuadTree_init(){this.root=null;this.bounds=null},isc.A.insert=function isc_QuadTree_insert(_1){if(isc.isAn.Array(_1)){var _2=_1.length;for(var i=0;i<_2;i++){this.root.insert(_1[i])}}else{this.root.insert(_1)}},isc.A.remove=function isc_QuadTree_remove(_1){this.root.remove(_1)},isc.A.clear=function isc_QuadTree_clear(){this.root.clear()},isc.A.retrieve=function isc_QuadTree_retrieve(_1){return this.root.retrieve(_1).slice()},isc.A.update=function isc_QuadTree_update(_1,_2,_3,_4,_5){return this.root.update(_1,_2,_3,_4,_5)});isc.B._maxIndex=isc.C+6;isc.defineClass("QuadTreeNode","Class");isc.A=isc.QuadTreeNode;isc.A.TOP_LEFT=0;isc.A.TOP_RIGHT=1;isc.A.BOTTOM_LEFT=2;isc.A.BOTTOM_RIGHT=3;isc.A=isc.QuadTreeNode.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.depth=0;isc.A.maxDepth=4;isc.A.maxChildren=4;isc.B.push(isc.A.init=function isc_QuadTreeNode_init(){this.bounds=null;this.nodes=[];this.children=isc.LinkedList.create()},isc.A.insert=function isc_QuadTreeNode_insert(_1){if(this.nodes.length){var _2=this.findQuadrants(_1);for(var i=0;i<_2.length;++i){var _4=_2[i];this.nodes[_4].insert(_1)}
return}
this.children.add(_1);var _5=this.children.length;if(!(this.depth>=this.maxDepth)&&_5>this.maxChildren){this.subdivide();for(var i=0;i<_5;i++){this.insert(this.children.get(i))}
this.children=isc.LinkedList.create()}},isc.A.remove=function isc_QuadTreeNode_remove(_1){if(this.nodes.length){var _2=this.findQuadrants(_1);for(var i=0;i<_2.length;++i){var _4=_2[i];this.nodes[_4].remove(_1)}}
var _5=this.children;for(var j=0,_7=_5.length;j<_7;++j){var _8=_5.get(j);if(_8===_1){_5.remove(j);--_7;--j}}},isc.A.retrieve=function isc_QuadTreeNode_retrieve(_1){if(this.nodes.length){var _2=this.findQuadrant(_1);return this.nodes[_2].retrieve(_1)}
return this.children.toArray()},isc.A.findQuadrant=function isc_QuadTreeNode_findQuadrant(_1){var b=this.bounds,_3=!(_1.x>b.x+b.width/2),_4=!(_1.y>b.y+b.height/2);var _5=isc.QuadTreeNode.TOP_LEFT;if(_3){if(!_4){_5=isc.QuadTreeNode.BOTTOM_LEFT}}else{if(_4){_5=isc.QuadTreeNode.TOP_RIGHT}else{_5=isc.QuadTreeNode.BOTTOM_RIGHT}}
return _5},isc.A.findQuadrants=function isc_QuadTreeNode_findQuadrants(_1){var _2=[];var _3={};var _4=this.findQuadrant({x:_1.x,y:_1.y});_2.push(_4);_3[_4]=true;_4=this.findQuadrant({x:_1.x+_1.width,y:_1.y+_1.height});if(!_3[_4]){_2.push(_4);_3[_4]=true}
_4=this.findQuadrant({x:_1.x,y:_1.y+_1.height});if(!_3[_4]){_2.push(_4);_3[_4]=true}
_4=this.findQuadrant({x:_1.x+_1.width,y:_1.y});if(!_3[_4]){_2.push(_4)}
return _2},isc.A.subdivide=function isc_QuadTreeNode_subdivide(){var _1=this.depth+1;var _2=this.bounds.x;var _3=this.bounds.y;var _4=(this.bounds.width/2)|0;var _5=(this.bounds.height/2)|0;var _6=_2+_4;var _7=_3+_5;this.nodes[isc.QuadTreeNode.TOP_LEFT]=isc.QuadTreeNode.create({depth:_1});this.nodes[isc.QuadTreeNode.TOP_LEFT].bounds={x:_2,y:_3,width:_4,height:_5};this.nodes[isc.QuadTreeNode.TOP_RIGHT]=isc.QuadTreeNode.create({depth:_1});this.nodes[isc.QuadTreeNode.TOP_RIGHT].bounds={x:_6,y:_3,width:_4,height:_5};this.nodes[isc.QuadTreeNode.BOTTOM_LEFT]=isc.QuadTreeNode.create({depth:_1});this.nodes[isc.QuadTreeNode.BOTTOM_LEFT].bounds={x:_2,y:_7,width:_4,height:_5};this.nodes[isc.QuadTreeNode.BOTTOM_RIGHT]=isc.QuadTreeNode.create({depth:_1});this.nodes[isc.QuadTreeNode.BOTTOM_RIGHT].bounds={x:_6,y:_7,width:_4,height:_5}},isc.A.clear=function isc_QuadTreeNode_clear(){this.children=isc.LinkedList.create();var _1=this.nodes.length;for(var i=0;i<_1;i++){this.nodes[i].clear()}
this.nodes=[];this.depth=0;this.maxDepth=4;this.maxChildren=4},isc.A.update=function isc_QuadTreeNode_update(_1,_2,_3,_4,_5){this.remove(_1);_1.x=_2;_1.y=_3;_1.width=_4;_1.height=_5;this.insert(_1)});isc.B._maxIndex=isc.C+9;isc.defineClass("DrawKnob","Canvas");isc.A=isc.DrawKnob.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.A.width=10;isc.A.height=10;isc.A.overflow="hidden";isc.A.cursor="crosshair";isc.A.canDrag=true;isc.A.dragAppearance="none";isc.A.keepInParentRect=true;isc.A.autoDraw=false;isc.A.knobShapeDefaults={_constructor:isc.DrawOval,radius:5,lineWidth:2,fillColor:"#FF0000",fillOpacity:0.5,autoDraw:true,updateControlKnobs:function(){return},erase:function(){if(this.erasing)return;this.erasing=true;if(this.creator.isDrawn())this.creator.clear();this.Super("erase",arguments);delete this.erasing}};isc.B.push(isc.A.initWidget=function isc_DrawKnob_initWidget(){if(isc.Browser.isIE&&isc.Browser.version<11&&this.drawPane.drawingType=="bitmap"){this.setBackgroundColor("White");this.setOpacity(0)}
var _1=this.x,_2=this.y,x=this.x=Math.round(_1),y=this.y=Math.round(_2);var _5=x-this.width/2+this.drawPane.getLeftPadding(),_6=y-this.height/2+this.drawPane.getTopPadding();this.left=(x<=_1?Math.ceil(_5):Math.floor(_5));this.top=(y<=_2?Math.ceil(_6):Math.floor(_6));if(!isc.isA.DrawPane(this.drawPane)){this.logWarn("DrawPane provided in DrawKnob.drawPane is invalid so this knob cannot be constructed.");return}
var _7=this.knobShape=this.createAutoChild("knobShape",{drawPane:this.drawPane,knobs:null,exemptFromGlobalTransform:true,$1502:function(){this.creator.resetKnobPosition()}});_7.setCenterPoint(this.x,this.y);this.drawPane.addChild(this)},isc.A.resetKnobPosition=function isc_DrawKnob_resetKnobPosition(){this.setCenterPoint(this.x,this.y,false)},isc.A.setCenterPoint=function isc_DrawKnob_setCenterPoint(_1,_2,_3){var _4=this.drawPane.getLeftPadding(),_5=this.drawPane.getTopPadding();if(_3){var _6=this.drawPane.drawing2screen([_1,_2,0,0]);_1=_6[0]-_4;_2=_6[1]-_5}
var _7=_1,_8=_2;_1=Math.round(_1);_2=Math.round(_2);var _9=_1-this.width/2+_4,_10=_2-this.height/2+_5;_9=(_1<=_7?Math.ceil(_9):Math.floor(_9)),_10=(_2<=_8?Math.ceil(_10):Math.floor(_10));this.$1506=_7;this.$1507=_8;this.moveTo(_9,_10);delete this.$1506;delete this.$1507},isc.A.setRect=function isc_DrawKnob_setRect(_1,_2,_3,_4,_5){if(isc.isAn.Array(_1)){_2=_1[1];_3=_1[2];_4=_1[3];_1=_1[0]}else if(isc.isAn.Object(_1)){_2=_1.top;_3=_1.width;_4=_1.height;_1=_1.left}
var _6=this.keepInParentRect;if(_6){var _7=this.drawPane.getWidth(),_8=this.drawPane.getHeight(),_9=Math.min(_1+_3,_7),_10=Math.min(_2+_4,_8);_1=Math.max(_1,0);_2=Math.max(_2,0);_3=_9-_1;_4=_10-_2;if(_3<1||_4<1){this.hide();return false}else{this.show()}}
return this.Super("setRect",[_1,_2,_3,_4,_5])},isc.A.draw=function isc_DrawKnob_draw(){this.drawPane.addDrawItem(this.knobShape);return this.Super("draw",arguments)},isc.A.moved=function isc_DrawKnob_moved(){if(!this.synchingToPane)this.updateKnobShape()},isc.A.$64f=function isc_DrawKnob__updatePoints(_1){var _2=this.drawPane.$150s(isc.EH.getX(),isc.EH.getY()),_3=_2[0],_4=_2[1],_5=_3-this.x,_6=_4-this.y;var _7=this.updatePoints(_3,_4,_5,_6,_1);return(_7!==false)},isc.A.updateKnobShape=function isc_DrawKnob_updateKnobShape(){var x=0,y=0;if(this.$1506!=null&&this.$1507!=null){x=this.$1506;y=this.$1507}else{x=this.getLeft()+this.getWidth()/2-this.drawPane.getLeftPadding();y=this.getTop()+this.getHeight()/2-this.drawPane.getTopPadding()}
this.x=Math.round(x);this.y=Math.round(y);this.knobShape.setCenterPoint(x,y)},isc.A.updatePoints=function(x,y,dX,dY,state){},isc.A.clear=function isc_DrawKnob_clear(){this.Super("clear",arguments);this.knobShape.erase()},isc.A.dragStart=function isc_DrawKnob_dragStart(){return this.$64f("start")},isc.A.dragMove=function isc_DrawKnob_dragMove(){return this.$64f("move")},isc.A.dragStop=function isc_DrawKnob_dragStop(){return this.$64f("stop")});isc.B._maxIndex=isc.C+13;isc.DrawKnob.registerStringMethods({updatePoints:"x,y,dX,dY"});isc.ClassFactory.defineClass("Gauge","DrawPane");isc.A=isc.Gauge.getPrototype();isc.A.width=400;isc.A.height=400;isc.A.redrawOnResize=true;isc.A.dialRadius=150;isc.A.knobRadius=6;isc.A.fontSize=11;isc.A.borderWidth=1;isc.A.borderColor="#333333";isc.A.scaleColor=null;isc.A.needleColor="#000000";isc.A.sectorColors=["#AFFFFF","#008080","#AAAFFF","#FF0000","#FFCC99","#800080"];isc.A.minValue=0;isc.A.maxValue=100;isc.A.value=0;isc.A.numMajorTicks=0;isc.A.numMinorTicks=0;isc.A.labelPrefix="";isc.A.labelSuffix="%";isc.A.drawnClockwise=true;isc.A.sectors=null;isc.A.pivotPoint=null;isc.A.sectorDefaults={fillColor:null,startAngle:0,endAngle:0,value:0};isc.A=isc.Gauge.getPrototype();isc.B=isc._allFuncs;isc.C=isc.B._maxIndex;isc.D=isc._funcClasses;isc.D[isc.C]=isc.A.Class;isc.B.push(isc.A.initWidget=function isc_Gauge_initWidget(){this.Super("initWidget",arguments);if(this.fontSize<3){this.logWarn("Gauge specified with fontSize:"+this.fontSize+". Setting to 3.");this.fontSize=3}
if(!(this.sectorColors instanceof Array)){this.logWarn("Gauge specified with non-array sectorColors. Setting to [ \"#AFFFFF\" ].");this.sectorColors=["#AFFFFF"]}
if(this.sectorColors.length==0){this.logWarn("Gauge specified with empty sectorColors array. Setting to [ \"#AFFFFF\" ].");this.sectorColors=["#AFFFFF"]}
if(this.minValue>this.maxValue){this.logWarn("Gauge specified with minValue:"+this.minValue+", greater than maxValue:"+this.maxValue+". Swapping.");var _1=this.minValue;this.minValue=this.maxValue;this.maxValue=_1}
if(!(this.maxValue>=0.99999+this.minValue)){this.logWarn("Gauge specified with maxValue:"+this.maxValue+", not at least 1 greater than minValue:"+this.minValue);this.maxValue=1+this.minValue}
this.value=Math.min(Math.max(this.value,this.minValue),this.maxValue);this.numMajorTicks=Math.floor(this.numMajorTicks);this.numMajorTicks=Math.max(0,this.numMajorTicks);if(this.numMajorTicks!=0){this.numMajorTicks=Math.max(2,this.numMajorTicks)}
this.numMinorTicks=Math.floor(this.numMinorTicks);this.numMinorTicks=Math.max(0,this.numMinorTicks);if(this.numMinorTicks!=0){this.numMinorTicks=Math.max(2,this.numMinorTicks)}
this.$93w(this.getInnerContentWidth(),this.getInnerContentHeight());this.setSectors(this.sectors?this.sectors:[{fillColor:this.getDefaultFillColor(0),startAngle:0,endAngle:180,value:this.maxValue}])},isc.A.resized=function isc_Gauge_resized(_1,_2){this.$93w(this.getInnerContentWidth(),this.getInnerContentHeight());this.$134w()},isc.A.$134w=function isc_Gauge__makeItems(){this.erase();if(this.$930!=null){var _1=this.$930;for(var i=0;i<_1.length;++i){_1[i].destroy()}
delete this.$930}
if(this.$934!=null){var _3=this.$934;for(var i=0;i<_3.length;++i){_3[i].destroy()}
delete this.$934}
this.$93x();this.$931();this.$93e(this.value);this.$93y()},isc.A.$93w=function isc_Gauge__makePivotPoint(_1,_2){this.pivotPoint=[_1/2,_2*0.70]},isc.A.$93x=function isc_Gauge__makeDrawSectors(){var _1=new Array(this.sectors.length);if(this.$93z){for(var i=0;i<this.$93z.length;++i){this.$93z[i].destroy()}}
var _3=this.sectors;for(var _4=0;_4<_3.length;++_4){var _5=_3[_4];var _6,_7;if(this.drawnClockwise){_6=_5.startAngle-180;_7=_5.endAngle-180}else{_6=-_5.endAngle;_7=-_5.startAngle}
var _8;_1[_4]=_8=isc.DrawSector.create({radius:this.dialRadius,centerPoint:this.pivotPoint,startAngle:_6,endAngle:_7,lineWidth:this.borderWidth,lineColor:this.borderColor,fillColor:_5.fillColor});this.addDrawItem(_8,true)}
this.$93z=_1;this.$93d()},isc.A.$93d=function isc_Gauge__makeTickLines(){var _1=this.numMajorTicks;var _2=this.numMinorTicks;var _3=this.drawnClockwise;var _4=this.pivotPoint;var _5;var i;if(!this.$930){_5=new Array(_1+_2)}else if(this.$930.length!=_1+_2){for(i=_1+_2;i<this.$930.length;++i){this.$930[i].destroy()}
_5=new Array(_1+_2);for(i=0;i<_5.length;++i){_5[i]=this.$930[i]}}else{_5=this.$930}
var _7=this.scaleColor?this.scaleColor:this.borderColor;for(i=0;i<_1;++i){var _8=Math.PI-Math.PI*i/(_1-1);if(!_3){_8=Math.PI-_8}
var x=(this.dialRadius+3)*Math.cos(_8);var y=(this.dialRadius+3)*Math.sin(_8);var p=[_4[0]+x,_4[1]-y];var _12=(this.dialRadius-10)*Math.cos(_8);var _13=(this.dialRadius-10)*Math.sin(_8);var _14=[_4[0]+_12,_4[1]-_13];if(!_5[i]){_5[i]=isc.DrawLine.create({lineColor:_7,startPoint:_14,endPoint:p,lineWidth:2})}else{_5[i].setLineColor(_7);_5[i].setStartPoint(p[0],p[1]);_5[i].setEndPoint(_14[0],_14[1])}}
for(var j=0;j<_2;++j,++i){var _8=Math.PI-Math.PI*j/(_2-1);if(!_3){_8=Math.PI-_8}
var x=this.dialRadius*Math.cos(_8);var y=this.dialRadius*Math.sin(_8);var p=[_4[0]+x,_4[1]-y];var _12=(this.dialRadius-5)*Math.cos(_8);var _13=(this.dialRadius-5)*Math.sin(_8);var _14=[_4[0]+_12,_4[1]-_13];if(!_5[i]){_5[i]=isc.DrawLine.create({lineColor:_7,startPoint:_14,endPoint:p,lineWidth:1})}else{_5[i].setLineColor(_7);_5[i].setStartPoint(p[0],p[1]);_5[i].setEndPoint(_14[0],_14[1])}}
for(i=0;i<_5.length;++i){this.addDrawItem(_5[i],true)}
this.$930=_5},isc.A.$931=function isc_Gauge__makeNeedle(){var _1=this.needleColor?this.needleColor:this.borderColor;if(!this.$93v){this.$93v=isc.DrawTriangle.create({drawPane:this,autoDraw:true,lineColor:this.borderColor,lineWidth:this.borderWidth,fillColor:_1})}else{var _2=this.$93v;_2.setLineColor(this.borderColor);_2.setLineWidth(this.borderWidth);_2.setFillColor(_1);this.addDrawItem(_2,true)}
this.$932()},isc.A.$932=function isc_Gauge__makeKnob(){var _1=this.needleColor?this.needleColor:this.borderColor;if(!this.$933){this.$933=isc.DrawOval.create({drawPane:this,autoDraw:true,centerPoint:this.pivotPoint,radius:this.knobRadius,lineColor:this.borderColor,lineWidth:this.borderWidth,fillColor:_1})}else{var _2=this.$933;_2.setCenterPoint(this.pivotPoint[0],this.pivotPoint[1]);_2.setRadius(this.knobRadius);_2.setLineColor(this.borderColor);_2.setLineWidth(this.borderWidth);_2.setFillColor(_1);this.addDrawItem(_2,true)}},isc.A.$93y=function isc_Gauge__makeLabels(){var _1=this.sectors;var _2=new Array(1+_1.length);if(this.$934){for(var i=0;i<this.$934.length;++i){this.$934[i].destroy()}}
var _4;_2[0]=_4=this.$93g(this.formatLabelContents(this.minValue),this.minValue);this.addDrawItem(_4,true);for(var _5=0;_5<_1.length;++_5){var _6=_1[_5];var _7=this.$93g(this.formatLabelContents(_6.value),_6.value);_2[1+_5]=_7;this.addDrawItem(_7,true)}
this.$934=_2},isc.A.setMinValue=function isc_Gauge_setMinValue(_1){_1=Math.min(0+_1,this.maxValue-1);this.$93h(_1,this.maxValue)},isc.A.setMaxValue=function isc_Gauge_setMaxValue(_1){_1=Math.max(0+_1,1+this.minValue);this.$93h(this.minValue,_1)},isc.A.$93h=function isc_Gauge__rescaleSectors(_1,_2){var _3=this.maxValue;var _4=this.minValue;var _5=this.sectors;var _6=_3-_4;var _7=_2-_1;var _8=0;for(var _9=0;_9<_5.length;++_9){var _10=_5[_9];var _11=_7*(_10.value-_4)/_6+_1;_10.value=_11;_10.startAngle=_8;_10.endAngle=_8=this.$93i(_11,_1,_7)}
this.value=_7*(this.value-_4)/_6+_1;this.minValue=_4=_1;this.maxValue=_3=_2;this.$134w()},isc.A.setValue=function isc_Gauge_setValue(_1){_1=Math.min(Math.max(0+_1,this.minValue),this.maxValue);this.$93e(_1);this.value=_1},isc.A.setNumMajorTicks=function isc_Gauge_setNumMajorTicks(_1){_1=Math.floor(_1);if(this.numMajorTicks!=_1){_1=Math.max(0,_1);if(_1!=0){_1=Math.max(2,_1)}
this.numMajorTicks=_1;this.$134w()}},isc.A.setNumMinorTicks=function isc_Gauge_setNumMinorTicks(_1){_1=Math.floor(_1);if(this.numMinorTicks!=_1){_1=Math.max(0,_1);if(_1!=0){_1=Math.max(2,_1)}
this.numMinorTicks=_1;this.$134w()}},isc.A.setLabelPrefix=function isc_Gauge_setLabelPrefix(_1){if(_1==null)_1="";if(this.labelPrefix!=_1){this.labelPrefix=_1;this.reformatLabelContents()}},isc.A.setLabelSuffix=function isc_Gauge_setLabelSuffix(_1){if(_1==null)_1="";if(this.labelSuffix!=_1){this.labelSuffix=_1;this.reformatLabelContents()}},isc.A.setDrawnClockwise=function isc_Gauge_setDrawnClockwise(_1){_1=!!_1;if(this.drawnClockwise!=_1){this.drawnClockwise=_1;this.$134w()}},isc.A.formatLabelContents=function isc_Gauge_formatLabelContents(_1){return this.labelPrefix+(0+_1)+this.labelSuffix},isc.A.reformatLabelContents=function isc_Gauge_reformatLabelContents(){this.$134w()},isc.A.getNumSectors=function isc_Gauge_getNumSectors(){return this.sectors.length},isc.A.getSectorValue=function isc_Gauge_getSectorValue(_1){return this.sectors[_1].value},isc.A.getDefaultFillColor=function isc_Gauge_getDefaultFillColor(_1){var _2=this.sectorColors.length;return this.sectorColors[_1%_2]},isc.A.getSectorFillColor=function isc_Gauge_getSectorFillColor(_1){return this.sectors[_1].fillColor},isc.A.setSectorFillColor=function isc_Gauge_setSectorFillColor(_1,_2){var _3=this.sectors;var _4=this.$93z;_3[_1].fillColor=_2;if(_4&&_4.length==_3.length){_4[_1].setFillColor(_2)}else{this.$134w()}},isc.A.$1113=function isc_Gauge__shiftSectorFillColor(_1,_2){if(_2<this.sectors.length){_1.fillColor=this.sectors[_2].fillColor}else{_1.fillColor=this.getDefaultFillColor(_2)}},isc.A.getSectorLabelContents=function isc_Gauge_getSectorLabelContents(_1){return this.formatLabelContents(this.sectors[_1].value)},isc.A.setBorderColor=function isc_Gauge_setBorderColor(_1){this.borderColor=_1;this.redraw()},isc.A.setBorderWidth=function isc_Gauge_setBorderWidth(_1){this.borderWidth=_1;this.redraw()},isc.A.setSectors=function isc_Gauge_setSectors(_1){this.sectors=[];for(var i=0;i<_1.length;i++){this.addSector(_1[i],true)}
this.$134w()},isc.A.addSector=function isc_Gauge_addSector(_1,_2){if(!isc.isAn.Object(_1)){_1={value:_1}}
var _3=_1.value;_1=isc.addProperties({},this.sectorDefaults,_1);_3=Math.min(Math.max(0+_3,this.minValue),this.maxValue);var _4=this.sectors;var _5=this.maxValue;var _6=this.minValue;var _7=0;for(;_7<_4.length&&_4[_7].value<_3;++_7)
{}
var _8=new Array(_4.length+1);for(var _9=0;_9<_7;++_9){_8[_9]=_4[_9]}
var _10,_11=_5-_6,_12=!_1.fillColor;_1.startAngle=this.$93j(_7,_6,_11);_1.endAngle=_10=this.$93i(_3,_6,_11);_8[_7]=_1;if(_12)this.$1113(_1,_7);if(_7<_4.length){_4[_7].startAngle=_10}
for(var _9=_7;_9<_4.length;++_9){var _13=_4[_9];if(_12)this.$1113(_13,_9+1);_8[_9+1]=_13}
this.sectors=_4=_8;if(!_2){this.$134w()}
return _7},isc.A.removeSector=function isc_Gauge_removeSector(_1){var _2=this.sectors;if(_1==0&&_2.length==1){return}
var _3=new Array(_2.length-1);for(var i=0;i<_1;++i){_3[i]=_2[i]}
var _5=0;if(_1>0){_5=_2[_1-1].endAngle}
if(_1<_2.length-1){_2[_1+1].startAngle=_5}
for(var i=_1+1;i<_2.length;++i){_3[i-1]=_2[i]}
if(_1==_2.length-1){_3[_1-1].endAngle=180;_3[_1-1].value=this.maxValue}
this.sectors=_2=_3;this.$134w()},isc.A.$93j=function isc_Gauge__getSectorStartAngle(_1,_2,_3){if(_1==0){return 0}else{var _4=this.sectors[_1-1].value;return 180*(_4-_2)/_3}},isc.A.$93i=function isc_Gauge__getSectorEndAngle(_1,_2,_3){return 180*(_1-_2)/_3},isc.A.$93e=function isc_Gauge__positionNeedleTriangle(_1){var _2=this.pivotPoint;var _3=this.maxValue-this.minValue;var _4=Math.PI-Math.PI*(_1-this.minValue)/_3;if(!this.drawnClockwise){_4=Math.PI-_4}
var x=(this.dialRadius-15)*Math.cos(_4);var y=(this.dialRadius-15)*Math.sin(_4);var p=[_2[0]+x,_2[1]-y];var _8=_4-Math.PI/2.0;var _9=this.knobRadius*Math.cos(_8);var _10=this.knobRadius*Math.sin(_8);var _11=[_2[0]+_9,_2[1]-_10];var _12=_4+Math.PI/2.0;var _13=this.knobRadius*Math.cos(_12);var _14=this.knobRadius*Math.sin(_12);var _15=[_2[0]+_13,_2[1]-_14];this.$93v.setPoints([p,_11,_15])},isc.A.$93g=function isc_Gauge__makePositionedLabel(_1,_2){var _3=this.pivotPoint;var _4=this.maxValue-this.minValue;var _5=Math.PI-Math.PI*(_2-this.minValue)/_4;if(!this.drawnClockwise){_5=Math.PI-_5}
var _6={fontSize:this.fontSize,contents:_1,left:0,top:0};var _7=this.measureLabel(_1,_6),_8=_7.width,_9=_7.height;var x=(this.dialRadius+5)*Math.cos(_5);var y=(this.dialRadius+5)*Math.sin(_5);var _12;if(_5<9.0*Math.PI/20.0-0.001){_12=Math.round(_3[0]+x+2)}else if(_5<=11.0*Math.PI/20.0+0.001){_12=Math.round(_3[0]+x-_8/2)}else{_12=Math.round(_3[0]+x-_8-2)}
var _13;if(Math.PI/4.0<=_5&&_5<=3.0*Math.PI/4.0){_13=Math.round(_3[1]-y-_9*(1.0-Math.abs(Math.PI/2.0-_5)*0.5))}else{_13=Math.round(_3[1]-y-_9/2)}
_6.left=_12;_6.top=_13;return isc.DrawLabel.create(_6)});isc.B._maxIndex=isc.C+36;isc._nonDebugModules=(isc._nonDebugModules!=null?isc._nonDebugModules:[]);isc._nonDebugModules.push('Drawing');isc.checkForDebugAndNonDebugModules();isc._moduleEnd=isc._Drawing_end=(isc.timestamp?isc.timestamp():new Date().getTime());if(isc.Log&&isc.Log.logIsInfoEnabled('loadTime'))isc.Log.logInfo('Drawing module init time: '+(isc._moduleEnd-isc._moduleStart)+'ms','loadTime');delete isc.definingFramework;if(isc.Page)isc.Page.handleEvent(null,"moduleLoaded",{moduleName:'Drawing',loadTime:(isc._moduleEnd-isc._moduleStart)});}else{if(window.isc&&isc.Log&&isc.Log.logWarn)isc.Log.logWarn("Duplicate load of module 'Drawing'.");}
/*
 * Isomorphic SmartClient
 * Version v10.0p_2014-09-10 (2014-09-10)
 * Copyright(c) 1998 and beyond Isomorphic Software, Inc. All rights reserved.
 * "SmartClient" is a trademark of Isomorphic Software, Inc.
 *
 * licensing@smartclient.com
 *
 * http://smartclient.com/license
 */

