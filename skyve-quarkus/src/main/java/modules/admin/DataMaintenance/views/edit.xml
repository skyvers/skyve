<?xml version="1.0" encoding="UTF-8"?>
<view title="admin.dataMaintenance.edit.title" name="edit" xsi:schemaLocation="http://www.skyve.org/xml/view ../../../../schemas/view.xsd"
	xmlns="http://www.skyve.org/xml/view" xmlns:c="http://www.skyve.org/xml/common" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
	<tabPane>
		<tab title="admin.dataMaintenance.edit.importExport.tabTitle">
			<!-- Bizport not implemented for PF -->
			<vbox border="true" borderTitle="admin.dataMaintenance.edit.quickImportExport.tabTitle">
				<listGrid continueConversation="false" query="qImportExport"/>
			</vbox>
		</tab>
		<tab title="admin.dataMaintenance.edit.backupRestore.tabTitle">
			<form border="true" borderTitle="admin.dataMaintenance.edit.job.borderTitle">
				<column responsiveWidth="2" />
				<column pixelWidth="60" responsiveWidth="1" />
				<column responsiveWidth="2" />
				<column pixelWidth="60" responsiveWidth="1" />
				<column responsiveWidth="2" />
				<column pixelWidth="60" responsiveWidth="1" />
				<column responsiveWidth="2" />
				<column pixelWidth="60" responsiveWidth="1" />
				<row>
					<item>
						<spinner binding="dailyBackupRetention" min="0" />
					</item>
					<item>
						<spinner binding="weeklyBackupRetention" min="0" />
					</item>
					<item>
						<spinner binding="monthlyBackupRetention" min="0" />
					</item>
					<item>
						<spinner binding="yearlyBackupRetention" min="0" />
					</item>
				</row>
			</form>
			<vbox border="true" borderTitle="admin.dataMaintenance.edit.backups.borderTitle" widgetId="backups">
				<listGrid model="BackupsModel" selectedIdBinding="selectedBackupName" continueConversation="false" showAdd="false" showEdit="false" showExport="false"
					showFilter="false" showRemove="false" showSnap="false" showSummary="false" showTag="false" showZoom="false" postRefresh="backupsRefreshRequired">
					<onSelectedHandlers>
						<server action="BackupSelected" />
					</onSelectedHandlers>
				</listGrid>
				<form>
					<column />
					<column />
					<column />
					<column />
					<column />
					<row>
						<item>
							<button action="RefreshBackupList">
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button> 
						</item>
						<item>
							<button action="Backup" >
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button>
						</item>
						<item>
							<button action="DownloadBackup" >
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button>
						</item>
						<item>
							<button action="UploadBackup" >
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button>
						</item>
						<item>
							<button action="DeleteBackup"  >
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button>
						</item>
					</row>
				</form>
			</vbox>
			<vbox border="true" borderTitle="admin.dataMaintenance.edit.Restore.borderTitle" widgetId="restore">
				<form>
					<column responsiveWidth="2"/>
					<column />
					<row>
						<item>
							<radio binding="contentRestoreOption" vertical="false" />
						</item>
					</row>
					<row>
						<item>
							<radio binding="restoreIndexingOption" vertical="false" />
						</item>
					</row>
					<row>
						<item required="false">
							<combo binding="restorePreProcess">
								<onChangedHandlers>
									<rerender >
									<properties>
										<c:property key="update">restore</c:property>
									</properties>							
									</rerender>
								</onChangedHandlers>
							</combo>
						</item>
					</row>
					<row>
						<item>
							<spacer/>
						</item>
						<item>
							<button action="Restore" pixelWidth="200">
								<properties>
									<c:property key="update">backups</c:property>
								</properties>							
							</button>
						</item>					
					</row>
					<row>
						<item>
							<spacer/>
						</item>
						<item>
							<blurb>
									<![CDATA[
										<span style="white-space:pre-wrap"><i>{instructionHint}</i></span>
									]]>
								</blurb>
						</item>
					</row>
				</form>

			</vbox>
		</tab>
		<tab title="admin.dataMaintenance.edit.dataRefresh.tabTitle">
			<dataGrid binding="refreshDocuments" inline="true" showZoom="false" showAdd="false" showDeselect="false" showEdit="false" showRemove="false">
				<boundColumn binding="include" editable="true" />
				<boundColumn binding="moduleName" editable="false" />
				<boundColumn binding="documentName" editable="false" />
			</dataGrid>
			<form border="true" borderTitle="admin.dataMaintenance.edit.documentDataRefresh.borderTitle">
				<column />
				<column responsiveWidth="2"/>
				<column />
				<column responsiveWidth="2"/>
				<column responsiveWidth="2"/>
				<column />
				<column responsiveWidth="3"/>
				<row>
					<item>
						<combo binding="refreshOption" />
					</item>
					<item>
						<combo binding="evictOption" />
					</item>
					<item>
						<checkBox binding="flagFailed" triState="false" />
					</item>
					<item>
						<button action="RefreshDocumentTuples" />
					</item>
				</row>
				<row>
					<item colspan="4">
						<spacer />
					</item>
					<item>
						<checkBox binding="notification" triState="false" />
					</item>
				</row>
			</form>
		</tab>
	</tabPane>
	<actions>
		<defaults />
		<export className="DataMaintenanceExportAction" displayName="admin.dataMaintenance.actions.exportData.displayName" inActionPanel="false" />
		<import className="DataMaintenanceImportAction" displayName="admin.dataMaintenance.actions.importData.displayName" inActionPanel="false" />
		<action className="Backup" displayName="admin.dataMaintenance.actions.backup.displayName" inActionPanel="false" relativeIconFileName="shared/icons/Backup.gif" iconStyleClass="fa fa-toggle-right" />
		<action className="BackupSelected" displayName="admin.dataMaintenance.actions.backupSelected.displayName" inActionPanel="false" />
		<action className="ContentSelected" displayName="admin.dataMaintenance.actions.contentSelected.displayName" inActionPanel="false" />
		<action className="DeleteBackup" displayName="admin.dataMaintenance.actions.deleteBackup.displayName" inActionPanel="false" disabled="notBackupSelected"
			confirm="admin.dataMaintenance.actions.deleteBackup.confirm" relativeIconFileName="shared/icons/Clear.gif" iconStyleClass="fa fa-trash-o" />
		<action className="Reindex" displayName="admin.dataMaintenance.actions.reindex.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.reindex.confirm"
			relativeIconFileName="shared/icons/Wizard.gif" iconStyleClass="fa fa-sort-amount-asc" />
		<action className="ReindexData" displayName="admin.dataMaintenance.actions.reindexData.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.reindexData.confirm"
			relativeIconFileName="shared/icons/Wizard.gif" iconStyleClass="fa fa-sort-amount-asc" />
		<action className="ReindexContent" displayName="admin.dataMaintenance.actions.reindexContent.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.reindexContent.confirm"
			relativeIconFileName="shared/icons/Wizard.gif" iconStyleClass="fa fa-sort-amount-asc" />
		<action className="Restore" displayName="admin.dataMaintenance.actions.restore.displayName" inActionPanel="false" disabled="notBackupSelected" confirm="admin.dataMaintenance.actions.restore.confirm" 
			relativeIconFileName="shared/icons/Exclamation.gif"	iconStyleClass="fa fa-toggle-left" />
		<action className="Truncate" displayName="admin.dataMaintenance.actions.truncate.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.trucate.confirm"
			relativeIconFileName="shared/icons/Clear.gif" iconStyleClass="fa fa-trash-o" />
		<action className="TruncateAuditLog" displayName="admin.dataMaintenance.actions.truncateLog.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.truncateLog.confirm" 
			relativeIconFileName="shared/icons/Clear.gif" iconStyleClass="fa fa-trash-o" disabled="jobCommenced" />
		<action className="CheckAuditMatches" displayName="admin.dataMaintenance.actions.checkAuditMatches.displayName" inActionPanel="false" relativeIconFileName="shared/icons/Search.gif" iconStyleClass="fa fa-search" />
		<action className="RefreshDocumentTuples" displayName="admin.dataMaintenance.actions.refreshDocumentTuples.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.refreshDocumentTuples.confirm"
			relativeIconFileName="shared/icons/Job.gif" iconStyleClass="fa fa-cogs" />

		<download className="DownloadBackup" displayName="admin.dataMaintenance.actions.downloadBackup.displayName" inActionPanel="false" disabled="notBackupSelected"
			confirm="admin.dataMaintenance.actions.downloadBackup.confirm" />
		<action className="Create" displayName="admin.dataMaintenance.actions.create.displayName" inActionPanel="false" toolTip="adin.dataMaintenance.actions.create.confirm"
			relativeIconFileName="shared/icons/Script.gif" iconStyleClass="fa fa-pencil" />
		<action className="Drop" displayName="admin.dataMaintenance.actions.drop.displayName" inActionPanel="false" toolTip="admin.dataMaintenance.actions.drop.confirm" relativeIconFileName="shared/icons/Script.gif"
			iconStyleClass="fa fa-pencil" />
		<action className="Sync" displayName="admin.dataMaintenance.actions.sync.displayName" inActionPanel="false" toolTip="admin.dataMaintenance.actions.sync.confirm"
			relativeIconFileName="shared/icons/Script.gif" iconStyleClass="fa fa-refresh" />
		<upload className="UploadBackup" displayName="admin.dataMaintenance.actions.uploadBackup.displayName" inActionPanel="false" />
		<action className="RefreshBackupList" inActionPanel="false" displayName="admin.dataMaintenance.actions.refreshBackupList.displayName" toolTip="admin.dataMaintenance.actions.refreshBackupList.toolTip" iconStyleClass="fa fa-refresh"/>
		
		<!-- Only required for migration from legacy versions -->
		<action className="CheckContent" displayName="admin.dataMaintenance.actions.checkContent.displayName" inActionPanel="false" visible="false" />
		<action className="MigrateContent" displayName="admin.dataMaintenance.actions.migrateContent.displayName" inActionPanel="false" confirm="admin.dataMaintenance.acitons.migrateContent.confirm" visible="false" />
		<action className="MigrateContentFiles" displayName="admin.dataMaintenance.actions.migrateContentFiles.displayName" inActionPanel="false" confirm="admin.dataMaintenance.actions.migrateContentFiles.confirm" visible="false" />
	</actions>
</view>
